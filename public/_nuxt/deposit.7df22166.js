import{_ as Mr}from"./back.446a65ac.js";import{_ as Rr}from"./refresh-icon.8ac89834.js";import{_ as Lr,a as qr}from"./swap-setting.6f15597d.js";import{a as ze,r as A,b as on,e as Qe,f as Wn,h as Er,i as ee,j as Gt,k as Ve,o as v,l as _,m as c,t as y,c as fe,p as R,q as we,s as It,v as $t,w as ye,x as rn,y as Kn,z as dn,A as Ao,D as F,B as it,C as Se,E as ue,F as he,G as _t,H as Si,I as Ti,J as rt,S as Ni,K as Yn,L as Dt,M as Fr,N as Ur,O as Or,P as Wo,Q as Zt,R as no,T as un,U as Mi,V as So,W as Ri,X as Br,Y as To,Z as Li,$ as Dr,a0 as oo,a1 as Wt,a2 as Ko}from"./entry.0335369b.js";import{_ as Hr,a as Xr}from"./coin-select.195784f7.js";import{_ as qi,a as Ei,b as zr}from"./add-liquidity.f548475b.js";import{_ as Vr}from"./apr-tab.f77a9a90.js";import{_ as jr}from"./apr-tips.abd84934.js";import{p as Wr}from"./precision.ce0280e5.js";import{_ as Kr}from"./status-block.e431f80e.js";import{_ as No,a as Mo}from"./icon-arrow_2x.db44c7c5.js";import{_ as Fi}from"./coin-pair-name.77e2c398.js";import"./index.4ed455e2.js";import"./img-no-Positions_2x.e41c0467.js";import"./index.def1f6f0.js";const Yr={1e-4:2,5e-4:10,.002:60,.006:200},Gr={1e-4:2,5e-4:10,.0025:60,.01:200},Qr=ze({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const n=A(!1),o=A(null),i=A(0),r=A(20),a=on(),l=Qe(),s=A(!1);Wn(()=>{e.poolInfo&&u()}),Er(()=>{clearInterval(o.value)});const u=()=>{o.value=setInterval(()=>{var w;s.value||i.value<r.value&&(i.value+=1,i.value===r.value&&((w=e==null?void 0:e.poolInfo)!=null&&w.poolAddress&&a.updateCurrentPools(e.poolInfo.poolAddress,l.chainName),i.value=0))},1e3)},f=ee(()=>l.slippage);return{clickRefresh:()=>{i.value=0,t.emit("clickRefresh")},isShowSwapSetting:n,countdown:i,autoRefreshTime:r,slippage:f,clearAll:()=>{t.emit("clearAll")},checkNullObj:Gt}}});const Jr=e=>(It("data-v-77295f9a"),e=e(),$t(),e),Zr={class:"title"},xr={class:"left"},ea=Jr(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),ta={class:"deposit-progress"};function na(e,t,n,o,i,r){const a=Rr,l=Lr;return v(),_("div",Zr,[c("div",xr,[c("span",null,y(e.poolInfo?e.$t("common.concentratedLiquidity"):e.$t("newAdd.createClmmPool")),1)]),c("div",{class:we(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[c("div",{class:"slippage-icon",onClick:t[0]||(t[0]=s=>e.isShowSwapSetting=!0)},[ea,c("span",null,y(e.slippage)+"%",1)]),c("div",ta,[e.poolInfo?(v(),fe(a,{key:0,loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])):R("",!0)])],2),e.isShowSwapSetting?(v(),fe(l,{key:0,onOnClose:t[1]||(t[1]=s=>e.isShowSwapSetting=!1)})):R("",!0)])}const oa=Ve(Qr,[["render",na],["__scopeId","data-v-77295f9a"]]);const ia=ze({props:{coinIcon:{type:String,default:""},coin:{type:Object,default:()=>({})}},setup(e){const t=Qe(),n=ee(()=>t),o=A(""),i=A(""),r=A(""),a=on(),l=ee(()=>a);return ye(()=>[e.coin,l.value.tokensObj],([s,u])=>{var f;s?(i.value=u&&u[s.address]&&((f=u[s.address])==null?void 0:f.labels),o.value=s.name,r.value=s.symbol):(i.value="",o.value="",r.value="")},{immediate:!0,deep:!0}),{store:n,importIcon:rn,coinName:o,coinLabels:i,coinSymbol:r}}}),ra=e=>(It("data-v-f60c233a"),e=e(),$t(),e),aa={class:"coin-block"},sa=["src"],la={class:"coin-info"},ua={class:"symbol"},ca={key:0,class:"name"},fa=ra(()=>c("div",null,[c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon_on"})])],-1));function da(e,t,n,o,i,r){return v(),_("div",aa,[c("div",null,[c("img",{src:e.coinIcon?e.coinIcon:e.store.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png")},null,8,sa),c("div",la,[c("div",ua,y(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinName?(v(),_("div",ca,y(e.coinName)+" "+y(e.coinLabels?`(${e.coinLabels})`:""),1)):R("",!0)])]),fa])}const ma=Ve(ia,[["render",da],["__scopeId","data-v-f60c233a"]]),pa=ze({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})}},setup(){const e=Qe();return{storeIndex:ee(()=>e)}}});const ha={class:"unilateral"},va={key:0,src:qi,alt:""},ga={key:1,src:Ei,alt:""},ya={key:2};function ba(e,t,n,o,i,r){return v(),_("div",ha,[c("div",null,[e.storeIndex.theme=="default"?(v(),_("img",va)):(v(),_("img",ga)),e.fromCoin&&e.toCoin&&e.poolInfo?(v(),_("p",ya,y(e.$t("tips.marketprice")),1)):R("",!0)])])}const wa=Ve(pa,[["render",ba],["__scopeId","data-v-d81a96c0"]]),ka=ze({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})},showfromCoinLock:{type:Boolean,default:!1},showtoCoinLock:{type:Boolean,default:!1}},setup(){const e=Qe();return{storeIndex:ee(()=>e)}}});const Ca={class:"create-pool-lock"},_a={key:0,src:qi,alt:""},Pa={key:1,src:Ei,alt:""};function Ia(e,t,n,o,i,r){return v(),_("div",Ca,[c("div",null,[e.storeIndex.theme=="default"?(v(),_("img",_a)):(v(),_("img",Pa))])])}const $a=Ve(ka,[["render",Ia],["__scopeId","data-v-5d070e17"]]),Aa=ze({props:{minPrice:{type:String,default:""},maxPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},slippage:{type:Number,default:0},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""}},setup(e){const t=A(""),n=A(""),o=Qe(),i=ee(()=>o),r=ee(()=>i.value.chainName?Ao(i.value.chainName):{});console.log(e,"props====>");const a=Kn(),l=async()=>{var D;if(!e.minPrice&&!e.maxPrice)return;const{TickUtil:g,TickMath:w,getNearestTickByTick:I}=r.value,X=e.poolInfo.token_a.decimals,h=e.poolInfo.token_b.decimals;let P,C,b,d,k,M,J,U=1,te=1;const j=e.poolInfo.current_tick_index,T=e.poolInfo.priceConfigObj;if(e.poolInfo.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&e.poolInfo.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?J=!0:J=!1,e.minPrice==="0"&&e.maxPrice==="\u221E"?(b=g.getMinIndex(e.poolInfo.tickSpacing),d=g.getMaxIndex(e.poolInfo.tickSpacing),w.tickIndexToSqrtPriceX64(b),w.tickIndexToSqrtPriceX64(d)):e.currentPriceTab=="Custom"||((D=a==null?void 0:a.query)==null?void 0:D.action)?(J?(P=Number(e.minPrice),C=Number(e.maxPrice)):(P=1/Number(e.maxPrice),C=1/Number(e.minPrice)),console.log(P,"min===>"),k=w.priceToTickIndex(new F(P),X,h),M=w.priceToTickIndex(new F(C),X,h),P==0&&(k=-443630),console.log(k,"===>minTick"),console.log(e.poolInfo.tickSpacing,"===>props.poolInfo.tickSpacing"),b=I(k,Number(e.poolInfo.tickSpacing)),d=I(M,Number(e.poolInfo.tickSpacing)),console.log(b,d,"===>tick_upper"),w.priceToSqrtPriceX64(new F(P),X,h),w.priceToSqrtPriceX64(new F(C),X,h)):(b=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].lower,d=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].upper,w.tickIndexToSqrtPriceX64(b),w.tickIndexToSqrtPriceX64(d)),e.maxPrice==="\u221E"||j>b&&j<d){let x;if(e.fixedFromCoin){const G=new F(1).mul(Math.pow(10,e.fromCoin.decimals)).toString();x=new it(G)}else{const G=new F(1).mul(Math.pow(10,e.toCoin.decimals)).toString();x=new it(G)}const{tokenMaxA:K,tokenMaxB:Y}=await r.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:e.poolInfo.token_a,tokenB:e.poolInfo.token_b,lowerTick:b,upperTick:d,coinAmount:x,iscoinA:J?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(e.slippage)/100,curSqrtPrice:new it(e.poolInfo.current_sqrt_price)});J?e.fixedFromCoin?te=Number(Y)>0?Y:"":U=Number(K)>0?K:"":e.fixedFromCoin?te=K:U=Y}else j>=d?J?(te=1,U=0):(U=1,te=0):j<=b&&(J?(te=0,U=1):(te=1,U=0));console.log(j,"====>currentTickIndex"),console.log(d,"===>tick_upper"),console.log(b,"===>tick_lower");const Q=U?Number(U):0,L=te?Number(te):0,W=L+Number(J?Q*e.currentPrice:Q*e.currentPriceReverse);console.log(e.currentPrice,"===>props.currentPrice"),console.log(e.currentPriceReverse,"===>props.currentPriceReverse"),console.log(e.minPrice,"===>props.minPrice"),console.log(e.maxPrice,"===>props.maxPrice"),console.log(Q,"===>amountA"),console.log(L,"===>amountB");const ve=((J?e.currentPrice*Q:e.currentPriceReverse*Q)/W*100).toFixed(0);console.log(W,"===>totalAmount");const H=(L/W*100).toFixed(0);t.value=ve,n.value=H};ye(()=>[e.poolInfo,e.minPrice,e.maxPrice],([g,w,I])=>{w&&I&&g&&!Gt(g)?l():(t.value="",n.value="")},{immediate:!0,deep:!0});let s={};const u=on(),f=ee(()=>u);ye(()=>f.value.RATES,g=>{g&&(s=g)},{immediate:!0});const p=ee(()=>{const g=dn(Number(e.fromCoinAmount)*Number(s&&s[e.fromCoin.address]&&s[e.fromCoin.address].price),2),w=dn(Number(e.toCoinAmount)*Number(s&&s[e.toCoin.address]&&s[e.toCoin.address].price),2);return g!=="--"&&w!=="--"?Number(g)+Number(w):"--"});return{fromCoinRatio:t,toCoinRatio:n,totalAmount:p,fixD:dn}}});const Sa=e=>(It("data-v-f6a3a5bd"),e=e(),$t(),e),Ta={class:"deposit-ratio"},Na={class:"lebal"},Ma=Sa(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),Ra={class:"text"},La={key:0,class:"deposit-ratio totalAmount"},qa={class:"lebal"},Ea={class:"text"};function Fa(e,t,n,o,i,r){const a=Si;return v(),_(_t,null,[c("div",Ta,[c("div",Na,[Se(y(e.$t("newAdd.depositRatio"))+" ",1),ue(a,{placement:"bottom","arrow-point-at-center":""},{title:he(()=>[c("span",null,y(e.$t("newAdd.depositRatioTips")),1)]),default:he(()=>[Ma]),_:1})]),c("div",Ra,y(e.fromCoinRatio!=="--"?e.fromCoinRatio+"%":"--")+" "+y(e.fromCoinRatio!=="--"?e.fromCoin&&e.fromCoin.symbol:"")+" / "+y(e.toCoinRatio!=="--"?e.toCoinRatio+"%":"--")+" "+y(e.toCoinRatio!=="--"?e.toCoin&&e.toCoin.symbol:""),1)]),e.fromCoinAmount&&e.toCoinAmount?(v(),_("div",La,[c("div",qa,y(e.$t("newAdd.totalAmount")),1),c("div",Ea,"$"+y(e.fixD(e.totalAmount,2)),1)])):R("",!0)],64)}const Ua=Ve(Aa,[["render",Fa],["__scopeId","data-v-f6a3a5bd"]]),Oa=ze({props:{clickClear:{type:Boolean,default:!1},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},intPrice:{type:String,default:""}},setup(e,t){const n=A("");return{inpValue:n,changecurrentPrice:i=>{var a;console.log(i.target.value,"e.target.value");const r=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(a=e.fromCoin)==null?void 0:a.decimals}})?).*$`);i.target.value=i.target.value.replace(r,"$1"),n.value=i.target.value,console.log(n.value,"===>inpValue.value"),t.emit("changecurrentPrice",n.value)}}}});const Ba={class:"set-init-price"},Da={class:"init-price-tips"};function Ha(e,t,n,o,i,r){var l,s,u,f;const a=Ti;return v(),_("div",Ba,[ue(a,{type:"text",placeholder:"0.0",value:e.intPrice,disabled:!((s=(l=e.$route)==null?void 0:l.query)!=null&&s.fee),onChange:e.changecurrentPrice},null,8,["value","disabled","onChange"]),c("div",Da,y((u=e.toCoin)==null?void 0:u.symbol)+" per "+y((f=e.fromCoin)==null?void 0:f.symbol),1)])}const Xa=Ve(Oa,[["render",Ha],["__scopeId","data-v-8d2ae1a1"]]),za=-443630;function io(e,t){const n=Va(e),o=(n-za)%t;return o>t/2?n-o+t:n-o}const Ui=new F("1.0001");function Va(e){return e.log(Ui).toDP(0,F.ROUND_HALF_UP).toNumber()}function ro(e){return Ui.pow(e)}const ja=ze({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,t){const n=A(""),o=A("");let i=A(""),r=A("");const a=Kn(),l=()=>{if(Number.isNaN(n.value)||Number(n.value)!==0&&!n.value||!e.poolInfo.tickSpacing)return;const w=io(new F(n.value.toString()),Number(p.value.tickSpacing)),I=ro(w+Number(p.value.tickSpacing));if(e.pType=="Min"&&Number(I.toString())>=Number(r.value.toString()))return;const X=I.toString();t.emit("onInput",X)},s=()=>{if(Number.isNaN(n.value)||!n.value||!e.poolInfo.tickSpacing)return;const w=io(new F(n.value),Number(p.value.tickSpacing)),I=ro(w-Number(p.value.tickSpacing)),X=I.toString();e.pType=="Max"&&Number(I)<=Number(i.value)||t.emit("onInput",X)},u=w=>{let I=w.toString().replace(/[^\d.]/g,"");const X=/^\d+(\.\d+)?$/;I.split(".").length>2&&!X.exec(I)&&(I=I.substr(0,I.length-1)),o.value=I,(rt(I,6)>0||String(I)=="0")&&t.emit("onInput",I.toString())},f=w=>{const I=io(new F(w),Number(p.value.tickSpacing)),X=ro(I);console.log(X,"price====>"),t.emit("onInput",X.toString())};ye(()=>e.defaultMinPrice,(w,I)=>{w!==I&&(i.value=e.defaultMinPrice)},{immediate:!0}),ye(()=>e.defaultMaxPrice,(w,I)=>{w!==I&&(r.value=e.defaultMaxPrice)},{immediate:!0}),ye(()=>[e.inputValue,a.query.action],([w])=>{if(w&&w!=="0"&&w!=="\u221E"){n.value=w;const X=w.toString().split(".")[1];o.value=w!=="0"&&w!=="\u221E"&&X&&X.length>6?rt(w.toString(),6):w.toString()}else(w=="0"||w=="\u221E"||a.query.action)&&(o.value=w)},{immediate:!0});const p=A({});ye(()=>e.poolInfo,(w,I)=>{w&&(p.value=w)},{immediate:!0});const g=A("");return ye(()=>e.currentPriceTab,w=>{g.value=w},{immediate:!0}),console.log(e,"props=======>"),{addPrice:l,minusPrice:s,oValue:o,changeValue:u,isDisabled:g,route:a,onBlur:f}}});const Wa={class:"set-price-item"},Ka={class:"title"},Ya={class:"input-box"},Ga={class:"minus-btn"},Qa=["disabled"],Ja={class:"plus-btn"};function Za(e,t,n,o,i,r){const a=Ti,l=Ni;return v(),_("div",Wa,[c("div",Ka,y(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),ue(l,{loading:e.loading,active:"",paragraph:!1},{default:he(()=>[c("div",Ya,[c("a",Ga,[c("div",{class:we(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),disabled:e.isDisabled!=="Custom",onClick:t[0]||(t[0]=(...s)=>e.minusPrice&&e.minusPrice(...s))},null,10,Qa)]),ue(a,{id:"pValu",value:e.oValue,"onUpdate:value":t[1]||(t[1]=s=>e.oValue=s),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:t[2]||(t[2]=s=>e.changeValue(s.target.value)),onBlur:t[3]||(t[3]=s=>e.onBlur(s.target.value))},null,8,["value","disabled"]),c("a",Ja,[c("div",{class:we(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:t[4]||(t[4]=(...s)=>e.addPrice&&e.addPrice(...s))},null,2)])])]),_:1},8,["loading"]),c("p",{class:we(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},y(e.toCoin&&e.toCoin.symbol)+" per "+y(e.fromCoin&&e.fromCoin.symbol),3)])}const Yo=Ve(ja,[["render",Za],["__scopeId","data-v-b44f8bf6"]]),xa=ze({props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,t){let n=A(""),o=A(""),i=A(),r=A(!1),a=A(!1);const l=A({}),s=Qe(),u=ee(()=>s);Wn(()=>{n.value=e.min,o.value=e.max}),ye(()=>e.currentPriceTab,(h,P)=>{h!==P&&(i.value=e.currentPriceTab)},{immediate:!0}),ye(()=>e.min,(h,P)=>{h!==P&&(n.value=h,console.log(e.min,"===> props.min"))}),ye(()=>e.max,(h,P)=>{h!==P&&(o.value=h)}),ye(()=>e.poolInfo,(h,P)=>{h&&(l.value=h)},{immediate:!0});const f=A("");ye(()=>e.intPrice,h=>{console.log(e.intPrice,"===>props.intPrice"),f.value=h},{immediate:!0,deep:!0});const p=h=>{console.log(h,"val===>"),n.value=h,t.emit("onChangeMinPrice",h)},g=h=>{o.value=h,t.emit("onChangeMaxPrice",h)};ye(r,(h,P)=>{h!==P&&t.emit("onChangeFullRange",h)});const w=()=>{n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice,a.value=!1,r.value=!1},I=()=>{a.value=!1,n.value="0",o.value="\u221E"};return ye(r,(h,P)=>{h!==P&&t.emit("onChangeFullRange",h)}),{store:u,changeMinPrice:p,changeMaxPrice:g,importIcon:rn,resetPrice:w,changeShowUnderStand:()=>{r.value=!r.value,r.value?a.value=!0:w(),a.value||(n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice)},showUnderStand:a,minPrice:n,maxPrice:o,understand:I,isRadio:r,initPirce:f}}});const es={class:"set-price"},ts={class:"card-container"},ns={key:0,class:"card"},os=["src"],is={key:1,class:"understand"},rs={class:"left"},as={class:"right"};function ss(e,t,n,o,i,r){const a=Yo,l=Yo,s=Yn;return v(),_("div",es,[c("div",ts,[e.showUnderStand?(v(),_("div",is,[c("div",rs,[c("p",null,y(e.$t("common.lowerEfficiency")),1),c("p",null,y(e.$t("common.lowerEfficiencyTips")),1)]),c("div",as,[ue(s,{onClick:e.understand},{default:he(()=>[Se(y(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(v(),_("div",ns,[ue(a,{value:e.minPrice,"onUpdate:value":t[0]||(t[0]=u=>e.minPrice=u),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),ue(l,{value:e.maxPrice,"onUpdate:value":t[1]||(t[1]=u=>e.maxPrice=u),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"]),c("img",{src:e.importIcon("/image/lmg-line@2x.png"),alt:""},null,8,os)]))])])}const ls=Ve(xa,[["render",ss],["__scopeId","data-v-01a6f14e"]]);function Nn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function us(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Oi(e){let t,n,o;e.length!==2?(t=Nn,n=(l,s)=>Nn(e(l),s),o=(l,s)=>e(l)-s):(t=e===Nn||e===us?e:cs,n=e,o=e);function i(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const p=u+f>>>1;n(l[p],s)<0?u=p+1:f=p}while(u<f)}return u}function r(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const p=u+f>>>1;n(l[p],s)<=0?u=p+1:f=p}while(u<f)}return u}function a(l,s,u=0,f=l.length){const p=i(l,s,u,f-1);return p>u&&o(l[p-1],s)>-o(l[p],s)?p-1:p}return{left:i,center:a,right:r}}function cs(){return 0}function fs(e){return e===null?NaN:+e}const ds=Oi(Nn),ms=ds.right;Oi(fs).center;const ps=ms;class Go extends Map{constructor(t,n=gs){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[o,i]of t)this.set(o,i)}get(t){return super.get(Qo(this,t))}has(t){return super.has(Qo(this,t))}set(t,n){return super.set(hs(this,t),n)}delete(t){return super.delete(vs(this,t))}}function Qo({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):n}function hs({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):(e.set(o,n),n)}function vs({_intern:e,_key:t},n){const o=t(n);return e.has(o)&&(n=e.get(o),e.delete(o)),n}function gs(e){return e!==null&&typeof e=="object"?e.valueOf():e}const ys=Math.sqrt(50),bs=Math.sqrt(10),ws=Math.sqrt(2);function En(e,t,n){const o=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),a=r>=ys?10:r>=bs?5:r>=ws?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?En(e,t,n*2):[l,s,u]}function ks(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const o=t<e,[i,r,a]=o?En(t,e,n):En(e,t,n);if(!(r>=i))return[];const l=r-i+1,s=new Array(l);if(o)if(a<0)for(let u=0;u<l;++u)s[u]=(r-u)/-a;else for(let u=0;u<l;++u)s[u]=(r-u)*a;else if(a<0)for(let u=0;u<l;++u)s[u]=(i+u)/-a;else for(let u=0;u<l;++u)s[u]=(i+u)*a;return s}function ho(e,t,n){return t=+t,e=+e,n=+n,En(e,t,n)[2]}function Cs(e,t,n){t=+t,e=+e,n=+n;const o=t<e,i=o?ho(t,e,n):ho(e,t,n);return(o?-1:1)*(i<0?1/-i:i)}function _s(e,t){let n;if(t===void 0)for(const o of e)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Ps(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var o=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(i);++o<i;)r[o]=e+o*n;return r}var Is={value:()=>{}};function Ro(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Mn(n)}function Mn(e){this._=e}function $s(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Mn.prototype=Ro.prototype={constructor:Mn,on:function(e,t){var n=this._,o=$s(e+"",n),i,r=-1,a=o.length;if(arguments.length<2){for(;++r<a;)if((i=(e=o[r]).type)&&(i=As(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<a;)if(i=(e=o[r]).type)n[i]=Jo(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Jo(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Mn(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};function As(e,t){for(var n=0,o=e.length,i;n<o;++n)if((i=e[n]).name===t)return i.value}function Jo(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=Is,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var vo="http://www.w3.org/1999/xhtml";const Zo={svg:"http://www.w3.org/2000/svg",xhtml:vo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Zo.hasOwnProperty(t)?{space:Zo[t],local:e}:e}function Ss(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===vo&&t.documentElement.namespaceURI===vo?t.createElement(e):t.createElementNS(n,e)}}function Ts(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bi(e){var t=Gn(e);return(t.local?Ts:Ss)(t)}function Ns(){}function Lo(e){return e==null?Ns:function(){return this.querySelector(e)}}function Ms(e){typeof e!="function"&&(e=Lo(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=new Array(a),s,u,f=0;f<a;++f)(s=r[f])&&(u=e.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),l[f]=u);return new Je(o,this._parents)}function Rs(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ls(){return[]}function Di(e){return e==null?Ls:function(){return this.querySelectorAll(e)}}function qs(e){return function(){return Rs(e.apply(this,arguments))}}function Es(e){typeof e=="function"?e=qs(e):e=Di(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var a=t[r],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(o.push(e.call(s,s.__data__,u,a)),i.push(s));return new Je(o,i)}function Hi(e){return function(){return this.matches(e)}}function Xi(e){return function(t){return t.matches(e)}}var Fs=Array.prototype.find;function Us(e){return function(){return Fs.call(this.children,e)}}function Os(){return this.firstElementChild}function Bs(e){return this.select(e==null?Os:Us(typeof e=="function"?e:Xi(e)))}var Ds=Array.prototype.filter;function Hs(){return Array.from(this.children)}function Xs(e){return function(){return Ds.call(this.children,e)}}function zs(e){return this.selectAll(e==null?Hs:Xs(typeof e=="function"?e:Xi(e)))}function Vs(e){typeof e!="function"&&(e=Hi(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=[],s,u=0;u<a;++u)(s=r[u])&&e.call(s,s.__data__,u,r)&&l.push(s);return new Je(o,this._parents)}function zi(e){return new Array(e.length)}function js(){return new Je(this._enter||this._groups.map(zi),this._parents)}function Fn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Fn.prototype={constructor:Fn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ws(e){return function(){return e}}function Ks(e,t,n,o,i,r){for(var a=0,l,s=t.length,u=r.length;a<u;++a)(l=t[a])?(l.__data__=r[a],o[a]=l):n[a]=new Fn(e,r[a]);for(;a<s;++a)(l=t[a])&&(i[a]=l)}function Ys(e,t,n,o,i,r,a){var l,s,u=new Map,f=t.length,p=r.length,g=new Array(f),w;for(l=0;l<f;++l)(s=t[l])&&(g[l]=w=a.call(s,s.__data__,l,t)+"",u.has(w)?i[l]=s:u.set(w,s));for(l=0;l<p;++l)w=a.call(e,r[l],l,r)+"",(s=u.get(w))?(o[l]=s,s.__data__=r[l],u.delete(w)):n[l]=new Fn(e,r[l]);for(l=0;l<f;++l)(s=t[l])&&u.get(g[l])===s&&(i[l]=s)}function Gs(e){return e.__data__}function Qs(e,t){if(!arguments.length)return Array.from(this,Gs);var n=t?Ys:Ks,o=this._parents,i=this._groups;typeof e!="function"&&(e=Ws(e));for(var r=i.length,a=new Array(r),l=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],p=i[u],g=p.length,w=Js(e.call(f,f&&f.__data__,u,o)),I=w.length,X=l[u]=new Array(I),h=a[u]=new Array(I),P=s[u]=new Array(g);n(f,p,X,h,P,w,t);for(var C=0,b=0,d,k;C<I;++C)if(d=X[C]){for(C>=b&&(b=C+1);!(k=h[b])&&++b<I;);d._next=k||null}}return a=new Je(a,o),a._enter=l,a._exit=s,a}function Js(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zs(){return new Je(this._exit||this._groups.map(zi),this._parents)}function xs(e,t,n){var o=this.enter(),i=this,r=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function el(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,a=Math.min(i,r),l=new Array(i),s=0;s<a;++s)for(var u=n[s],f=o[s],p=u.length,g=l[s]=new Array(p),w,I=0;I<p;++I)(w=u[I]||f[I])&&(g[I]=w);for(;s<i;++s)l[s]=n[s];return new Je(l,this._parents)}function tl(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],i=o.length-1,r=o[i],a;--i>=0;)(a=o[i])&&(r&&a.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(a,r),r=a);return this}function nl(e){e||(e=ol);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a=n[r],l=a.length,s=i[r]=new Array(l),u,f=0;f<l;++f)(u=a[f])&&(s[f]=u);s.sort(t)}return new Je(i,this._parents).order()}function ol(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function il(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function rl(){return Array.from(this)}function al(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null}function sl(){let e=0;for(const t of this)++e;return e}function ll(){return!this.node()}function ul(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i=t[n],r=0,a=i.length,l;r<a;++r)(l=i[r])&&e.call(l,l.__data__,r,i);return this}function cl(e){return function(){this.removeAttribute(e)}}function fl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dl(e,t){return function(){this.setAttribute(e,t)}}function ml(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function hl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function vl(e,t){var n=Gn(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?fl:cl:typeof t=="function"?n.local?hl:pl:n.local?ml:dl)(n,t))}function Vi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gl(e){return function(){this.style.removeProperty(e)}}function yl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function bl(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function wl(e,t,n){return arguments.length>1?this.each((t==null?gl:typeof t=="function"?bl:yl)(e,t,n==null?"":n)):en(this.node(),e)}function en(e,t){return e.style.getPropertyValue(t)||Vi(e).getComputedStyle(e,null).getPropertyValue(t)}function kl(e){return function(){delete this[e]}}function Cl(e,t){return function(){this[e]=t}}function _l(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Pl(e,t){return arguments.length>1?this.each((t==null?kl:typeof t=="function"?_l:Cl)(e,t)):this.node()[e]}function ji(e){return e.trim().split(/^|\s+/)}function qo(e){return e.classList||new Wi(e)}function Wi(e){this._node=e,this._names=ji(e.getAttribute("class")||"")}Wi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ki(e,t){for(var n=qo(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function Yi(e,t){for(var n=qo(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function Il(e){return function(){Ki(this,e)}}function $l(e){return function(){Yi(this,e)}}function Al(e,t){return function(){(t.apply(this,arguments)?Ki:Yi)(this,e)}}function Sl(e,t){var n=ji(e+"");if(arguments.length<2){for(var o=qo(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Al:t?Il:$l)(n,t))}function Tl(){this.textContent=""}function Nl(e){return function(){this.textContent=e}}function Ml(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Rl(e){return arguments.length?this.each(e==null?Tl:(typeof e=="function"?Ml:Nl)(e)):this.node().textContent}function Ll(){this.innerHTML=""}function ql(e){return function(){this.innerHTML=e}}function El(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Fl(e){return arguments.length?this.each(e==null?Ll:(typeof e=="function"?El:ql)(e)):this.node().innerHTML}function Ul(){this.nextSibling&&this.parentNode.appendChild(this)}function Ol(){return this.each(Ul)}function Bl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dl(){return this.each(Bl)}function Hl(e){var t=typeof e=="function"?e:Bi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Xl(){return null}function zl(e,t){var n=typeof e=="function"?e:Bi(e),o=t==null?Xl:typeof t=="function"?t:Lo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Vl(){var e=this.parentNode;e&&e.removeChild(this)}function jl(){return this.each(Vl)}function Wl(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Kl(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Yl(e){return this.select(e?Kl:Wl)}function Gl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ql(e){return function(t){e.call(this,t,this.__data__)}}function Jl(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Zl(e){return function(){var t=this.__on;if(!!t){for(var n=0,o=-1,i=t.length,r;n<i;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++o]=r;++o?t.length=o:delete this.__on}}}function xl(e,t,n){return function(){var o=this.__on,i,r=Ql(t);if(o){for(var a=0,l=o.length;a<l;++a)if((i=o[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=t;return}}this.addEventListener(e.type,r,n),i={type:e.type,name:e.name,value:t,listener:r,options:n},o?o.push(i):this.__on=[i]}}function eu(e,t,n){var o=Jl(e+""),i,r=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,f;s<u;++s)for(i=0,f=l[s];i<r;++i)if((a=o[i]).type===f.type&&a.name===f.name)return f.value}return}for(l=t?xl:Zl,i=0;i<r;++i)this.each(l(o[i],t,n));return this}function Gi(e,t,n){var o=Vi(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function tu(e,t){return function(){return Gi(this,e,t)}}function nu(e,t){return function(){return Gi(this,e,t.apply(this,arguments))}}function ou(e,t){return this.each((typeof t=="function"?nu:tu)(e,t))}function*iu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length,a;i<r;++i)(a=o[i])&&(yield a)}var Qi=[null];function Je(e,t){this._groups=e,this._parents=t}function vn(){return new Je([[document.documentElement]],Qi)}function ru(){return this}Je.prototype=vn.prototype={constructor:Je,select:Ms,selectAll:Es,selectChild:Bs,selectChildren:zs,filter:Vs,data:Qs,enter:js,exit:Zs,join:xs,merge:el,selection:ru,order:tl,sort:nl,call:il,nodes:rl,node:al,size:sl,empty:ll,each:ul,attr:vl,style:wl,property:Pl,classed:Sl,text:Rl,html:Fl,raise:Ol,lower:Dl,append:Hl,insert:zl,remove:jl,clone:Yl,datum:Gl,on:eu,dispatch:ou,[Symbol.iterator]:iu};function st(e){return typeof e=="string"?new Je([[document.querySelector(e)]],[document.documentElement]):new Je([[e]],Qi)}function au(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xo(e,t){if(e=au(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const go={capture:!0,passive:!1};function yo(e){e.preventDefault(),e.stopImmediatePropagation()}function su(e){var t=e.document.documentElement,n=st(e).on("dragstart.drag",yo,go);"onselectstart"in t?n.on("selectstart.drag",yo,go):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function lu(e,t){var n=e.document.documentElement,o=st(e).on("dragstart.drag",null);t&&(o.on("click.drag",yo,go),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Eo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ji(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function gn(){}var mn=.7,Un=1/mn,xt="\\s*([+-]?\\d+)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uu=/^#([0-9a-f]{3,8})$/,cu=new RegExp(`^rgb\\(${xt},${xt},${xt}\\)$`),fu=new RegExp(`^rgb\\(${mt},${mt},${mt}\\)$`),du=new RegExp(`^rgba\\(${xt},${xt},${xt},${pn}\\)$`),mu=new RegExp(`^rgba\\(${mt},${mt},${mt},${pn}\\)$`),pu=new RegExp(`^hsl\\(${pn},${mt},${mt}\\)$`),hu=new RegExp(`^hsla\\(${pn},${mt},${mt},${pn}\\)$`),ei={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Eo(gn,Ht,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ti,formatHex:ti,formatHex8:vu,formatHsl:gu,formatRgb:ni,toString:ni});function ti(){return this.rgb().formatHex()}function vu(){return this.rgb().formatHex8()}function gu(){return Zi(this).formatHsl()}function ni(){return this.rgb().formatRgb()}function Ht(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=uu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?oi(t):n===3?new Xe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$n(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$n(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cu.exec(e))?new Xe(t[1],t[2],t[3],1):(t=fu.exec(e))?new Xe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=du.exec(e))?$n(t[1],t[2],t[3],t[4]):(t=mu.exec(e))?$n(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pu.exec(e))?ai(t[1],t[2]/100,t[3]/100,1):(t=hu.exec(e))?ai(t[1],t[2]/100,t[3]/100,t[4]):ei.hasOwnProperty(e)?oi(ei[e]):e==="transparent"?new Xe(NaN,NaN,NaN,0):null}function oi(e){return new Xe(e>>16&255,e>>8&255,e&255,1)}function $n(e,t,n,o){return o<=0&&(e=t=n=NaN),new Xe(e,t,n,o)}function yu(e){return e instanceof gn||(e=Ht(e)),e?(e=e.rgb(),new Xe(e.r,e.g,e.b,e.opacity)):new Xe}function bo(e,t,n,o){return arguments.length===1?yu(e):new Xe(e,t,n,o==null?1:o)}function Xe(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Eo(Xe,bo,Ji(gn,{brighter(e){return e=e==null?Un:Math.pow(Un,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mn:Math.pow(mn,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xe(Bt(this.r),Bt(this.g),Bt(this.b),On(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ii,formatHex:ii,formatHex8:bu,formatRgb:ri,toString:ri}));function ii(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}`}function bu(){return`#${Ot(this.r)}${Ot(this.g)}${Ot(this.b)}${Ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function ri(){const e=On(this.opacity);return`${e===1?"rgb(":"rgba("}${Bt(this.r)}, ${Bt(this.g)}, ${Bt(this.b)}${e===1?")":`, ${e})`}`}function On(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ot(e){return e=Bt(e),(e<16?"0":"")+e.toString(16)}function ai(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new lt(e,t,n,o)}function Zi(e){if(e instanceof lt)return new lt(e.h,e.s,e.l,e.opacity);if(e instanceof gn||(e=Ht(e)),!e)return new lt;if(e instanceof lt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),a=NaN,l=r-i,s=(r+i)/2;return l?(t===r?a=(n-o)/l+(n<o)*6:n===r?a=(o-t)/l+2:a=(t-n)/l+4,l/=s<.5?r+i:2-r-i,a*=60):l=s>0&&s<1?0:a,new lt(a,l,s,e.opacity)}function wu(e,t,n,o){return arguments.length===1?Zi(e):new lt(e,t,n,o==null?1:o)}function lt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Eo(lt,wu,Ji(gn,{brighter(e){return e=e==null?Un:Math.pow(Un,e),new lt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mn:Math.pow(mn,e),new lt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new Xe(ao(e>=240?e-240:e+120,i,o),ao(e,i,o),ao(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new lt(si(this.h),An(this.s),An(this.l),On(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=On(this.opacity);return`${e===1?"hsl(":"hsla("}${si(this.h)}, ${An(this.s)*100}%, ${An(this.l)*100}%${e===1?")":`, ${e})`}`}}));function si(e){return e=(e||0)%360,e<0?e+360:e}function An(e){return Math.max(0,Math.min(1,e||0))}function ao(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Fo=e=>()=>e;function ku(e,t){return function(n){return e+n*t}}function Cu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function _u(e){return(e=+e)==1?xi:function(t,n){return n-t?Cu(t,n,e):Fo(isNaN(t)?n:t)}}function xi(e,t){var n=t-e;return n?ku(e,n):Fo(isNaN(e)?t:e)}const Bn=function e(t){var n=_u(t);function o(i,r){var a=n((i=bo(i)).r,(r=bo(r)).r),l=n(i.g,r.g),s=n(i.b,r.b),u=xi(i.opacity,r.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=e,o}(1);function Pu(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=e[i]*(1-r)+t[i]*r;return o}}function Iu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $u(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,i=new Array(o),r=new Array(n),a;for(a=0;a<o;++a)i[a]=Qn(e[a],t[a]);for(;a<n;++a)r[a]=t[a];return function(l){for(a=0;a<o;++a)r[a]=i[a](l);return r}}function Au(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function at(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Su(e,t){var n={},o={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Qn(e[i],t[i]):o[i]=t[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var wo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,so=new RegExp(wo.source,"g");function Tu(e){return function(){return e}}function Nu(e){return function(t){return e(t)+""}}function er(e,t){var n=wo.lastIndex=so.lastIndex=0,o,i,r,a=-1,l=[],s=[];for(e=e+"",t=t+"";(o=wo.exec(e))&&(i=so.exec(t));)(r=i.index)>n&&(r=t.slice(n,r),l[a]?l[a]+=r:l[++a]=r),(o=o[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:at(o,i)})),n=so.lastIndex;return n<t.length&&(r=t.slice(n),l[a]?l[a]+=r:l[++a]=r),l.length<2?s[0]?Nu(s[0].x):Tu(t):(t=s.length,function(u){for(var f=0,p;f<t;++f)l[(p=s[f]).i]=p.x(u);return l.join("")})}function Qn(e,t){var n=typeof t,o;return t==null||n==="boolean"?Fo(t):(n==="number"?at:n==="string"?(o=Ht(t))?(t=o,Bn):er:t instanceof Ht?Bn:t instanceof Date?Au:Iu(t)?Pu:Array.isArray(t)?$u:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Su:at)(e,t)}function Mu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var li=180/Math.PI,ko={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tr(e,t,n,o,i,r){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,s/=l),e*o<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*li,skewX:Math.atan(s)*li,scaleX:a,scaleY:l}}var Sn;function Ru(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ko:tr(t.a,t.b,t.c,t.d,t.e,t.f)}function Lu(e){return e==null||(Sn||(Sn=document.createElementNS("http://www.w3.org/2000/svg","g")),Sn.setAttribute("transform",e),!(e=Sn.transform.baseVal.consolidate()))?ko:(e=e.matrix,tr(e.a,e.b,e.c,e.d,e.e,e.f))}function nr(e,t,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,p,g,w,I){if(u!==p||f!==g){var X=w.push("translate(",null,t,null,n);I.push({i:X-4,x:at(u,p)},{i:X-2,x:at(f,g)})}else(p||g)&&w.push("translate("+p+t+g+n)}function a(u,f,p,g){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),g.push({i:p.push(i(p)+"rotate(",null,o)-2,x:at(u,f)})):f&&p.push(i(p)+"rotate("+f+o)}function l(u,f,p,g){u!==f?g.push({i:p.push(i(p)+"skewX(",null,o)-2,x:at(u,f)}):f&&p.push(i(p)+"skewX("+f+o)}function s(u,f,p,g,w,I){if(u!==p||f!==g){var X=w.push(i(w)+"scale(",null,",",null,")");I.push({i:X-4,x:at(u,p)},{i:X-2,x:at(f,g)})}else(p!==1||g!==1)&&w.push(i(w)+"scale("+p+","+g+")")}return function(u,f){var p=[],g=[];return u=e(u),f=e(f),r(u.translateX,u.translateY,f.translateX,f.translateY,p,g),a(u.rotate,f.rotate,p,g),l(u.skewX,f.skewX,p,g),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,p,g),u=f=null,function(w){for(var I=-1,X=g.length,h;++I<X;)p[(h=g[I]).i]=h.x(w);return p.join("")}}}var qu=nr(Ru,"px, ","px)","deg)"),Eu=nr(Lu,", ",")",")"),tn=0,cn=0,ln=0,or=1e3,Dn,fn,Hn=0,Xt=0,Jn=0,hn=typeof performance=="object"&&performance.now?performance:Date,ir=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Uo(){return Xt||(ir(Fu),Xt=hn.now()+Jn)}function Fu(){Xt=0}function Xn(){this._call=this._time=this._next=null}Xn.prototype=rr.prototype={constructor:Xn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Uo():+n)+(t==null?0:+t),!this._next&&fn!==this&&(fn?fn._next=this:Dn=this,fn=this),this._call=e,this._time=n,Co()},stop:function(){this._call&&(this._call=null,this._time=1/0,Co())}};function rr(e,t,n){var o=new Xn;return o.restart(e,t,n),o}function Uu(){Uo(),++tn;for(var e=Dn,t;e;)(t=Xt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--tn}function ui(){Xt=(Hn=hn.now())+Jn,tn=cn=0;try{Uu()}finally{tn=0,Bu(),Xt=0}}function Ou(){var e=hn.now(),t=e-Hn;t>or&&(Jn-=t,Hn=e)}function Bu(){for(var e,t=Dn,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Dn=n);fn=e,Co(o)}function Co(e){if(!tn){cn&&(cn=clearTimeout(cn));var t=e-Xt;t>24?(e<1/0&&(cn=setTimeout(ui,e-hn.now()-Jn)),ln&&(ln=clearInterval(ln))):(ln||(Hn=hn.now(),ln=setInterval(Ou,or)),tn=1,ir(ui))}}function ci(e,t,n){var o=new Xn;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}var Du=Ro("start","end","cancel","interrupt"),Hu=[],ar=0,fi=1,_o=2,Rn=3,di=4,Po=5,Ln=6;function Zn(e,t,n,o,i,r){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Xu(e,n,{name:t,index:o,group:i,on:Du,tween:Hu,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:ar})}function Oo(e,t){var n=ut(e,t);if(n.state>ar)throw new Error("too late; already scheduled");return n}function pt(e,t){var n=ut(e,t);if(n.state>Rn)throw new Error("too late; already running");return n}function ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Xu(e,t,n){var o=e.__transition,i;o[t]=n,n.timer=rr(r,0,n.time);function r(u){n.state=fi,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,p,g,w;if(n.state!==fi)return s();for(f in o)if(w=o[f],w.name===n.name){if(w.state===Rn)return ci(a);w.state===di?(w.state=Ln,w.timer.stop(),w.on.call("interrupt",e,e.__data__,w.index,w.group),delete o[f]):+f<t&&(w.state=Ln,w.timer.stop(),w.on.call("cancel",e,e.__data__,w.index,w.group),delete o[f])}if(ci(function(){n.state===Rn&&(n.state=di,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=_o,n.on.call("start",e,e.__data__,n.index,n.group),n.state===_o){for(n.state=Rn,i=new Array(g=n.tween.length),f=0,p=-1;f<g;++f)(w=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++p]=w);i.length=p+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Po,1),p=-1,g=i.length;++p<g;)i[p].call(e,f);n.state===Po&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Ln,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Io(e,t){var n=e.__transition,o,i,r=!0,a;if(!!n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){r=!1;continue}i=o.state>_o&&o.state<Po,o.state=Ln,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}r&&delete e.__transition}}function zu(e){return this.each(function(){Io(this,e)})}function Vu(e,t){var n,o;return function(){var i=pt(this,e),r=i.tween;if(r!==n){o=n=r;for(var a=0,l=o.length;a<l;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function ju(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=pt(this,e),a=r.tween;if(a!==o){i=(o=a).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}r.tween=i}}function Wu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=ut(this.node(),n).tween,i=0,r=o.length,a;i<r;++i)if((a=o[i]).name===e)return a.value;return null}return this.each((t==null?Vu:ju)(n,e,t))}function Bo(e,t,n){var o=e._id;return e.each(function(){var i=pt(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ut(i,o).value[t]}}function sr(e,t){var n;return(typeof t=="number"?at:t instanceof Ht?Bn:(n=Ht(t))?(t=n,Bn):er)(e,t)}function Ku(e){return function(){this.removeAttribute(e)}}function Yu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gu(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}}function Qu(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}function Ju(e,t,n){var o,i,r;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l)))}}function Zu(e,t,n){var o,i,r;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l)))}}function xu(e,t){var n=Gn(e),o=n==="transform"?Eu:sr;return this.attrTween(e,typeof t=="function"?(n.local?Zu:Ju)(n,o,Bo(this,"attr."+e,t)):t==null?(n.local?Yu:Ku)(n):(n.local?Qu:Gu)(n,o,t))}function ec(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tc(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nc(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&tc(e,r)),n}return i._value=t,i}function oc(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&ec(e,r)),n}return i._value=t,i}function ic(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Gn(e);return this.tween(n,(o.local?nc:oc)(o,t))}function rc(e,t){return function(){Oo(this,e).delay=+t.apply(this,arguments)}}function ac(e,t){return t=+t,function(){Oo(this,e).delay=t}}function sc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rc:ac)(t,e)):ut(this.node(),t).delay}function lc(e,t){return function(){pt(this,e).duration=+t.apply(this,arguments)}}function uc(e,t){return t=+t,function(){pt(this,e).duration=t}}function cc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lc:uc)(t,e)):ut(this.node(),t).duration}function fc(e,t){if(typeof t!="function")throw new Error;return function(){pt(this,e).ease=t}}function dc(e){var t=this._id;return arguments.length?this.each(fc(t,e)):ut(this.node(),t).ease}function mc(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;pt(this,e).ease=n}}function pc(e){if(typeof e!="function")throw new Error;return this.each(mc(this._id,e))}function hc(e){typeof e!="function"&&(e=Hi(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=[],s,u=0;u<a;++u)(s=r[u])&&e.call(s,s.__data__,u,r)&&l.push(s);return new Pt(o,this._parents,this._name,this._id)}function vc(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),a=new Array(o),l=0;l<r;++l)for(var s=t[l],u=n[l],f=s.length,p=a[l]=new Array(f),g,w=0;w<f;++w)(g=s[w]||u[w])&&(p[w]=g);for(;l<o;++l)a[l]=t[l];return new Pt(a,this._parents,this._name,this._id)}function gc(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function yc(e,t,n){var o,i,r=gc(t)?Oo:pt;return function(){var a=r(this,e),l=a.on;l!==o&&(i=(o=l).copy()).on(t,n),a.on=i}}function bc(e,t){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(e):this.each(yc(n,e,t))}function wc(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function kc(){return this.on("end.remove",wc(this._id))}function Cc(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Lo(e));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var l=o[a],s=l.length,u=r[a]=new Array(s),f,p,g=0;g<s;++g)(f=l[g])&&(p=e.call(f,f.__data__,g,l))&&("__data__"in f&&(p.__data__=f.__data__),u[g]=p,Zn(u[g],t,n,g,u,ut(f,n)));return new Pt(r,this._parents,t,n)}function _c(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Di(e));for(var o=this._groups,i=o.length,r=[],a=[],l=0;l<i;++l)for(var s=o[l],u=s.length,f,p=0;p<u;++p)if(f=s[p]){for(var g=e.call(f,f.__data__,p,s),w,I=ut(f,n),X=0,h=g.length;X<h;++X)(w=g[X])&&Zn(w,t,n,X,g,I);r.push(g),a.push(f)}return new Pt(r,a,t,n)}var Pc=vn.prototype.constructor;function Ic(){return new Pc(this._groups,this._parents)}function $c(e,t){var n,o,i;return function(){var r=en(this,e),a=(this.style.removeProperty(e),en(this,e));return r===a?null:r===n&&a===o?i:i=t(n=r,o=a)}}function lr(e){return function(){this.style.removeProperty(e)}}function Ac(e,t,n){var o,i=n+"",r;return function(){var a=en(this,e);return a===i?null:a===o?r:r=t(o=a,n)}}function Sc(e,t,n){var o,i,r;return function(){var a=en(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),en(this,e))),a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l))}}function Tc(e,t){var n,o,i,r="style."+t,a="end."+r,l;return function(){var s=pt(this,e),u=s.on,f=s.value[r]==null?l||(l=lr(t)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(a,i=f),s.on=o}}function Nc(e,t,n){var o=(e+="")=="transform"?qu:sr;return t==null?this.styleTween(e,$c(e,o)).on("end.style."+e,lr(e)):typeof t=="function"?this.styleTween(e,Sc(e,o,Bo(this,"style."+e,t))).each(Tc(this._id,e)):this.styleTween(e,Ac(e,o,t),n).on("end.style."+e,null)}function Mc(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Rc(e,t,n){var o,i;function r(){var a=t.apply(this,arguments);return a!==i&&(o=(i=a)&&Mc(e,a,n)),o}return r._value=t,r}function Lc(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Rc(e,t,n==null?"":n))}function qc(e){return function(){this.textContent=e}}function Ec(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Fc(e){return this.tween("text",typeof e=="function"?Ec(Bo(this,"text",e)):qc(e==null?"":e+""))}function Uc(e){return function(t){this.textContent=e.call(this,t)}}function Oc(e){var t,n;function o(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Uc(i)),t}return o._value=e,o}function Bc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Oc(e))}function Dc(){for(var e=this._name,t=this._id,n=ur(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var f=ut(s,t);Zn(s,e,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Pt(o,this._parents,e,n)}function Hc(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(r,a){var l={value:a},s={value:function(){--i===0&&r()}};n.each(function(){var u=pt(this,o),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&r()})}var Xc=0;function Pt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function ur(){return++Xc}var kt=vn.prototype;Pt.prototype={constructor:Pt,select:Cc,selectAll:_c,selectChild:kt.selectChild,selectChildren:kt.selectChildren,filter:hc,merge:vc,selection:Ic,transition:Dc,call:kt.call,nodes:kt.nodes,node:kt.node,size:kt.size,empty:kt.empty,each:kt.each,on:bc,attr:xu,attrTween:ic,style:Nc,styleTween:Lc,text:Fc,textTween:Bc,remove:kc,tween:Wu,delay:sc,duration:cc,ease:dc,easeVarying:pc,end:Hc,[Symbol.iterator]:kt[Symbol.iterator]};function zc(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Vc={time:null,delay:0,duration:250,ease:zc};function jc(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Wc(e){var t,n;e instanceof Pt?(t=e._id,e=e._name):(t=ur(),(n=Vc).time=Uo(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],l=a.length,s,u=0;u<l;++u)(s=a[u])&&Zn(s,e,t,u,a,n||jc(s,t));return new Pt(o,this._parents,e,t)}vn.prototype.interrupt=zu;vn.prototype.transition=Wc;const lo=e=>()=>e;function Kc(e,{sourceEvent:t,target:n,selection:o,mode:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:o,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Yc(e){e.stopImmediatePropagation()}function uo(e){e.preventDefault(),e.stopImmediatePropagation()}var mi={name:"drag"},co={name:"space"},Kt={name:"handle"},Yt={name:"center"};const{abs:pi,max:Fe,min:Ue}=Math;function hi(e){return[+e[0],+e[1]]}function vi(e){return[hi(e[0]),hi(e[1])]}var qn={name:"x",handles:["w","e"].map(zn),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},fo={name:"y",handles:["n","s"].map(zn),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Ct={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},gi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},yi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Gc={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Qc={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function zn(e){return{type:e}}function Jc(e){return!e.ctrlKey&&!e.button}function Zc(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function xc(){return navigator.maxTouchPoints||"ontouchstart"in this}function mo(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function ef(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function tf(){return nf(qn)}function nf(e){var t=Zc,n=Jc,o=xc,i=!0,r=Ro("start","brush","end"),a=6,l;function s(h){var P=h.property("__brush",X).selectAll(".overlay").data([zn("overlay")]);P.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ct.overlay).merge(P).each(function(){var b=mo(this).extent;st(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),h.selectAll(".selection").data([zn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ct.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var C=h.selectAll(".handle").data(e.handles,function(b){return b.type});C.exit().remove(),C.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return Ct[b.type]}),h.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",g).filter(o).on("touchstart.brush",g).on("touchmove.brush",w).on("touchend.brush touchcancel.brush",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(h,P,C){h.tween?h.on("start.brush",function(b){f(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){f(this,arguments).end(b)}).tween("brush",function(){var b=this,d=b.__brush,k=f(b,arguments),M=d.selection,J=e.input(typeof P=="function"?P.apply(this,arguments):P,d.extent),U=Qn(M,J);function te(j){d.selection=j===1&&J===null?null:U(j),u.call(b),k.brush()}return M!==null&&J!==null?te:te(1)}):h.each(function(){var b=this,d=arguments,k=b.__brush,M=e.input(typeof P=="function"?P.apply(b,d):P,k.extent),J=f(b,d).beforestart();Io(b),k.selection=M===null?null:M,u.call(b),J.start(C).brush(C).end(C)})},s.clear=function(h,P){s.move(h,null,P)};function u(){var h=st(this),P=mo(this).selection;P?(h.selectAll(".selection").style("display",null).attr("x",P[0][0]).attr("y",P[0][1]).attr("width",P[1][0]-P[0][0]).attr("height",P[1][1]-P[0][1]),h.selectAll(".handle").style("display",null).attr("x",function(C){return C.type[C.type.length-1]==="e"?P[1][0]-a/2:P[0][0]-a/2}).attr("y",function(C){return C.type[0]==="s"?P[1][1]-a/2:P[0][1]-a/2}).attr("width",function(C){return C.type==="n"||C.type==="s"?P[1][0]-P[0][0]+a:a}).attr("height",function(C){return C.type==="e"||C.type==="w"?P[1][1]-P[0][1]+a:a})):h.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(h,P,C){var b=h.__brush.emitter;return b&&(!C||!b.clean)?b:new p(h,P,C)}function p(h,P,C){this.that=h,this.args=P,this.state=h.__brush,this.active=0,this.clean=C}p.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(h,P){return this.starting?(this.starting=!1,this.emit("start",h,P)):this.emit("brush",h),this},brush:function(h,P){return this.emit("brush",h,P),this},end:function(h,P){return--this.active===0&&(delete this.state.emitter,this.emit("end",h,P)),this},emit:function(h,P,C){var b=st(this.that).datum();r.call(h,this.that,new Kc(h,{sourceEvent:P,target:s,selection:e.output(this.state.selection),mode:C,dispatch:r}),b)}};function g(h){if(l&&!h.touches||!n.apply(this,arguments))return;var P=this,C=h.target.__data__.type,b=(i&&h.metaKey?C="overlay":C)==="selection"?mi:i&&h.altKey?Yt:Kt,d=e===fo?null:Gc[C],k=e===qn?null:Qc[C],M=mo(P),J=M.extent,U=M.selection,te=J[0][0],j,T,Q=J[0][1],L,W,ve=J[1][0],H,D,x=J[1][1],K,Y,G=0,ge=0,ie,et=d&&k&&i&&h.shiftKey,O,ct,Pe=Array.from(h.touches||[h],B=>{const Z=B.identifier;return B=xo(B,P),B.point0=B.slice(),B.identifier=Z,B});Io(P);var Be=f(P,arguments,!0).beforestart();if(C==="overlay"){U&&(ie=!0);const B=[Pe[0],Pe[1]||Pe[0]];M.selection=U=[[j=e===fo?te:Ue(B[0][0],B[1][0]),L=e===qn?Q:Ue(B[0][1],B[1][1])],[H=e===fo?ve:Fe(B[0][0],B[1][0]),K=e===qn?x:Fe(B[0][1],B[1][1])]],Pe.length>1&&Re(h)}else j=U[0][0],L=U[0][1],H=U[1][0],K=U[1][1];T=j,W=L,D=H,Y=K;var ft=st(P).attr("pointer-events","none"),De=ft.selectAll(".overlay").attr("cursor",Ct[C]);if(h.touches)Be.moved=qe,Be.ended=Oe;else{var ht=st(h.view).on("mousemove.brush",qe,!0).on("mouseup.brush",Oe,!0);i&&ht.on("keydown.brush",tt,!0).on("keyup.brush",Le,!0),su(h.view)}u.call(P),Be.start(h,b.name);function qe(B){for(const Z of B.changedTouches||[B])for(const Ze of Pe)Ze.identifier===Z.identifier&&(Ze.cur=xo(Z,P));if(et&&!O&&!ct&&Pe.length===1){const Z=Pe[0];pi(Z.cur[0]-Z[0])>pi(Z.cur[1]-Z[1])?ct=!0:O=!0}for(const Z of Pe)Z.cur&&(Z[0]=Z.cur[0],Z[1]=Z.cur[1]);ie=!0,uo(B),Re(B)}function Re(B){const Z=Pe[0],Ze=Z.point0;var E;switch(G=Z[0]-Ze[0],ge=Z[1]-Ze[1],b){case co:case mi:{d&&(G=Fe(te-j,Ue(ve-H,G)),T=j+G,D=H+G),k&&(ge=Fe(Q-L,Ue(x-K,ge)),W=L+ge,Y=K+ge);break}case Kt:{Pe[1]?(d&&(T=Fe(te,Ue(ve,Pe[0][0])),D=Fe(te,Ue(ve,Pe[1][0])),d=1),k&&(W=Fe(Q,Ue(x,Pe[0][1])),Y=Fe(Q,Ue(x,Pe[1][1])),k=1)):(d<0?(G=Fe(te-j,Ue(ve-j,G)),T=j+G,D=H):d>0&&(G=Fe(te-H,Ue(ve-H,G)),T=j,D=H+G),k<0?(ge=Fe(Q-L,Ue(x-L,ge)),W=L+ge,Y=K):k>0&&(ge=Fe(Q-K,Ue(x-K,ge)),W=L,Y=K+ge));break}case Yt:{d&&(T=Fe(te,Ue(ve,j-G*d)),D=Fe(te,Ue(ve,H+G*d))),k&&(W=Fe(Q,Ue(x,L-ge*k)),Y=Fe(Q,Ue(x,K+ge*k)));break}}D<T&&(d*=-1,E=j,j=H,H=E,E=T,T=D,D=E,C in gi&&De.attr("cursor",Ct[C=gi[C]])),Y<W&&(k*=-1,E=L,L=K,K=E,E=W,W=Y,Y=E,C in yi&&De.attr("cursor",Ct[C=yi[C]])),M.selection&&(U=M.selection),O&&(T=U[0][0],D=U[1][0]),ct&&(W=U[0][1],Y=U[1][1]),(U[0][0]!==T||U[0][1]!==W||U[1][0]!==D||U[1][1]!==Y)&&(M.selection=[[T,W],[D,Y]],u.call(P),Be.brush(B,b.name))}function Oe(B){if(Yc(B),B.touches){if(B.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else lu(B.view,ie),ht.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ft.attr("pointer-events","all"),De.attr("cursor",Ct.overlay),M.selection&&(U=M.selection),ef(U)&&(M.selection=null,u.call(P)),Be.end(B,b.name)}function tt(B){switch(B.keyCode){case 16:{et=d&&k;break}case 18:{b===Kt&&(d&&(H=D-G*d,j=T+G*d),k&&(K=Y-ge*k,L=W+ge*k),b=Yt,Re(B));break}case 32:{(b===Kt||b===Yt)&&(d<0?H=D-G:d>0&&(j=T-G),k<0?K=Y-ge:k>0&&(L=W-ge),b=co,De.attr("cursor",Ct.selection),Re(B));break}default:return}uo(B)}function Le(B){switch(B.keyCode){case 16:{et&&(O=ct=et=!1,Re(B));break}case 18:{b===Yt&&(d<0?H=D:d>0&&(j=T),k<0?K=Y:k>0&&(L=W),b=Kt,Re(B));break}case 32:{b===co&&(B.altKey?(d&&(H=D-G*d,j=T+G*d),k&&(K=Y-ge*k,L=W+ge*k),b=Yt):(d<0?H=D:d>0&&(j=T),k<0?K=Y:k>0&&(L=W),b=Kt),De.attr("cursor",Ct[C]),Re(B));break}default:return}uo(B)}}function w(h){f(this,arguments).moved(h)}function I(h){f(this,arguments).ended(h)}function X(){var h=this.__brush||{selection:null};return h.extent=vi(t.apply(this,arguments)),h.dim=e,h}return s.extent=function(h){return arguments.length?(t=typeof h=="function"?h:lo(vi(h)),s):t},s.filter=function(h){return arguments.length?(n=typeof h=="function"?h:lo(!!h),s):n},s.touchable=function(h){return arguments.length?(o=typeof h=="function"?h:lo(!!h),s):o},s.handleSize=function(h){return arguments.length?(a=+h,s):a},s.keyModifiers=function(h){return arguments.length?(i=!!h,s):i},s.on=function(){var h=r.on.apply(r,arguments);return h===r?s:h},s}function of(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,o=e.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+e.slice(n+1)]}function nn(e){return e=Vn(Math.abs(e)),e?e[1]:NaN}function rf(e,t){return function(n,o){for(var i=n.length,r=[],a=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>o&&(l=Math.max(1,o-s)),r.push(n.substring(i-=l,i+l)),!((s+=l+1)>o));)l=e[a=(a+1)%e.length];return r.reverse().join(t)}}function af(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var sf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jn(e){if(!(t=sf.exec(e)))throw new Error("invalid format: "+e);var t;return new Do({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jn.prototype=Do.prototype;function Do(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Do.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lf(e){e:for(var t=e.length,n=1,o=-1,i;n<t;++n)switch(e[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+e[n])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(i+1):e}var cr;function uf(e,t){var n=Vn(e,t);if(!n)return e+"";var o=n[0],i=n[1],r=i-(cr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=o.length;return r===a?o:r>a?o+new Array(r-a+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+Vn(e,Math.max(0,t+r-1))[0]}function bi(e,t){var n=Vn(e,t);if(!n)return e+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const wi={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:of,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bi(e*100,t),r:bi,s:uf,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ki(e){return e}var Ci=Array.prototype.map,_i=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function cf(e){var t=e.grouping===void 0||e.thousands===void 0?ki:rf(Ci.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?ki:af(Ci.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(p){p=jn(p);var g=p.fill,w=p.align,I=p.sign,X=p.symbol,h=p.zero,P=p.width,C=p.comma,b=p.precision,d=p.trim,k=p.type;k==="n"?(C=!0,k="g"):wi[k]||(b===void 0&&(b=12),d=!0,k="g"),(h||g==="0"&&w==="=")&&(h=!0,g="0",w="=");var M=X==="$"?n:X==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",J=X==="$"?o:/[%p]/.test(k)?a:"",U=wi[k],te=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function j(T){var Q=M,L=J,W,ve,H;if(k==="c")L=U(T)+L,T="";else{T=+T;var D=T<0||1/T<0;if(T=isNaN(T)?s:U(Math.abs(T),b),d&&(T=lf(T)),D&&+T==0&&I!=="+"&&(D=!1),Q=(D?I==="("?I:l:I==="-"||I==="("?"":I)+Q,L=(k==="s"?_i[8+cr/3]:"")+L+(D&&I==="("?")":""),te){for(W=-1,ve=T.length;++W<ve;)if(H=T.charCodeAt(W),48>H||H>57){L=(H===46?i+T.slice(W+1):T.slice(W))+L,T=T.slice(0,W);break}}}C&&!h&&(T=t(T,1/0));var x=Q.length+T.length+L.length,K=x<P?new Array(P-x+1).join(g):"";switch(C&&h&&(T=t(K+T,K.length?P-L.length:1/0),K=""),w){case"<":T=Q+T+L+K;break;case"=":T=Q+K+T+L;break;case"^":T=K.slice(0,x=K.length>>1)+Q+T+L+K.slice(x);break;default:T=K+Q+T+L;break}return r(T)}return j.toString=function(){return p+""},j}function f(p,g){var w=u((p=jn(p),p.type="f",p)),I=Math.max(-8,Math.min(8,Math.floor(nn(g)/3)))*3,X=Math.pow(10,-I),h=_i[8+I/3];return function(P){return w(X*P)+h}}return{format:u,formatPrefix:f}}var Tn,fr,dr;ff({thousands:",",grouping:[3],currency:["$",""]});function ff(e){return Tn=cf(e),fr=Tn.format,dr=Tn.formatPrefix,Tn}function df(e){return Math.max(0,-nn(Math.abs(e)))}function mf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nn(t)/3)))*3-nn(Math.abs(e)))}function pf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nn(t)-nn(e))+1}function Ho(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Pi=Symbol("implicit");function mr(){var e=new Go,t=[],n=[],o=Pi;function i(r){let a=e.get(r);if(a===void 0){if(o!==Pi)return o;e.set(r,a=t.push(r)-1)}return n[a%n.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Go;for(const a of r)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(r){return arguments.length?(n=Array.from(r),i):n.slice()},i.unknown=function(r){return arguments.length?(o=r,i):o},i.copy=function(){return mr(t,n).unknown(o)},Ho.apply(i,arguments),i}function pr(){var e=mr().unknown(void 0),t=e.domain,n=e.range,o=0,i=1,r,a,l=!1,s=0,u=0,f=.5;delete e.unknown;function p(){var g=t().length,w=i<o,I=w?i:o,X=w?o:i;r=(X-I)/Math.max(1,g-s+u*2),l&&(r=Math.floor(r)),I+=(X-I-r*(g-s))*f,a=r*(1-s),l&&(I=Math.round(I),a=Math.round(a));var h=Ps(g).map(function(P){return I+r*P});return n(w?h.reverse():h)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([o,i]=g,o=+o,i=+i,p()):[o,i]},e.rangeRound=function(g){return[o,i]=g,o=+o,i=+i,l=!0,p()},e.bandwidth=function(){return a},e.step=function(){return r},e.round=function(g){return arguments.length?(l=!!g,p()):l},e.padding=function(g){return arguments.length?(s=Math.min(1,u=+g),p()):s},e.paddingInner=function(g){return arguments.length?(s=Math.min(1,g),p()):s},e.paddingOuter=function(g){return arguments.length?(u=+g,p()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},e.copy=function(){return pr(t(),[o,i]).round(l).paddingInner(s).paddingOuter(u).align(f)},Ho.apply(p(),arguments)}function hf(e){return function(){return e}}function vf(e){return+e}var Ii=[0,1];function Qt(e){return e}function $o(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:hf(isNaN(t)?NaN:.5)}function gf(e,t){var n;return e>t&&(n=e,e=t,t=n),function(o){return Math.max(e,Math.min(t,o))}}function yf(e,t,n){var o=e[0],i=e[1],r=t[0],a=t[1];return i<o?(o=$o(i,o),r=n(a,r)):(o=$o(o,i),r=n(r,a)),function(l){return r(o(l))}}function bf(e,t,n){var o=Math.min(e.length,t.length)-1,i=new Array(o),r=new Array(o),a=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<o;)i[a]=$o(e[a],e[a+1]),r[a]=n(t[a],t[a+1]);return function(l){var s=ps(e,l,1,o)-1;return r[s](i[s](l))}}function wf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function kf(){var e=Ii,t=Ii,n=Qn,o,i,r,a=Qt,l,s,u;function f(){var g=Math.min(e.length,t.length);return a!==Qt&&(a=gf(e[0],e[g-1])),l=g>2?bf:yf,s=u=null,p}function p(g){return g==null||isNaN(g=+g)?r:(s||(s=l(e.map(o),t,n)))(o(a(g)))}return p.invert=function(g){return a(i((u||(u=l(t,e.map(o),at)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,vf),f()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=Mu,f()},p.clamp=function(g){return arguments.length?(a=g?!0:Qt,f()):a!==Qt},p.interpolate=function(g){return arguments.length?(n=g,f()):n},p.unknown=function(g){return arguments.length?(r=g,p):r},function(g,w){return o=g,i=w,f()}}function Cf(){return kf()(Qt,Qt)}function _f(e,t,n,o){var i=Cs(e,t,n),r;switch(o=jn(o==null?",f":o),o.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(r=mf(i,a))&&(o.precision=r),dr(o,a)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=pf(i,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=df(i))&&(o.precision=r-(o.type==="%")*2);break}}return fr(o)}function Pf(e){var t=e.domain;return e.ticks=function(n){var o=t();return ks(o[0],o[o.length-1],n==null?10:n)},e.tickFormat=function(n,o){var i=t();return _f(i[0],i[i.length-1],n==null?10:n,o)},e.nice=function(n){n==null&&(n=10);var o=t(),i=0,r=o.length-1,a=o[i],l=o[r],s,u,f=10;for(l<a&&(u=a,a=l,l=u,u=i,i=r,r=u);f-- >0;){if(u=ho(a,l,n),u===s)return o[i]=a,o[r]=l,t(o);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function hr(){var e=Cf();return e.copy=function(){return wf(e,hr())},Ho.apply(e,arguments),Pf(e)}function Jt(e,t,n){this.k=e,this.x=t,this.y=n}Jt.prototype={constructor:Jt,scale:function(e){return e===1?this:new Jt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Jt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Jt(1,0,0);Jt.prototype;function po(e,t,n){const o=new F(10).pow(t-n);return new F(1.0001).pow(e).mul(o)}const If=ze({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,t){const n=A(1),o=A(""),i=A(""),r=ee(()=>{var d,k,M;return p.sqrtPriceX64ToPrice((d=e.poolInfo)==null?void 0:d.current_sqrt_price,(k=e.poolInfo)==null?void 0:k.coinA.decimals,(M=e.poolInfo)==null?void 0:M.coinB.decimals).toString()}),a=ee(()=>{let d=0;return e.direction?d=(Number(e.minPrice)/Number(r.value)-1)*100:d=(Number(e.minPrice)/Number(1/Number(r.value))-1)*100,d=d>0&&d<.1?.1:d,d=d<0&&d>-.1?-.1:d,d}),l=ee(()=>{let d=0;return e.direction?d=(Number(e.maxPrice)/Number(r.value)-1)*100:d=(Number(e.maxPrice)/Number(1/Number(r.value))-1)*100,d=d>0&&d<.1?.1:d,d=d<0&&d>-.1?-.1:d,d}),s=Qe(),u=ee(()=>s),f=ee(()=>u.value.chainName?Ao(u.value.chainName):{}),{TickMath:p,getNearestTickByTick:g}=f.value,w=()=>{const d=n.value/2;n.value=d,h(e.poolInfo,d)},I=()=>{const d=n.value*2;n.value=d,h(e.poolInfo,d)},X=(d=[])=>{let k=6;const M=Math.abs(Number(d[0])-Number(d[d.length-1]));return M>=6?k=0:M>=1?k=1:M>=.1?k=2:M>=.01?k=3:M>=.001?k=4:M>=1e-4?k=5:M>=1e-5?k=6:M>=1e-6?k=7:M>=1e-7&&(k=8),k},h=(d,k=1)=>{if(d&&d.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const M=Number(e.poolInfo.current_tick_index);console.log("0117###dataProcessing###currentTick###",M),console.log("0117###dataProcessing###minPrice###",e.minPrice),console.log("0117###dataProcessing###maxPrice###",e.maxPrice),console.log("0117###dataProcessing###poolInfo###",e.poolInfo);let J=M+100*k,U=M-100*k,te,j;e.maxPrice==="\u221E"?j=0:e.direction?j=p.priceToTickIndex(new F(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):j=p.priceToTickIndex(new F(1/Number(e.minPrice)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals),e.minPrice==="0"?te=0:e.direction?te=p.priceToTickIndex(new F(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):te=p.priceToTickIndex(new F(1/Number(e.maxPrice)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals);let T=0;if(M>=te&&M<=j){const G=M-te,ge=j-M;T=Math.max(Math.abs(G),Math.abs(ge))}else M<te?T=Math.abs(j-M):T=Math.abs(M-te);J=M+T+100*k,U=M-T-100*k;const Q=Number(d.liquidity)/Math.pow(10,6),L=e.tickList;console.log(L,"===>tick_info_array");const W=[],ve=[];let H={};for(let G=0;G<L.length;G++)H=L[G],H.index<=M&&H.index>=U?W.unshift(H):H.index>M&&H.index<=J&&ve.push(H);let D=Number(Q);for(let G=0;G<W.length;G++)W[G].liquityAmount=D-Number(W[G].liquidityGross.toString()/Math.pow(10,6));let x=Number(Q);for(let G=0;G<ve.length;G++)ve[G].liquityAmount=x-Number(ve[G].liquidityGross.toString()/Math.pow(10,6));let K=[];const Y=L&&L.length>0?{index:M,liquityAmount:Number(Q)}:{index:M,liquityAmount:Number(0)};K=[...W.reverse(),Y,...ve],e.direction||(K=K.reverse()),C(K,U,J,te,j,M)}};let P=A(!1);Wn(()=>{document.body.clientWidth<750?P.value=!1:P.value=!0,window.onresize=()=>{document.body.clientWidth<750?P.value=!1:P.value=!0,h(e.poolInfo,n.value)}});const C=(d,k,M,J,U,te)=>{console.log("0117####drawChart####chartData####",d),console.log("0117####drawChart####tickMin####",k),console.log("0117####drawChart####tickMax####",M),console.log("0117####drawChart####minPriceTick####",J),console.log("0117####drawChart####maxPriceTick####",U),console.log("0117####drawChart####currentTick####",te);let j,T;e.direction?(j=e.before7dContractPriceLowest?p.priceToTickIndex(new F(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?p.priceToTickIndex(new F(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(j=e.before7dContractPriceLowest?p.priceToTickIndex(new F(1/Number(e.before7dContractPriceLowest)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?p.priceToTickIndex(new F(1/Number(e.before7dContractPriceHighest)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const Q={top:30,right:35,bottom:20,left:55};let L,W;P.value?(L=460-Q.left-Q.right,W=205-Q.top-Q.bottom):(L=340-Q.left-Q.right,W=205-Q.top-Q.bottom);const ve=M-k,H=parseInt(String(ve/4));let D=[k,k+H,k+2*H,M-H,M];const x=D[0]-(D[1]-D[0])/3,K=D[4]+(D[4]-D[3])/3,Y=L/(K-x);e.currentPriceTab==="Full Range"&&(D=[k,k+2*H,M]);const G=D.map(E=>e.direction?po(E,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():1/po(E,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),ge=X(G);st("#chart").selectAll("*").remove();const ie=st("#chart").attr("width",L+Q.left+Q.right).attr("height",W+Q.top+Q.bottom).append("g").attr("transform",`translate(${Q.left},${Q.right})`),et=_s(d,function(E){return Number(E.liquityAmount)})||0,O=hr().range([0,W]).domain([et,0]);pr().rangeRound([0,L]).padding(.1);const Pe=ie.append("g").attr("id","barsBox").selectAll("rect").data(d).enter().append("rect");u.value.theme=="default"?Pe.attr("x",function(E,z){return z===0?0:e.direction?Math.abs(d[z-1].index-x)*Y:Math.abs(K-d[z-1].index)*Y}).attr("y",function(E,z){return z===0?0:e.direction?O(d[z-1].liquityAmount):O(E.liquityAmount)}).attr("width",function(E,z){return z===0&&d.length===1&&E.liquityAmount>0?L:z===0?0:e.direction?Math.abs(E.index-d[z-1].index)*Y:Math.abs(d[z-1].index-E.index)*Y}).attr("height",function(E,z){return z===0&&d.length===1&&E.liquityAmount>0?W:z===0?0:e.direction?W-O(d[z-1].liquityAmount):W-O(E.liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):Pe.attr("x",function(E,z){return z===0?0:e.direction?Math.abs(d[z-1].index-x)*Y:Math.abs(K-d[z-1].index)*Y}).attr("y",function(E,z){return z===0?0:e.direction?O(d[z-1].liquityAmount):O(E.liquityAmount)}).attr("width",function(E,z){return z===0&&d.length===1&&E.liquityAmount>0?L:z===0?0:e.direction?Math.abs(E.index-d[z-1].index)*Y:Math.abs(d[z-1].index-E.index)*Y}).attr("height",function(E,z){return z===0&&d.length===1&&E.liquityAmount>0?W:z===0?0:e.direction?W-O(d[z-1].liquityAmount):W-O(E.liquityAmount)}).attr("fill","#407497").attr("class","bars");const Be=ie.append("g");Be.append("line").attr("x1",0).attr("y1",155).attr("x2",L).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const ft=Be.append("g");let De=0;if(e.direction){for(let E=0;E<D.length;E++){const z=rt(G[E],ge)||"0";G.push(z);const N=Math.abs(D[E]-x)*Y;let S=0;for(let Te=0;Te<z.length;Te++)z[Te]==="1"?S+=4.02:z[Te]==="."?S+=2.64:z[Te]==="7"?S+=5.48:S+=6;console.log(N,"x=>>>"),ft.append("text").text(z).attr("x",N-S/2).attr("y",170).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}De=Math.abs(te-x)*Y}else{for(let E=D.length-1;E>=0;E--){const z=Dt(String(1/po(D[E],e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),6)||"0";G.push(z);const N=Math.abs(D[E]-K)*Y;let S=0;for(let Te=0;Te<z.length;Te++)z[Te]==="1"?S+=4.02:z[Te]==="."?S+=2.64:z[Te]==="7"?S+=5.48:S+=6;ft.append("text").text(z).attr("x",N-S/2).attr("y",170).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}De=Math.abs(te-K)*Y}(u.value.theme=="default"?ie.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):ie.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+De+", 0)");let qe,Re,Oe,tt;e.direction?(qe=J<x?-100:Math.abs(J-x)*Y,Re=U<x?-100:Math.abs(U-x)*Y,Oe=j<x?-100:Math.abs(j-x)*Y,tt=T<x?-100:Math.abs(T-x)*Y):(Re=J<x?-100:Math.abs(K-J)*Y,qe=U<x?-100:Math.abs(K-U)*Y,tt=j<x?-100:Math.abs(K-j)*Y,Oe=T<x?-100:Math.abs(K-T)*Y),e.minPrice==="0"&&(qe=0),e.maxPrice==="\u221E"&&(Re=L),P.value?o.value=L-qe+60+"px":o.value=L-qe+52+"px",i.value=Re+74+"px",j&&Oe<L&&ie.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Oe+", 0)"),T&&tt<L&&ie.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+tt+", 0)");const Le=ie.append("g").attr("id","left-handle"),B=ie.append("g").attr("id","right-handle");u.value.theme=="default"?(Le.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Le.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),Le.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),Le.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),Le.append("rect").attr("width",20).attr("height",14).attr("class","left-range").attr("fill","#202020"),B.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),B.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),B.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),B.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(Le.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Le.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),Le.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),Le.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),B.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),B.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),B.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),B.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),Le.attr("transform","translate("+qe+", 0)"),B.attr("transform","translate("+Re+", 0)");const Z=tf().extent([[0,0],[L,W]]).handleSize(30).on("end",Ze);ie.append("g").attr("class","brush").call(Z).call(Z.move,[qe,Re]);function Ze(E){if(!E.sourceEvent||!E.selection)return;Le.attr("transform","translate("+E.selection[0]+", 0)"),B.attr("transform","translate("+E.selection[1]+", 0)"),P.value?o.value=L-E.selection[0]+60+"px":o.value=L-E.selection[0]+52+"px",i.value=E.selection[1]+74+"px";let z,N,S=0,Te=0;e.direction?(S=g(E.selection[0]/Y+x,Number(e.poolInfo.tickSpacing)),z=p.tickIndexToPrice(S,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber(),Te=g(E.selection[1]/Y+x,Number(e.poolInfo.tickSpacing)),N=p.tickIndexToPrice(Te,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()):(Te=g(K-E.selection[0]/Y,Number(e.poolInfo.tickSpacing)),z=1/p.tickIndexToPrice(Te,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber(),S=g(K-E.selection[1]/Y,Number(e.poolInfo.tickSpacing)),N=1/p.tickIndexToPrice(S,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),t.emit("onChangeMinPrice",String(rt(String(z),6))),t.emit("onChangeMaxPrice",String(rt(String(N),6)))}u.value.theme=="default"?st(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):st(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};A(""),ye(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab],([d,k,M,J])=>{console.log(d,k,M,M>k,"poolInfo && minPrice && maxPrice && (maxPrice > minPrice)"),d&&k&&M&&(M=="\u221E"||Number(M)>Number(k))&&h(d,n.value)},{immediate:!0});const b=A(!0);return ye(()=>e.chartLoading,(d,k)=>{d!==k&&(b.value=d)},{immediate:!0,deep:!0}),{store:u,loading:b,zoomOut:w,zoomIn:I,rangeSizeLower:a,rangeSizeUpper:l,rangeSizeLowerPosition:o,rangeSizeUpperPosition:i,decimalFormat:Dt,numberformat:Fr}}});const $f=e=>(It("data-v-f4d7f904"),e=e(),$t(),e),Af={class:"chart-box"},Sf={class:"chart"},Tf={class:"zoom"},Nf=$f(()=>c("svg",{id:"chart"},null,-1));function Mf(e,t,n,o,i,r){return v(),_("div",Af,[Ur(c("div",Sf,[c("div",Tf,[c("div",{class:"amplification",onClick:t[0]||(t[0]=(...a)=>e.zoomOut&&e.zoomOut(...a))}),c("div",{class:"narrow",onClick:t[1]||(t[1]=(...a)=>e.zoomIn&&e.zoomIn(...a))})]),e.currentPriceTab!=="Full Range"?(v(),_("div",{key:0,class:"range-size range-size-lower",style:Wo({right:e.rangeSizeLowerPosition})},y(e.numberformat(e.rangeSizeLower.toFixed(1),1))+"% ",5)):R("",!0),e.currentPriceTab!=="Full Range"?(v(),_("div",{key:1,class:"range-size range-size-upper",style:Wo({left:e.rangeSizeUpperPosition})},y(e.numberformat(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):R("",!0),Nf],512),[[Or,!e.loading]])])}const Rf=Ve(If,[["render",Mf],["__scopeId","data-v-f4d7f904"]]),Lf=ze({props:{poolInfo:{type:Object,default:()=>({})},aprRewardsParameter:{type:Number,default:30},label:{type:Boolean,default:!0}},setup(e,t){const n=A(""),o=A(""),i=A(""),r=Qe(),a=ee(()=>r),l=on(),s=ee(()=>l),u=(P,C)=>P&&C?dn(Wr.plus(no(P),no(C)),2)+"%":P,f=P=>{let C=0;return P&&P.forEach(b=>{C+=no(String(b))}),String(dn(String(C),2))},p=A([]),g=A([]),w=A(""),I=A(""),X=A(!0);return ye(()=>[a.value.newTopPoolsObj,e.poolInfo,s.value.newTokenObj,e.aprRewardsParameter],async([P,C,b])=>{if(console.log(C,"===>poolInfo"),console.log(P,"newValue========>"),console.log(b,"newTokenObj========>"),P&&C&&b){const d=P[C.poolAddress];if(d){n.value=d&&d.apr_7day,I.value=f(d&&d.rewarder_apr),w.value=u(d&&d.apr_7day,d&&f(d.rewarder_apr)),o.value=Zt(d.tvl_in_usd,2),i.value=Zt(d.vol_in_usd_24h,2);const k=C&&e.poolInfo.rewarder_infos||[],M=[];k.forEach((U,te)=>{const j=b[U.coinAddress].decimals,T=Dt(U.emissionsEveryDay/Math.pow(10,j),4);console.log(s.value.RATES[U.coinAddress],"===>>>pools.value.RATES");const Q=Dt(Number(T)*s.value.RATES[U.coinAddress].price,4);console.log(Q,"===>>>pools.value.RATES"),M.push({...U,logoUrl:b[U.coinAddress].logoURI,day:T,dayUSD:Q,symbol:b[U.coinAddress].symbol,rewarder_display:C&&C[`rewarder_display${te+1}`]?C[`rewarder_display${te+1}`]:!1})}),p.value=M.filter(U=>U.rewarder_display);const J=[];M.forEach((U,te)=>{J.push({...U,symbol:b[U.coinAddress].symbol,rewarderApr:d.rewarder_apr[te]})}),g.value=J.filter(U=>U.rewarder_display),console.log(J,"==>resultTep"),console.log(p,"===>rewarderInfo")}console.log(X.value,"loadingvalue===>"),X.value=!1}},{immediate:!0,deep:!0}),{rewarderInfo:p,rewarderArr:g,rewardApr:w,rewardAprList:I,apr:n,liquidityTvl:o,vol24:i,addCommom:Zt,reviseValue:()=>{t.emit("reviseValue")},loading:X}}});const vr=e=>(It("data-v-35761af0"),e=e(),$t(),e),qf={key:0,class:"pool-info"},Ef=vr(()=>c("use",{"xlink:href":"#icon-icon_on"},null,-1)),Ff=[Ef],Uf={key:0,class:"info-block-container"},Of={class:"info-block"},Bf={class:"leabl"},Df={class:"text"},Hf={class:"apr-hover-content"},Xf={class:"info-block"},zf={class:"leabl"},Vf={class:"text"},jf={class:"info-block"},Wf={class:"leabl"},Kf={class:"text"},Yf={class:"info-block"},Gf={class:"leabl"},Qf={class:"text"},Jf={key:1,class:"pool-rewards-info"},Zf={class:"rewards-list-all"},xf=vr(()=>c("div",{class:"icon-sign"},null,-1)),ed=["src"],td={class:"rewards-value"};function nd(e,t,n,o,i,r){const a=jr,l=Mi;return e.poolInfo?(v(),_("div",qf,[e.loading?(v(),fe(l,{key:1})):(v(),_(_t,{key:0},[c("div",{class:we(e.label?"pool-info-border pool-info-title":"pool-info-title")},[Se(y(e.$t("newAdd.poolInfo"))+" ",1),(v(),_("svg",{class:we(e.label?"show-icon icon":"icon"),"aria-hidden":"true",onClick:t[0]||(t[0]=s=>e.reviseValue())},Ff,2))],2),e.label?(v(),_("div",Uf,[c("div",Of,[c("div",Bf,y(e.$t("common.apr")),1),c("div",Df,[Se(y(e.poolInfo.is_display_rewarder?e.addCommom(e.rewardApr.substring(0,e.rewardApr.length-1),2):e.addCommom(e.apr.substring(0,e.apr.length-1),2))+"% ",1),c("div",Hf,[ue(a,{"l-item":{apr:e.apr,aprTotal:e.rewardApr,rewarder_apr:e.rewardAprList,is_display_rewarder:e.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["l-item","rewarder-info"])])])]),c("div",Xf,[c("div",zf,y(e.$t("common.liquidity")),1),c("div",Vf,"$"+y(e.liquidityTvl),1)]),c("div",jf,[c("div",Wf,y(e.$t("common.volume24h")),1),c("div",Kf,"$"+y(e.vol24),1)]),c("div",Yf,[c("div",Gf,y(e.$t("newAdd.tickSpacing")),1),c("div",Qf,y(e.poolInfo&&e.poolInfo.tick_spacing),1)])])):R("",!0),e.poolInfo.is_display_rewarder&&e.label&&e.rewarderInfo&&e.rewarderInfo.length>0?(v(),_("div",Jf,[Se(y("Farming Bonus")+" "),c("div",Zf,[(v(!0),_(_t,null,un(e.rewarderInfo,s=>(v(),_("div",{key:s,class:we(["rewards-list",s.day==0?"rewards-none":""])},[xf,c("img",{src:s.logoUrl,alt:""},null,8,ed),c("div",td,[c("p",null,y(s.day)+" "+y(s.symbol)+" / "+y(e.$t("newAdd.day"))+" ",1)])],2))),128))])])):R("",!0)],64))])):R("",!0)}const od=Ve(Lf,[["render",nd],["__scopeId","data-v-35761af0"]]),id=ze({components:{Modal:So},props:{},setup(){const e=A({}),t=Qe(),n=ee(()=>t),o=ee(()=>n.value.chainName),i=ee(()=>Br[o.value]);let r=A(!0);const a=on(),l=ee(()=>a),s=Ri();return ye(()=>l.value.currentPositionInfo,u=>{u&&(e.value=u)}),{addCommom:Zt,router:s,pools:l,positionInfo:e,decimalFormat:Dt,rateChange:r,config:i,importIcon:rn,store:n,chainName:o}}});const yn=e=>(It("data-v-383732f4"),e=e(),$t(),e),rd=yn(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),ad={class:"rejected-container"},sd={class:"coin-pair"},ld=yn(()=>c("use",{"xlink:href":"#icon-icon-copy"},null,-1)),ud=[ld],cd=["href"],fd=yn(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-jump"})],-1)),dd=[fd],md=["href"],pd=yn(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-jump"})],-1)),hd=[pd],vd={class:"coin-pair"},gd=["src"],yd=["src"],bd={class:"fee"},wd={class:"status"},kd={class:"min-and-max"},Cd={key:0},_d={class:"text"},Pd={key:0,src:No,alt:""},Id={key:1,src:Mo,alt:""},$d={class:"text"},Ad={key:1},Sd={class:"text"},Td={key:0,src:No,alt:""},Nd={key:1,src:Mo,alt:""},Md={class:"text"},Rd=yn(()=>c("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Ld=[Rd];function qd(e,t,n,o,i,r){const a=Ni,l=Kr,s=Yn,u=To("Modal");return v(),fe(u,{visible:!0,class:"transiaction-rejected",centered:"",title:e.$t("newAdd.openPositionSuccessful"),width:"340px",footer:null,onCancel:t[3]||(t[3]=f=>e.$emit("onClose"))},{closeIcon:he(()=>[rd]),default:he(()=>[c("div",ad,[ue(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:he(()=>[c("div",sd,[Se(y(e.positionInfo.tokenName)+" ",1),(v(),_("svg",{class:"icon","aria-hidden":"true",onClick:t[0]||(t[0]=f=>e.store.copy(e.positionInfo.nftHash))},ud)),e.chainName==="Aptos"?(v(),_("a",{key:0,href:`${e.config.explorerUrl}/token/${e.positionInfo.nftHash}/0?network=${e.config.network}`,target:"_blank"},dd,8,cd)):(v(),_("a",{key:1,href:`${e.config.explorerUrl}/object/${e.positionInfo.pos_object_id}?network=${e.config.network}`,target:"_blank"},hd,8,md))])]),_:1},8,["loading"]),c("div",{class:we(["left",`position-status-${e.positionInfo&&e.positionInfo.currentStatus&&e.positionInfo.currentStatus.toLowerCase()}`])},[ue(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:he(()=>[c("div",vd,[c("div",null,[c("img",{src:e.fromCoinUrl||e.positionInfo.token_a.logoURI||e.importIcon(`/image/coins/${e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,gd),c("img",{src:e.toCoinUrl||e.positionInfo.token_b.logoURI||e.importIcon(`/image/coins/${e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,yd)]),c("span",null,y(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" - "+y(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)]),c("div",bd,y(e.$t("common.fee"))+" "+y(e.positionInfo.fee*100)+"%",1)]),_:1},8,["loading"])],2),c("div",wd,[ue(l,{"current-status":e.positionInfo.currentStatus||""},null,8,["current-status"])]),ue(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:he(()=>[c("div",kd,[e.rateChange?(v(),_("div",Cd,[c("div",_d,y(e.addCommom(e.decimalFormat(String(e.positionInfo&&e.positionInfo.minPrice),6),6)),1),e.store.theme=="default"?(v(),_("img",Pd)):(v(),_("img",Id)),c("div",$d,y(e.positionInfo&&e.positionInfo.maxPrice.indexOf("\u221E")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":e.addCommom(e.decimalFormat(String(e.positionInfo&&e.positionInfo.maxPrice),6),6))+" "+y(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol)+" per "+y(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1)])):(v(),_("div",Ad,[c("div",Sd,y(e.addCommom(e.decimalFormat(String(1/Number(e.positionInfo&&e.positionInfo.maxPrice)),6),6)),1),e.store.theme=="default"?(v(),_("img",Td)):(v(),_("img",Nd)),c("div",Md,y(e.positionInfo&&e.positionInfo.maxPrice.indexOf("\u221E")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":e.addCommom(e.decimalFormat(String(1/Number(e.positionInfo&&e.positionInfo.minPrice)),6),6))+" "+y(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" per "+y(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)])),(v(),_("svg",{class:"icon-change","aria-hidden":"true",onClick:t[1]||(t[1]=f=>e.rateChange=!e.rateChange)},Ld))])]),_:1},8,["loading"])]),ue(s,{onClick:t[2]||(t[2]=f=>e.router.push(`/position-detail/1?collect=${e.positionInfo.collectionName}&&token=${e.positionInfo.tokenName}&&address=${e.positionInfo.pool}&pos=${e.positionInfo.pos_object_id}`))},{default:he(()=>[Se(y(e.$t("newAdd.viewDetail")),1)]),_:1})]),_:1},8,["title"])}const Ed=Ve(id,[["render",qd],["__scopeId","data-v-383732f4"]]),Fd=ze({components:{Modal:So},setup(){const e=Qe(),t=ee(()=>e);return{importIcon:rn,store:t}}}),Ud=""+new URL("img-Creat-success_2x.b6f0a395.png",import.meta.url).href,Od=""+new URL("img-Creat-success.9734ad6f.png",import.meta.url).href;const Bd=e=>(It("data-v-d7a9ceb3"),e=e(),$t(),e),Dd=Bd(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Hd={class:"create-success-container"},Xd={key:0,src:Ud,alt:""},zd={key:1,src:Od,alt:""},Vd={class:"waiting-title"};function jd(e,t,n,o,i,r){const a=To("Modal");return v(),fe(a,{visible:!0,class:"",centered:"",title:"",width:"400px",footer:null,onCancel:t[0]||(t[0]=l=>e.$emit("onClose"))},{closeIcon:he(()=>[Dd]),default:he(()=>[c("div",Hd,[e.store.theme=="default"?(v(),_("img",Xd)):(v(),_("img",zd)),c("p",Vd,y(e.$t("newAdd.createPoolSuccessText")),1)])]),_:1})}const Wd=Ve(Fd,[["render",jd],["__scopeId","data-v-d7a9ceb3"]]),Kd=ze({components:{Modal:So,CoinPairName:Fi},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},currentPrice:{type:String,default:""}},setup(e,t){const{t:n}=Li(),o=Kn(),i=Qe(),r=ee(()=>i),a=()=>{t.emit("createPool")};return console.log(e,"props===>141"),{t:n,route:o,decimalFormat:Dt,addCommom:Zt,store:r,createPool:a,importIcon:rn}}});const Yd=e=>(It("data-v-156c71d4"),e=e(),$t(),e),Gd=Yd(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Qd={class:"create-pool-content"},Jd={class:"top"},Zd={class:"coin-pair-box"},xd={class:"induction info"},em={class:"item"},tm={class:"induction-text"},nm={class:"induction-value"},om={class:"item"},im={class:"induction-text"},rm={class:"induction-value"},am={class:"item"},sm={class:"induction-text"},lm={class:"induction-value"},um={class:"min-and-max"},cm={class:"text"},fm={key:0,src:No,alt:""},dm={key:1,src:Mo,alt:""},mm={class:"text"},pm={class:"deposit-amount"},hm={class:"deposit-amount-title"},vm={class:"bottom"},gm=["src"],ym=["src"];function bm(e,t,n,o,i,r){const a=Fi,l=Yn,s=To("Modal");return v(),fe(s,{width:"440px",visible:!0,footer:null,title:e.$t("newAdd.preview"),class:"add-liquidity-modal",onCancel:t[0]||(t[0]=u=>e.$emit("onClose"))},{closeIcon:he(()=>[Gd]),default:he(()=>{var u,f;return[c("div",Qd,[c("div",Jd,[c("div",Zd,[ue(a,{"from-coin":e.fromCoin,"to-coin":e.toCoin},null,8,["from-coin","to-coin"])]),c("div",xd,[c("div",em,[c("span",tm,y(e.$t("common.feeTier")),1),c("span",nm,y(((f=(u=e.route)==null?void 0:u.query)==null?void 0:f.fee)*100)+" %",1)]),c("div",om,[c("span",im,y(e.$t("newAdd.initialPrice")),1),c("span",rm,y(e.currentPrice)+" "+y(e.fromCoin.symbol)+" per "+y(e.toCoin.symbol),1)]),c("div",am,[c("span",sm,y(e.$t("newAdd.priceRange")),1),c("span",lm,[c("div",um,[c("div",cm,y(e.addCommom(e.decimalFormat(e.minPrice,6),6)),1),e.store.theme=="default"?(v(),_("img",fm)):(v(),_("img",dm)),c("div",mm,y(e.maxPrice&&String(e.maxPrice).indexOf("+")>-1?"\u221E":e.addCommom(e.decimalFormat(e.maxPrice,6),6)),1)])])])])]),c("div",pm,[c("div",hm,y(e.$t("newAdd.depositAmount")),1),c("div",vm,[c("div",null,[c("img",{src:e.fromCoin.logo_url?e.fromCoin.logo_url:e.store.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png")},null,8,gm),c("p",null,y(e.fromCoinAmount?e.fromCoinAmount:0),1),c("span",null,y(e.fromCoin.symbol),1)]),c("div",null,[c("img",{src:e.toCoin.logo_url?e.toCoin.logo_url:e.store.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png")},null,8,ym),c("p",null,y(e.toCoinAmount?e.toCoinAmount:0),1),c("span",null,y(e.toCoin.symbol),1)])])])]),ue(l,{class:"big-btn liquidity-btn",onClick:e.createPool},{default:he(()=>[Se(y(e.$t("newAdd.createAndAddLiquidity")),1)]),_:1},8,["onClick"])]}),_:1},8,["title"])}const wm=Ve(Kd,[["render",bm],["__scopeId","data-v-156c71d4"]]),km=ze({setup(){let e=A(!1);const{t,locale:n}=Li(),o=Dr(),i=ee(()=>o),r=Qe(),a=A(0),l=A(!1),s=A(!1),u=A(!1),f=A("fromCoin"),p=A(""),g=A(""),w=A(!1),I=A(!0),X=A(!1),h=A(!0),P=A(!1),C=A(""),b=A(""),d=A(""),k=A(""),M=A(""),J=A(""),U=A(!1),te=A(!1),j=A(!1),T=A(""),Q=A(0),L=A(!0),W=A(!1),ve=A([]),H=A(""),D=A(30),x=A("30D"),K=A("Estimated APR"),Y=A([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),G=A(!0),ge=Qe(),ie=ee(()=>ge),et=ee(()=>{var m;return!!(((m=ne==null?void 0:ne.query)==null?void 0:m.action)&&(!N.value||!S.value||!T.value))}),O=ee(()=>ie.value.chainName?Ao(ie.value.chainName):{}),ct=m=>{console.log(m,"====>>>>item",m.num,D.value),xe.updateCurrentPools(oe.value.poolAddress,ie.value.chainName),x.value=m.time,D.value=m.num},Pe=()=>{console.log("reviseValue==>"),G.value=!G.value},Be=A([]),ft=()=>{a.value=0,xe.updateCurrentPools(oe.value.poolAddress,ie.value.chainName),ot()},De=ee(()=>Number(d.value)>0&&Number(k.value)>0&&Number(d.value)>Number(k.value)),ht=m=>{X.value=m,d.value="0",k.value="\u221E"},qe=ee(()=>{if(ae.value.poolConfigList&&N.value&&S.value){const m=ae.value.poolConfigList.filter(V=>{var re,se,de,ce;return V.token_a.address.toUpperCase()===((re=N.value.address)==null?void 0:re.toUpperCase())&&V.token_b.address.toUpperCase()===((se=S.value.address)==null?void 0:se.toUpperCase())||V.token_b.address.toUpperCase()===((de=N.value.address)==null?void 0:de.toUpperCase())&&V.token_a.address.toUpperCase()===((ce=S.value.address)==null?void 0:ce.toUpperCase())});console.log(m,"===>info");const q=[];return m.forEach(V=>{q.push(V.fee)}),console.log(q,"===>>result"),q}}),Re=ee(()=>[{label:.01+"% "+t("common.feeTier"),title:.01+"% ",fee:1e-4,text:t("newAdd.bestVeryStablePairs")},{label:.05+"% "+t("common.feeTier"),title:.05+"% ",fee:5e-4,text:t("newAdd.bestStablePairs")},ie.value.chainName=="Aptos"?{label:.2+"% "+t("common.feeTier"),title:.2+"% ",fee:.002,text:t("newAdd.bestMostPairs")}:{label:.25+"% "+t("common.feeTier"),title:.25+"% ",fee:.0025,text:t("newAdd.bestMostPairs")},ie.value.chainName=="Aptos"?{label:.6+"% "+t("common.feeTier"),title:.6+"% ",fee:.006,text:t("newAdd.besteExoticPairs")}:{label:1+"% "+t("common.feeTier"),title:1+"% ",fee:.01,text:t("newAdd.besteExoticPairs")}]),Oe=ee(()=>r.slippage),tt=ee(()=>!N.value||!S.value),Le=ee(()=>{var m,q;return!!(!C.value&&!b.value||Number(C.value)>Number(Ke.value)||Number(b.value)>Number(Ye.value)||B.value!==t("button.addLiquidity")&&B.value!==t("newAdd.preview")||oe.value&&oe.value&&oe.value.is_pause||((m=ne==null?void 0:ne.query)==null?void 0:m.action)&&!He.value&&!((q=He.value)!=null&&q.currentPrice))}),B=ee(()=>{var m,q;return oe.value&&oe.value.is_pause?"Pool Closed":Number(C.value)>Number(Ke.value)?t("button.insufficientBalance",{name:N.value.symbol}):Number(b.value)>Number(Ye.value)?t("button.insufficientBalance",{name:S.value.symbol}):P.value||tt.value?t("modal.selectTokenModalTitle"):(console.log(oe.value,"==>poolInfo.value"),console.log(!oe.value&&((m=ne==null?void 0:ne.query)==null?void 0:m.action),"===>!poolInfo.value && route?.query?.action"),!oe.value&&N.value&&S.value&&((q=ne==null?void 0:ne.query)==null?void 0:q.action)?t("newAdd.preview"):k.value!=="\u221E"&&Number(d.value)>=Number(k.value)?t("newAdd.invalidRange"):!Number(C.value)&&!Number(b.value)?t("button.enterAmount"):t("button.addLiquidity"))}),Z=ee(()=>{var m,q,V;return!oe.value||Gt(ie.value.addressHistTokens)||!ie.value.addressHistTokens[(m=oe.value)==null?void 0:m.poolAddress]?null:Object.fromEntries((V=ie.value.addressHistTokens[(q=oe.value)==null?void 0:q.poolAddress])==null?void 0:V.data.map(re=>[re.key,re.value]))}),Ze=ee(()=>I.value?Z.value&&rt(Number(D.value==7?Z.value.before_7_d_contract_price_lowest:D.value==24?Z.value.before_24_h_contract_price_lowest:Z.value.before_30_d_contract_price_lowest),6)||0:Z.value&&rt(1/Number(D.value==7?Z.value.before_7_d_contract_price_highest:D.value==24?Z.value.before_24_h_contract_price_highest:Z.value.before_30_d_contract_price_highest),6)||0),E=ee(()=>I.value?Z.value&&rt(Number(D.value==7?Z.value.before_7_d_contract_price_highest:D.value==24?Z.value.before_24_h_contract_price_highest:Z.value.before_30_d_contract_price_highest),6)||0:(Z.value&&rt(1/Number(D.value==7?Z.value.before_7_d_contract_price_lowest:D.value==24?Z.value.before_24_h_contract_price_lowest:Z.value.before_30_d_contract_price_lowest),6))==1/0?0:Z.value&&rt(1/Number(D.value==7?Z.value.before_7_d_contract_price_lowest:D.value==24?Z.value.before_24_h_contract_price_lowest:Z.value.before_30_d_contract_price_lowest),6)||0),z=Ri(),N=A(),S=A();Wn(()=>{document.body.clientWidth<750?(G.value=!1,e.value=!1):(G.value=!0,e.value=!0)});const Te=m=>{H.value="Custom",d.value=m},bn=m=>{H.value="Custom",k.value=m},wn=()=>{if(!ne.query.action&&(L.value=!0,L.value=!1,d.value!==""&&k.value!==""&&d.value!=="0"&&k.value!=="\u221E")){const q=d.value,V=k.value;(!W.value||!I.value)&&(d.value=String(1/Number(V)),k.value=String(1/Number(q)));const re=M.value,se=J.value;M.value=String(1/Number(se)),J.value=String(1/Number(re)),W.value=!1}const m=N.value;N.value=S.value,S.value=m,I.value=!I.value,zo(1/He.value.currentPrice),C.value=b.value};ye([d,k],([m,q])=>{console.log(m,q,"==>minPrice,maxPrice"),Number(m)!==0&&Number(q)!==0&&ot(),q!=="\u221E"&&Number(m)!==0&&Number(q)!==0&&Number(m)>=Number(q)?j.value=!0:j.value=!1});const kn=m=>{var q,V,re,se;f.value=m,m==="fromCoin"?(p.value=((q=S.value)==null?void 0:q.address)||"",g.value=((V=N.value)==null?void 0:V.address)||""):(p.value=((re=N.value)==null?void 0:re.address)||"",g.value=((se=S.value)==null?void 0:se.address)||""),w.value=!0},je=A(),We=A(),Cn=m=>{P.value=!1,f.value==="fromCoin"?(S.value&&m.address.toLowerCase()===(S==null?void 0:S.value.address.toLowerCase())&&(S.value=null,We.value=null,T.value=""),N.value=m,je.value=m):(N.value&&m.address.toLowerCase()===(N==null?void 0:N.value.address.toLowerCase())&&(N.value=null,je.value=null,T.value=""),S.value=m,We.value=m),w.value=!1},_n=m=>{m==="fromCoin"?(h.value=!0,ie.value.chainName==="Aptos"?C.value=Number(Ke.value)>0?N.value.symbol=="APT"?new F(Number(Ke.value)).sub(new F(.1)).lt(new F(0))?"0":new F(Number(Ke.value)).sub(new F(.1)).toString():String(Ke.value):"":C.value=Number(Ke.value)>0?N.value.symbol=="SUI"?new F(Number(Ke.value)).sub(new F(1e-4)).lt(new F(0))?"0":new F(Number(Ke.value)).sub(new F(1e-4)).toString():String(Ke.value):""):(h.value=!1,ie.value.chainName==="Aptos"?b.value=Number(Ye.value)>0?S.value.symbol=="APT"?new F(Number(Ye.value)).sub(new F(.1)).lt(new F(0))?"0":new F(Number(Ye.value)).sub(new F(.1)).toString():String(Ye.value):"":b.value=Number(Ye.value)>0?S.value.symbol=="SUI"?new F(Number(Ye.value)).sub(new F(1e-4)).lt(new F(0))?"0":new F(Number(Ye.value)).sub(new F(1e-4)).toString():String(Ye.value):"")},Pn=m=>{m==="fromCoin"?(h.value=!0,C.value=Number(Ke.value)>0?oo(new F(Number(Ke.value)).div(2).toString(),N.value.decimals).toString():""):(h.value=!1,b.value=Number(Ye.value)>0?oo(new F(Number(Ye.value)).div(2).toString(),S.value.decimals).toString():"")};ye(C,(m,q)=>{console.log(C,"===>fromCoinAmount"),m==""&&h.value&&(b.value=""),m&&h.value&&ot()}),ye(b,(m,q)=>{console.log(m,"===>>>>newValsda"),m==""&&!h.value&&(C.value=""),m&&!h.value&&ot()});const In=()=>{N.value=null,S.value=null,d.value="0",k.value="0",C.value="",b.value="",P.value=!0,T.value="",U.value=!1,Ie.value=!0,$e.value=!0,L.value=!1},zt=A(!1),{setIsShowSuccess:Lt,setIsShowRejected:qt,setIsShowWaiting:nt,setTransactionDesc:an,setTransactionTxid:Et,setPositiomNum:sn}=r,ne=Kn(),xe=on(),ae=ee(()=>xe);ye(()=>[ae.value.tokens,ae.value.chinaTokens],([m,q])=>{if(m&&q){const V=Object.fromEntries(m.concat(q).map(re=>[re.address,re]));ne&&ne.query&&ne.query.tokena?(N.value=Wt(V,ne.query.tokena),je.value=Wt(V,ne.query.tokena)):N.value=Wt(V,"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDT"),ne&&ne.query&&ne.query.tokenb?(S.value=Wt(V,ne.query.tokenb),We.value=Wt(V,ne.query.tokenb)):S.value=Wt(V,"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC")}},{immediate:!0});const vt=A({}),Ie=A(!1),$e=A(!1),Vt=A(),jt=A(),gt=A(),yt=A(),ot=async()=>{var St,Tt,Nt,Mt;if(!d.value&&!k.value)return!1;if(!C.value&&!b.value&&!d.value&&!k.value)return;const m=oe.value?oe.value:He.value;if(console.log(m,"===>poolInfos"),Gt(m))return;console.log("\u6DFB\u52A0\u6D41\u52A8\u6027\u9884\u8BA1\u7B97=====>");const{TickUtil:q,TickMath:V,getNearestTickByTick:re}=O.value,se=m==null?void 0:m.token_a.decimals,de=m==null?void 0:m.token_b.decimals;let ce,_e,me,be,ke,Ce,Ne,Ee,le=m.current_tick_index;const Ge=m.priceConfigObj;let Ae;if(m.token_a.address.toLowerCase()===N.value.address.toLowerCase()&&m.token_b.address.toLowerCase()===S.value.address.toLowerCase()?Ae=!0:Ae=!1,console.log(Ae,"=====>directs"),console.log("currentTickIndex####",le),console.log("currentTickIndex####",le),console.log("currentTickIndex####",le),d.value==="0"&&k.value==="\u221E"?(me=q.getMinIndex(Number(m.tickSpacing)),be=q.getMaxIndex(Number(m.tickSpacing)),ke=V.tickIndexToSqrtPriceX64(me),Ce=V.tickIndexToSqrtPriceX64(be)):H.value=="Custom"||ne.query.action?(Ae?(ce=Number(d.value),_e=Number(k.value)):(ce=1/Number(k.value),_e=1/Number(d.value)),console.log(d.value,k.value,"===>maxPrice.value"),Ne=ce==0?-443630:V.priceToTickIndex(new F(ce),se,de),Ee=V.priceToTickIndex(new F(_e),se,de),me=re(Ne,Number(m.tickSpacing)),be=re(Ee,Number(m.tickSpacing)),ke=V.priceToSqrtPriceX64(new F(ce),se,de),Ce=V.priceToSqrtPriceX64(new F(_e),se,de)):(me=(St=Ge[H.value])==null?void 0:St.lower,be=(Tt=Ge[H.value])==null?void 0:Tt.upper,ke=V.tickIndexToSqrtPriceX64(me),Ce=V.tickIndexToSqrtPriceX64(be)),k.value!=="\u221E"&&me>=be){Ie.value=!0,C.value="",$e.value=!0,b.value="";return}if(k.value==="\u221E"||le>me&&le<be){Ie.value=!1,$e.value=!1;let Me;if(C.value||b.value){if(h.value){const wt=new F(C.value).mul(Math.pow(10,N.value.decimals)).toString();Me=new it(wt)}else{const wt=new F(b.value).mul(Math.pow(10,S.value.decimals)).toString();Me=new it(wt)}console.log(Ae,"======>directs");const{liquidityAmount:pe,tokenMaxA:Rt,tokenMaxB:dt,tokenMaxAOrigin:bt,tokenMaxBOrigin:Ut}=O.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:m.token_a,tokenB:m.token_b,lowerTick:me,upperTick:be,coinAmount:Me,iscoinA:Ae?h.value:!h.value,roundUp:!0,slippage:Number(Oe.value)/100,curSqrtPrice:new it(m.current_sqrt_price)});vt.value={liquidityAmount:pe,tokenMaxA:Rt,tokenMaxB:dt,tokenMaxAOrigin:bt,tokenMaxBOrigin:Ut},console.log(pe,Rt,dt,bt,Ut,"preAdd"),Ae?h.value?b.value=Number(dt)>0?dt:"":C.value=Number(Rt)>0?Rt:"":h.value?b.value=Rt:C.value=dt}}else if(le>=be){if(Ae?C.value="":b.value="",Ie.value=Ae,$e.value=!Ae,C.value||b.value){let Me;if(Ae){const pe=new F(b.value).mul(Math.pow(10,(Nt=S.value)==null?void 0:Nt.decimals)).toString();Me=new it(pe),vt.value={liquidityAmount:O.value.estimateLiquidityForCoinB(ke,Ce,Me),tokenMaxA:0,tokenMaxB:b.value}}else{const pe=new F(C.value).mul(Math.pow(10,(Mt=N.value)==null?void 0:Mt.decimals)).toString();Me=new it(pe),vt.value={liquidityAmount:O.value.estimateLiquidityForCoinB(ke,Ce,Me),tokenMaxA:0,tokenMaxB:C.value}}}}else if(le<=me){if(Ie.value=!Ae,$e.value=Ae,Ae?b.value="":C.value="",C.value||b.value){let Me;if(Ae){const pe=new F(C.value).mul(Math.pow(10,N.value.decimals)).toString();Me=new it(pe),console.log(ke,"minPriceX64===>"),console.log(Ce,"maxPriceX64===>maxPriceX64"),console.log(pe,"===>amount"),vt.value={liquidityAmount:O.value.estimateLiquidityForCoinA(ke,Ce,Me),tokenMaxA:C.value,tokenMaxB:0}}else{const pe=new F(b.value).mul(Math.pow(10,S.value.decimals)).toString();Me=new it(pe),vt.value={liquidityAmount:O.value.estimateLiquidityForCoinA(ke,Ce,Me),tokenMaxA:b.value,tokenMaxB:0}}}}else Ie.value=!0,C.value="",$e.value=!0,b.value=""},$=A(0);ye(()=>ne.query,m=>{m&&m.fee&&($.value=m.fee,T.value=Number(m.fee)*100+"% "+t("common.feeTier"))},{immediate:!0,deep:!0}),ye(()=>[N.value,S.value],([m,q])=>{console.log("0315###test###newFromCoin###",m),console.log("0315###test###newToCoin###",q)},{immediate:!0});const Ft=ee(()=>{var se,de,ce,_e,me,be,ke,Ce,Ne,Ee,le,Ge,Ae,St,Tt,Nt,Mt;const m=(se=ne==null?void 0:ne.query)==null?void 0:se.fee,q=(de=ne==null?void 0:ne.query)==null?void 0:de.tokena,V=(ce=ne==null?void 0:ne.query)==null?void 0:ce.tokenb;let re=null;for(let Me=0;Me<ae.value.poolConfigList.length;Me++){const pe=ae.value.poolConfigList[Me];!q||!V?re={}:m?(pe.token_a.address.toUpperCase()===((_e=N.value.address)==null?void 0:_e.toUpperCase())&&pe.token_b.address.toUpperCase()===((me=S.value.address)==null?void 0:me.toUpperCase())&&(console.log(pe,"p===>"),console.log($.value,"===>poolInfoFee.value")),(pe.token_a.address.toUpperCase()===((be=N.value.address)==null?void 0:be.toUpperCase())&&pe.token_b.address.toUpperCase()===((ke=S.value.address)==null?void 0:ke.toUpperCase())&&pe.fee==$.value||pe.token_b.address.toUpperCase()===((Ce=N.value.address)==null?void 0:Ce.toUpperCase())&&pe.token_a.address.toUpperCase()===((Ne=S.value.address)==null?void 0:Ne.toUpperCase())&&pe.fee==$.value)&&(re=pe)):(pe.token_a.address.toUpperCase()===((le=(Ee=N==null?void 0:N.value)==null?void 0:Ee.address)==null?void 0:le.toUpperCase())&&pe.token_b.address.toUpperCase()===((Ae=(Ge=S==null?void 0:S.value)==null?void 0:Ge.address)==null?void 0:Ae.toUpperCase())||pe.token_b.address.toUpperCase()===((Tt=(St=N==null?void 0:N.value)==null?void 0:St.address)==null?void 0:Tt.toUpperCase())&&pe.token_a.address.toUpperCase()===((Mt=(Nt=S==null?void 0:S.value)==null?void 0:Nt.address)==null?void 0:Mt.toUpperCase()))&&(re=pe)}return console.log("\u6267\u884C\u5B8C\u4E86===>"),re}),oe=ee(()=>{var q,V,re,se,de,ce,_e,me,be,ke,Ce;const m=(q=ne==null?void 0:ne.query)==null?void 0:q.fee;if(console.log("0309###deposit###pools.value.newTokenObj####",ae.value.newTokenObj),console.log("0309###deposit###fee####",m),console.log("0309###deposit###poolInfoFee####",$),console.log("0309###deposit###pools.value.poolsObj####",ae.value.poolsObj),ae.value.newTokenObj&&N.value&&S.value){let Ne=null;for(const Ee in ae.value.poolsObj){const le=ae.value.poolsObj[Ee];console.log(),m?(le.token_a.address.toUpperCase()===((V=N.value.address)==null?void 0:V.toUpperCase())&&le.token_b.address.toUpperCase()===((re=S.value.address)==null?void 0:re.toUpperCase())&&(console.log(le,"p===>"),console.log($.value,"===>poolInfoFee.value")),(le.token_a.address.toUpperCase()===((se=N.value.address)==null?void 0:se.toUpperCase())&&le.token_b.address.toUpperCase()===((de=S.value.address)==null?void 0:de.toUpperCase())&&le.fee==$.value||le.token_b.address.toUpperCase()===((ce=N.value.address)==null?void 0:ce.toUpperCase())&&le.token_a.address.toUpperCase()===((_e=S.value.address)==null?void 0:_e.toUpperCase())&&le.fee==$.value)&&(Ne=le)):(le.token_a.address.toUpperCase()===((me=N.value.address)==null?void 0:me.toUpperCase())&&le.token_b.address.toUpperCase()===((be=S.value.address)==null?void 0:be.toUpperCase())||le.token_b.address.toUpperCase()===((ke=N.value.address)==null?void 0:ke.toUpperCase())&&le.token_a.address.toUpperCase()===((Ce=S.value.address)==null?void 0:Ce.toUpperCase()))&&(Ne=le)}return console.log(Ne,"info===>"),Ne&&!Gt(Ne)?Ne:null}return null});ye(()=>[Ft.value,oe.value,ae.value.recommendRangesObj],(m,q)=>{m[0]&&!m[1]&&m[2]&&m[2][m[0].address]&&(!q||m[0]&&m[0].address!==q[0]&&q[0].address)&&(console.log("0315###info test###newBasePoolInfo#####",m[0]),console.log("0315###info test###newPoolInfo#####",m[1]),xe.setSinglePool(m[0],m[2][m[0].address],ie.value.chainName))},{immediate:!0});const br=A({}),wr=async(m,q)=>{if(console.log(m,"vaule====>"),m){const{TickMath:V,getNearestTickByTick:re}=O.value;q&&(L.value=!0),m.token_a.address.toLowerCase()===N.value.address.toLowerCase()&&m.token_b.address.toLowerCase()===S.value.address.toLowerCase()?I.value=!0:I.value=!1,console.log(I.value,"direct.value===>direct.value"),W.value=!0;const se=m.token_a.decimals,de=m.token_b.decimals;Ie.value=!1,$e.value=!1,T.value=m.fee*100+"% "+t("common.feeTier");const ce=m.current_tick_index;gt.value=V.sqrtPriceX64ToPrice(m.current_sqrt_price,se,de).toString(),yt.value=String(1/gt.value);const _e=await O.value.getTicks(m);if(console.log("0315###poolInfoWatch###getTicks###result####",_e),ve.value=_e?O.value.getTickDataFromUrlData(_e):[],q){let me=m.priceConfigObj;const be=ce-Number(oe.value.type=="unstable"?Number(oe.value.tickSpacing)*2:Number(oe.value.tickSpacing)*3),ke=ce+Number(oe.value.type=="unstable"?Number(oe.value.tickSpacing)*2:Number(oe.value.tickSpacing)*3);me["Full Range"]={lower:-443630,upper:443630},me.Custom={lower:be,upper:ke};const Ce=[];for(let Ne in me)Ce.push({...me[Ne],key:Ne});console.log(me,"===>priceConfigList"),Be.value=Ce,console.log(m,"value===>"),m.type?m.isSelfBuilt?H.value="Custom":m.type=="stable"?H.value="suggested":H.value="passive":H.value="Custom",br.value=me,Xo({key:H.value,...me[H.value]})}L.value=!1}else L.value=!1},kr=ee(()=>(console.log(xe.getPoolInfoSuccess,"===>poolStore.getPoolInfoSuccess"),xe.getPoolInfoSuccess));ye(()=>oe.value,(m,q)=>{m?(!q||m.poolAddress!==q.poolAddress||m.current_sqrt_price!==q.current_sqrt_price)&&wr(m,!q||m.poolAddress!==q.poolAddress):(Ie.value=!1,$e.value=!1,L.value=!1,gt.value="",yt.value="")},{immediate:!0});const Ke=ee(()=>i.value.assets&&N.value&&i.value.assets[N.value.address]?Ko(i.value.assets[N.value.address].balance,N.value.decimals):"0"),Ye=ee(()=>i.value.assets&&S.value&&i.value.assets[S.value.address]?Ko(i.value.assets[S.value.address].balance,S.value.decimals):"0"),Cr=async()=>{console.log("0315###resetTickList####");const m=await O.value.getTicks(oe.value);console.log("0315###resetTickList###result####",m),ve.value=m?O.value.getTickDataFromUrlData(m):[]},_r=async()=>{var ke,Ce,Ne,Ee,le,Ge,Ae,St,Tt,Nt,Mt,Me,pe,Rt;zt.value=!1,ae.value.currentPositionInfo={},Et(""),an(t("tips.increaseLiquiditySuccess",{from:Ie.value?"":`${C.value} ${(ke=N.value)==null?void 0:ke.symbol}`,and:!Ie.value&&!$e.value?"and":"",to:$e.value?"":`${b.value} ${(Ce=S.value)==null?void 0:Ce.symbol}`})),nt(!0);const m=I.value?h.value:!h.value,q=oe.value.priceConfigObj;let V,re,se,de,ce,_e;const me=oe.value.token_a.decimals,be=oe.value.token_b.decimals;d.value==="0"&&k.value==="\u221E"?(se=O.value.TickUtil.getMinIndex(Number(oe.value.tickSpacing)),de=O.value.TickUtil.getMaxIndex(Number(oe.value.tickSpacing))):H.value=="Custom"?(I.value?(V=Number(d.value),re=Number(k.value)):(V=1/Number(k.value),re=1/Number(d.value)),ce=V==0?-443630:O.value.TickMath.priceToTickIndex(new F(V),me,be),_e=O.value.TickMath.priceToTickIndex(new F(re),me,be),se=O.value.getNearestTickByTick(ce,Number(oe.value.tickSpacing)),de=O.value.getNearestTickByTick(_e,Number(oe.value.tickSpacing))):(se=q[H.value].lower,de=q[H.value].upper);try{const dt=await O.value.getAddLiquidityTransactionPayload({pool:{poolAddress:oe.value.poolAddress,token_a:oe.value.token_a,token_b:oe.value.token_b},amount:h.value?C.value:b.value,fix_amount_a:m,tick_lower:se,tick_upper:de,index:0,slippage:Number(Oe.value)/100,roundUp:!0});let bt;if(ie.value.chainName==="Aptos")bt=await i.value.currentWallet.signAndSubmitTransaction(dt);else{const Ut=await i.value.currentWallet.signAndExecuteTransaction(dt);bt=O.value.handleTx(Ut)}if(bt&&bt.hash){Et(bt.hash),nt(!1),Lt(!0);const Ut={title:t("button.addLiquidity"),desc:t("tips.addLiquiditySuccessText",{from:Ie.value?"":`${C.value} ${(Ne=N.value)==null?void 0:Ne.symbol}`,and:!Ie.value&&!$e.value?"and":"",to:$e.value?"":`${b.value} ${(Ee=S.value)==null?void 0:Ee.symbol}`}),hash:bt.hash,tit:"Position Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(le=N.value)==null?void 0:le.symbol}`,numa:Ie.value?"":`- ${C.value}`,logoa:ae.value.tokensObj&&N.value&&N.value.address&&ae.value.tokensObj[N.value.address]&&ae.value.tokensObj[N.value.address].logoURI,tokenb:`${(Ge=S.value)==null?void 0:Ge.symbol}`,numb:$e.value?"":`- ${b.value}`,logob:ae.value.tokensObj&&S.value&&S.value.address&&ae.value.tokensObj[S.value.address]&&ae.value.tokensObj[S.value.address].logoURI},text:`Deopsit ${Ie.value?"":`${C.value} ${(Ae=N.value)==null?void 0:Ae.symbol}`} ${!Ie.value&&!$e.value?"and":""} ${$e.value?"":`${b.value} ${(St=S.value)==null?void 0:St.symbol}`}`};O.value.showTransitionPending(Ut);const wt=await O.value.watchTransaction(Ut,!0);if(wt.status){if(Lt(!1),ae.value.setCurrentPositionLoading(!0),ie.value.chainName==="Aptos")ae.value.setCurrentPositionInfo(wt.nftInfo[0].data.id.creator,wt.nftInfo[0].data.id.collection,wt.nftInfo[0].data.name,ie.value.chainName);else{const Vo=wt.nftInfo.filter(jo=>jo.moveEvent&&jo.moveEvent.type.includes("OpenPositionEvent"));ae.value.setCurrentPositionInfo((Mt=(Nt=(Tt=Vo[0])==null?void 0:Tt.moveEvent)==null?void 0:Nt.fields)==null?void 0:Mt.pool,"","",ie.value.chainName,(Rt=(pe=(Me=Vo[0])==null?void 0:Me.moveEvent)==null?void 0:pe.fields)==null?void 0:Rt.position)}s.value=!0,setTimeout(()=>{xe.updateCurrentPools(oe.value.poolAddress,ie.value.chainName),O.value.getAccount(i.value.address)},1e3),setTimeout(async()=>{Cr()},3e3)}sn()}else nt(!1),qt(!0);C.value="",b.value=""}catch(dt){C.value="",b.value="",console.log("Add liquidity Error###",dt),nt(!1),qt(!0)}},Pr=m=>{switch(m){case"active":return t("newAdd.activeTips");case"passive":return t("newAdd.passiveTips");case"Full Range":return t("newAdd.fullRangTips");case"suggested":return t("newAdd.suggestedTips");case"Custom":return t("newAdd.customTips")}},Ir=m=>{switch(m){case"suggested":return t("newAdd.suggested");case"active":return t("newAdd.active");case"passive":return t("newAdd.conservative");case"Full Range":return t("newAdd.fullRange");case"Custom":return t("newAdd.custom")}},Xo=m=>{console.log("priceTab====>"),H.value=m.key;const q=oe.value.token_a.decimals,V=oe.value.token_b.decimals,{lower:re,upper:se}=m,de=O.value.TickMath.tickIndexToPrice(re,q,V).toString(),ce=O.value.TickMath.tickIndexToPrice(se,q,V).toString();if(m.key=="Full Range"){Vt.value=re,jt.value=se,ht(!0),ot();return}I.value?(M.value=String(de),d.value=String(de),J.value=String(ce),k.value=String(ce),Vt.value=re,jt.value=se,ot()):(M.value=String(1/Number(ce)),d.value=String(1/Number(ce)),J.value=String(1/Number(de)),k.value=String(1/Number(de)),Vt.value=O.value.TickMath.priceToTickIndex(new F(1/Number(ce)),q,V),jt.value=O.value.TickMath.priceToTickIndex(new F(1/Number(de)),q,V),ot())},$r=ee(()=>ae.value.newTokenObj&&N.value.address&&ae.value.newTokenObj[N.value.address]&&ae.value.newTokenObj[N.value.address].logoURI),Ar=ee(()=>ae.value.newTokenObj&&S.value.address&&ae.value.newTokenObj[S.value.address]&&ae.value.newTokenObj[S.value.address].logoURI),Sr=m=>{console.log(m,"==>item"),qe.value.includes(m.fee)?(T.value=m.label,$.value=m.fee,z.push(`/deposit?tokena=${N.value.address}&tokenb=${S.value.address}&fee=${m.fee}`),d.value="0",k.value="0"):(console.log("\u53BB\u521B\u5EFA"),z.push(`/deposit?action=create-pool&tokena=${N.value.address}&tokenb=${S.value.address}&fee=${m.fee}`),oe.value&&(d.value="",k.value=""))},xn=A(!1),Tr=()=>{oe.value?zt.value=!0:xn.value=!0},He=A(null),eo=A(""),to=A(""),zo=m=>{m?(eo.value=m,gt.value=m,yt.value=m,to.value=yt.value):(eo.value="",gt.value="",yt.value="",to.value="");const q=ie.value.chainName=="Aptos"?Yr:Gr;if(N.value&&S.value&&m){const V=m&&O.value.TickMath.priceToSqrtPriceX64(new F(m),je.value.decimals,We.value.decimals);console.log(V.toString(),"===>current_sqrt_price.toString");const re=m&&O.value.TickMath.priceToSqrtPriceX64(new F(1/m),N.value.decimals,S.value.decimals),se=je.value.decimals,de=We.value.decimals,ce=O.value.TickMath.priceToTickIndex(new F(m),se,de,q[ne.query.fee]),_e=ce-q[ne.query.fee]*5,me=ce+q[ne.query.fee]*5,be=O.value.TickMath.tickIndexToPrice(_e,se,de).toString(),ke=O.value.TickMath.tickIndexToPrice(me,se,de).toString();d.value=be,k.value=ke,M.value=be,J.value=ke;const Ce={token_a:je.value,token_b:We.value,isCreate:!0,tickSpacing:q[ne.query.fee],currentPrice:m,current_sqrt_price:V,tick_lower:_e,tick_upper:me,current_tick_index:ce,currentPriceReverse:Dt(String(1/m),6),reverse_current_sqrt_price:re};console.log(V,"===>current_sqrt_price"),He.value=Ce,ot()}else He.value=null,d.value="",k.value=""},Nr=async()=>{var be,ke,Ce,Ne;xn.value=!1;let m,q,V,re,se,de;const ce=je.value.decimals,_e=We.value.decimals;Et(""),an(t("tips.increaseLiquiditySuccess",{from:Ie.value?"":`${C.value} ${(be=N.value)==null?void 0:be.symbol}`,and:!Ie.value&&!$e.value?"and":"",to:$e.value?"":`${b.value} ${(ke=S.value)==null?void 0:ke.symbol}`})),nt(!0),d.value==="0"&&k.value==="\u221E"?(V=O.value.TickUtil.getMinIndex(Number(He.value.tickSpacing)),re=O.value.TickUtil.getMaxIndex(Number(He.value.tickSpacing))):(I.value?(m=Number(d.value),q=Number(k.value)):(m=1/Number(k.value),q=1/Number(d.value)),se=m==0?-443630:O.value.TickMath.priceToTickIndex(new F(m),ce,_e),de=O.value.TickMath.priceToTickIndex(new F(q),ce,_e),V=O.value.getNearestTickByTick(se,Number(He.value.tickSpacing)),re=O.value.getNearestTickByTick(de,Number(He.value.tickSpacing)));const me=I.value?h.value:!h.value;try{const Ee=await O.value.getCreatPoolTransactionPayload({coinTypeA:je.value.address,coinTypeB:We.value.address,tick_spacing:Number(He.value.tickSpacing),initialize_sqrt_price:new it(He.value.current_sqrt_price),uri:"",current_tick_index:He.value.current_tick_index,max_amount_a:I.value?C.value:b.value,max_amount_b:I.value?b.value:C.value,tick_lower:V,tick_upper:re,slippage:Number(Oe.value)/100,decimalsA:ce,decimalsB:_e,fix_amount_a:me,liquidityInput:vt.value});let le;if(console.log(JSON.stringify(Ee),"===>creatPoolPayload"),ie.value.chainName==="Aptos")le=await i.value.currentWallet.signAndSubmitTransaction(Ee);else{const Ge=await i.value.currentWallet.signAndExecuteTransaction(Ee);le=O.value.handleTx(Ge)}if(le&&le.hash){Et(le.hash),nt(!1),Lt(!0);const Ge={title:"Created pool",desc:"Pool created successfully ",hash:le.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(Ce=N.value)==null?void 0:Ce.symbol}`,numa:Ie.value?"":`- ${C.value}`,logoa:ae.value.tokensObj&&N.value&&N.value.address&&ae.value.tokensObj[N.value.address]&&ae.value.tokensObj[N.value.address].logoURI,tokenb:`${(Ne=S.value)==null?void 0:Ne.symbol}`,numb:$e.value?"":`- ${b.value}`,logob:ae.value.tokensObj&&S.value&&S.value.address&&ae.value.tokensObj[S.value.address]&&ae.value.tokensObj[S.value.address].logoURI},text:"Pool created successfully"};O.value.showTransitionPending(Ge),(await O.value.watchTransaction(Ge,!0)).status&&(Lt(!1),l.value=!0,setTimeout(()=>{xe.setPoolConfigList(ie.value.chainName),O.value.getAccount(i.value.address)},1e3)),sn()}else nt(!1),qt(!0);C.value="",b.value=""}catch(Ee){xe.setPoolConfigList(ie.value.chainName),console.log(Ee,"error===>"),C.value="",b.value="",nt(!1),qt(!0)}};return console.log(We.value,je.value,"======>>>>>>>>"),{isCreateSuccess:l,intPriceReverse:to,isShowMask:et,isPc:e,intPrice:eo,createPoolToCoin:We,createPoolFromCoin:je,getPoolInfoSuccess:kr,toCreatePool:Nr,createPoolInfo:He,changecurrentPrice:zo,isShowCreatePoolModal:xn,addOrCreate:Tr,halfBtnSelect:Pn,selectFee:Sr,isViewDetail:s,addCommom:Zt,decimalUi:rt,fromCoinUrl:$r,toCoinUrl:Ar,t,wallet:i,toAdd:_r,chartLoading:L,currentTick:Q,tickList:ve,poolInfo:oe,storeIndex:ie,importIcon:rn,addLiquidityBtnText:B,slippage:Oe,countdown:a,loading:u,fromCoin:N,toCoin:S,openCoinSelect:kn,onCoinSelect:Cn,existingCoins:p,lastSelectCoin:g,currentCoinKey:f,showCoinSelect:w,fromCoinAmount:C,toCoinAmount:b,maxBtnSelect:_n,fixedFromCoin:h,isShowLiquidityModal:zt,direct:I,toggle:wn,edit:U,inputValue:T,feeTierList:Re,minPrice:d,maxPrice:k,invalidPriceRange:De,defaultMinPrice:M,defaultMaxPrice:J,priceRangeChangeMin:Te,priceRangeChangeMax:bn,toFullRange:ht,clearAll:In,clickClear:P,positionError:j,positionTips:te,router:z,clickRefresh:ft,fromCoinBlance:Ke,toCoinBlance:Ye,showToCoinLock:$e,showFromCoinLock:Ie,currentPriceReverse:yt,currentPrice:gt,getPirceText:Pr,currentPriceTab:H,currentPriceTabList:Be,getPirceKey:Ir,priceTab:Xo,aprRewardsParameter:D,aprRewardsDateList:Y,aprTab:ct,reviseValue:Pe,label:G,aprTitle:K,isCreatePool:qe,before7dContractPriceLowest:Ze,before7dContractPriceHighest:E,aprRewardsTime:x,addLiquidityBtnDisabled:Le,checkNullObj:Gt,sFixD:oo}}}),$i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAJFBMVEVHcEwlW04mW04oXlEmW04SHx4jR0B2/9wQFBMVJyVk17szaV2jJaSaAAAABHRSTlMA8K8m/cUwkQAAAL5JREFUSMdjYMAKmBWFDBgIAUMXF2GCilQy2pyQ+Swu2EBHhyNIkgnIdMCjyCUUCMJgilxDMUFKRpsblBmCU9EUFxdPgooiU9ymElSEBEYVDR1FkaumElYUVp46qmjAFTGruE0lqMgQkaGnpYFAdvk2MJ2JpEgFUTQsL0cGVUiKRKCFDLGKiLKOKIdTGASjSYWWiogqMEYL1lFFWJoRTgYEFU0Bt6QIKEoBt6SwN43QWlJEKSKx4UZ+ExDUmAQAo9rc9CAs4WAAAAAASUVORK5CYII=",Ai="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTANNcARNcAdKcgEdMQRNcBM8V3bI/2Gq2ihWdudYHvAAAAAEdFJOUwDwryb9xTCRAAAAuklEQVRIx2NgwAqYFYUMGAgBw9BQYYKKVFPcgpD5rKHYgItLIEiSCcgMwKMIiFxcXGGKQlwwQWqKWxiU6YpTEdCEEIKKXFLDXAgrQjJ0VNHQUdRBhCK38pRRRQOuiFk1jLAiQ0SGdksDgczyaWA6BUmRKqJoaC9HBhVIikShhQyxioiyjiiHUxgEo0mFloqIKjBGC9ZRRViaEUEGBBW5gltSBBSFgltS2JtGaC0pohSR2HAjvwkIakwCANqYbmgtLE7YAAAAAElFTkSuQmCC",gr=""+new URL("img-no-data_2x.e925467a.png",import.meta.url).href,yr=""+new URL("img-no-data_2x.8bc9afa2.png",import.meta.url).href;const At=e=>(It("data-v-da9a94c1"),e=e(),$t(),e),Cm={class:"pools-container"},_m={key:0,class:"content pc-content"},Pm={class:"content-left"},Im={class:"content-left-bg"},$m={class:"content-left-title"},Am={key:0,class:"pool-warning"},Sm={class:"coin-select"},Tm=At(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-edit"})],-1)),Nm={key:0,class:"fee-container"},Mm=["onClick"],Rm={key:0},Lm={key:1},qm={class:"deposit-title"},Em={class:"card-container"},Fm={class:"card-item"},Um={class:"card-item"},Om={key:0,class:"icon","aria-hidden":"true"},Bm=At(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),Dm=[Bm],Hm={class:"pc-network"},Xm={class:"content-right"},zm={key:0,class:"initPrice-mask"},Vm={class:"content-right-title"},jm=At(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),Wm={class:"content-right-bg"},Km={key:1,class:"price-tab"},Ym=["onClick"],Gm={key:2,class:"create-pool-tips"},Qm={key:3,class:"set-price-range"},Jm={key:0},Zm={key:1,class:"coin"},xm={key:2,class:"coin"},ep={key:3,class:"no-price"},tp={key:4,class:"toggle"},np=["src"],op=["src"],ip={key:6,class:"position-tips"},rp=["src"],ap={class:"tips"},sp={key:7,class:"position-tips"},lp=["src"],up={class:"error"},cp={key:8,class:"d3-chart-box"},fp={key:9,class:"day-7-price-range"},dp=At(()=>c("i",null,null,-1)),mp={class:"gray"},pp={key:11,class:"create-pool-tips"},hp={key:1,class:"no-data"},vp={key:0,src:gr,alt:""},gp={key:1,src:yr,alt:""},yp={key:1,class:"content h5-content"},bp={class:"content-left"},wp={class:"content-left-bg"},kp={class:"content-left-title"},Cp={key:0,class:"pool-warning"},_p={class:"coin-select"},Pp=At(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-edit"})],-1)),Ip={key:0,class:"fee-container"},$p=["onClick"],Ap={key:0},Sp={key:1},Tp={class:"content-right"},Np={key:0,class:"initPrice-mask"},Mp={class:"content-right-title"},Rp=At(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),Lp={class:"content-right-bg"},qp={key:1,class:"price-tab"},Ep=["onClick"],Fp={key:2,class:"create-pool-tips"},Up={key:3,class:"set-price-range"},Op={key:0},Bp={key:1,class:"coin"},Dp={key:2,class:"coin"},Hp={key:3,class:"no-price"},Xp={key:4,class:"toggle"},zp=["src"],Vp=["src"],jp={key:6,class:"position-tips"},Wp=["src"],Kp={class:"tips"},Yp={key:7,class:"position-tips"},Gp=["src"],Qp={class:"error"},Jp={key:8,class:"d3-chart-box"},Zp={key:9,class:"day-7-price-range"},xp=At(()=>c("i",null,null,-1)),eh={class:"gray"},th={key:11,class:"create-pool-tips"},nh={key:1,class:"no-data"},oh={key:0,src:gr,alt:""},ih={key:1,src:yr,alt:""},rh={key:0,class:"icon","aria-hidden":"true"},ah=At(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),sh=[ah],lh={class:"pc-network"},uh={class:"new-right"},ch={class:"deposit-title"},fh={class:"card-container"},dh={class:"card-item"},mh={class:"card-item"},ph={key:0,class:"icon","aria-hidden":"true"},hh=At(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),vh=[hh],gh={class:"h5-network"};function yh(e,t,n,o,i,r){var T,Q,L,W,ve,H,D,x,K,Y,G,ge,ie,et,O,ct,Pe,Be,ft,De,ht,qe,Re,Oe,tt,Le,B,Z,Ze,E,z,N,S,Te,bn,wn,kn,je,We,Cn,_n,Pn,In,zt,Lt,qt,nt,an,Et,sn,ne,xe,ae,vt,Ie,$e,Vt,jt,gt,yt,ot;const a=Mr,l=oa,s=Si,u=ma,f=Hr,p=wa,g=$a,w=Ua,I=Yn,X=qr,h=Xa,P=ls,C=Rf,b=Mi,d=Vr,k=od,M=Xr,J=zr,U=Ed,te=Wd,j=wm;return v(),_("div",Cm,[ue(a),ue(l,{"pool-info":e.poolInfo,onClearAll:e.clearAll,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClearAll","onClickRefresh"]),e.isPc?(v(),_("div",_m,[c("div",Pm,[c("div",Im,[c("div",$m,[Se(y(e.$t("common.selectPool"))+" ",1),ue(s,{placement:"bottom","arrow-point-at-center":""},{title:he(()=>[c("span",null,y(e.t("newAdd.poolWarning")),1)]),default:he(()=>[e.poolInfo&&e.poolInfo.isSelfBuilt?(v(),_("div",Am)):R("",!0)]),_:1})]),c("div",Sm,[ue(u,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[0]||(t[0]=$=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ue(u,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:t[1]||(t[1]=$=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),c("div",{class:we(["pool-fee",e.edit?"pool-fee-edit":""])},[c("div",{class:"pool-fee-header",onClick:t[2]||(t[2]=$=>e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit)},[c("span",{class:we(e.inputValue?"":"fee-span")},y(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),Tm]),e.edit?(v(),_("div",Nm,[(v(!0),_(_t,null,un(e.feeTierList,($,Ft)=>(v(),_("div",{key:Ft,class:we(["fee-item",[e.inputValue&&e.inputValue==$.label?"fee-item-active":"",e.isCreatePool&&e.isCreatePool.includes($.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:oe=>e.selectFee($)},[e.$route.query.action?(v(),_("div",Rm,[c("p",null,y($.title),1),c("p",{class:we(e.isCreatePool&&e.isCreatePool.includes($.fee)?"text-default":"text-theme")},y(e.isCreatePool&&e.isCreatePool.includes($.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(v(),_("div",Lm,[c("p",{class:we(e.isCreatePool&&e.isCreatePool.includes($.fee)?"text-active":"text-default")},y($.title),3),c("p",null,y(e.isCreatePool&&e.isCreatePool.includes($.fee)?"":e.$t("newAdd.notCreated")),1)])),c("span",null,y($.text),1)],10,Mm))),128))])):R("",!0)],2),c("div",qm,y(e.$t("newAdd.depositAmounts")),1),c("div",Em,[c("div",Fm,[ue(f,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=$=>e.fromCoinAmount=$),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[4]||(t[4]=$=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=$=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=$=>{e.fromCoinAmount=$,e.fixedFromCoin=!0}),onOnSelect:t[7]||(t[7]=$=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(v(),fe(p,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):R("",!0)]),c("div",Um,[ue(f,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=$=>e.toCoinAmount=$),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[9]||(t[9]=$=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=$=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=$=>{e.toCoinAmount=$,e.fixedFromCoin=!1}),onOnSelect:t[12]||(t[12]=$=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(v(),fe(p,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):R("",!0)]),((Q=(T=e.$route)==null?void 0:T.query)==null?void 0:Q.action)&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(v(),fe(g,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showfromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):R("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(v(),_("img",{key:1,class:"add",src:$i,alt:"",onClick:t[13]||(t[13]=(...$)=>e.toggle&&e.toggle(...$))})):R("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(v(),_("img",{key:2,class:"add",src:Ai,alt:"",onClick:t[14]||(t[14]=(...$)=>e.toggle&&e.toggle(...$))})):R("",!0)]),e.poolInfo?(v(),fe(w,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):R("",!0)]),ue(I,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[15]||(t[15]=$=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:he(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(v(),_("svg",Om,Dm)):R("",!0),c("span",null,y(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",Hm,[ue(X)])]),c("div",Xm,[e.isShowMask?(v(),_("div",zm)):R("",!0),c("div",Vm,[Se(y(e.poolInfo?e.$t("newAdd.selectRange"):e.$t("newAdd.setInitialPrice"))+" ",1),e.poolInfo?(v(),fe(s,{key:0,placement:"bottom","arrow-point-at-center":""},{title:he(()=>[c("span",null,y(e.$t("newAdd.selectRangeTips")),1)]),default:he(()=>[jm]),_:1})):R("",!0)]),c("div",Wm,[!((W=(L=e.$route)==null?void 0:L.query)!=null&&W.action)&&e.poolInfo||((H=(ve=e.$route)==null?void 0:ve.query)==null?void 0:H.action)?(v(),_(_t,{key:0},[((x=(D=e.$route)==null?void 0:D.query)==null?void 0:x.action)&&!e.poolInfo?(v(),fe(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):R("",!0),e.poolInfo?(v(),_("div",Km,[(v(!0),_(_t,null,un(e.currentPriceTabList,$=>(v(),_("div",{key:$,class:we(["price-item",{"price-item-active":$.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Ft=>e.priceTab($)},[ue(s,{placement:"bottom","arrow-point-at-center":""},{title:he(()=>[c("span",null,y(e.getPirceText($.key)),1)]),default:he(()=>[Se(" "+y(e.getPirceKey($.key)),1)]),_:2},1024)],10,Ym))),128))])):R("",!0),((Y=(K=e.$route)==null?void 0:K.query)==null?void 0:Y.action)&&!e.poolInfo?(v(),_("div",Gm,y(e.$t("newAdd.createPoolInitialText")),1)):R("",!0),!e.poolInfo&&((ge=(G=e.$route)==null?void 0:G.query)==null?void 0:ge.action)?(v(),_("div",Qm,y(e.$t("common.setPriceRange")),1)):R("",!0),e.poolInfo||((et=(ie=e.$route)==null?void 0:ie.query)==null?void 0:et.action)?(v(),_("div",{key:4,class:we(["current-price",((ct=(O=e.$route)==null?void 0:O.query)==null?void 0:ct.action)&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(v(),_("span",Jm,y(e.$t("common.currentPrice")),1)):R("",!0),e.fromCoin&&e.toCoin&&e.direct?(v(),_("div",Zm,[c("span",null,y(e.$t("common.currentPrice")),1),Se(" "+y(e.decimalUi(e.currentPrice,6))+" "+y((Pe=e.toCoin)==null?void 0:Pe.symbol)+" per "+y((Be=e.fromCoin)==null?void 0:Be.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(v(),_("div",xm,[c("span",null,y(e.$t("common.currentPrice")),1),Se(" "+y(e.decimalUi(e.currentPriceReverse,6))+" "+y((ft=e.toCoin)==null?void 0:ft.symbol)+" per "+y((De=e.fromCoin)==null?void 0:De.symbol),1)])):(v(),_("div",ep,"0.0")),e.fromCoin&&e.toCoin?(v(),_("div",tp,[c("div",{class:we(e.direct?"item active-item":"item"),onClick:t[16]||(t[16]=$=>e.direct?"":e.toggle())},[c("img",{src:e.direct?e.fromCoin.logoURI:e.toCoin.logoURI,alt:""},null,8,np),Se(" "+y(e.direct?(ht=e.fromCoin)==null?void 0:ht.symbol:(qe=e.toCoin)==null?void 0:qe.symbol),1)],2),c("div",{class:we(e.direct?"item ":"item active-item"),onClick:t[17]||(t[17]=$=>e.direct?e.toggle():"")},[c("img",{src:e.direct?e.toCoin.logoURI:e.fromCoin.logoURI,alt:""},null,8,op),Se(" "+y(e.direct?(Re=e.toCoin)==null?void 0:Re.symbol:(Oe=e.fromCoin)==null?void 0:Oe.symbol),1)],2)])):R("",!0)],2)):R("",!0),e.poolInfo||((Le=(tt=e.$route)==null?void 0:tt.query)==null?void 0:Le.action)?(v(),fe(P,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,"int-price":e.intPrice,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","int-price","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):R("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(v(),_("div",ip,[c("img",{src:e.importIcon("/image/icon-tips@2x.png"),alt:""},null,8,rp),c("p",ap,y(e.$t("tips.positionTips")),1)])):R("",!0),e.positionError&&(e.poolInfo||((Z=(B=e.$route)==null?void 0:B.query)==null?void 0:Z.action))?(v(),_("div",sp,[c("img",{src:e.importIcon("/image/icon-tips-error@2x.png"),alt:""},null,8,lp),c("p",up,y(e.$t("tips.positionError")),1)])):R("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(v(),_("div",cp,[e.fromCoin&&e.toCoin&&e.poolInfo?(v(),fe(C,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):R("",!0),e.chartLoading?(v(),fe(b,{key:1})):R("",!0)])):R("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(v(),_("div",fp,[dp,c("span",mp,y(e.aprRewardsTime)+" Price Range",1),c("span",null,y(e.before7dContractPriceLowest)+" - "+y(e.before7dContractPriceHighest),1)])):R("",!0),e.poolInfo&&!e.poolInfo.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.poolInfo.isSelfBuilt&&e.maxPrice=="\u221E"?(v(),fe(d,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):R("",!0),((E=(Ze=e.$route)==null?void 0:Ze.query)==null?void 0:E.action)&&!e.poolInfo?(v(),_("div",pp,y(e.$t("newAdd.createPoolText")),1)):R("",!0)],64)):(v(),_("div",hp,[e.storeIndex.theme=="default"?(v(),_("img",vp)):(v(),_("img",gp)),c("p",null,y(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.poolInfo.isSelfBuilt?(v(),fe(k,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):R("",!0)])])):R("",!0),e.isPc?R("",!0):(v(),_("div",yp,[c("div",bp,[c("div",wp,[c("div",kp,[Se(y(e.$t("common.selectPool"))+" ",1),ue(s,{placement:"bottom","arrow-point-at-center":""},{title:he(()=>[c("span",null,y(e.t("newAdd.poolWarning")),1)]),default:he(()=>[e.poolInfo&&e.poolInfo.isSelfBuilt?(v(),_("div",Cp)):R("",!0)]),_:1})]),c("div",_p,[ue(u,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[18]||(t[18]=$=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ue(u,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:t[19]||(t[19]=$=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),c("div",{class:we(["pool-fee",e.edit?"pool-fee-edit":""])},[c("div",{class:"pool-fee-header",onClick:t[20]||(t[20]=$=>e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit)},[c("span",{class:we(e.inputValue?"":"fee-span")},y(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),Pp]),e.edit?(v(),_("div",Ip,[e.getPoolInfoSuccess?(v(!0),_(_t,{key:1},un(e.feeTierList,($,Ft)=>(v(),_("div",{key:Ft,class:we(["fee-item",[e.inputValue&&e.inputValue==$.label?"fee-item-active":"",e.isCreatePool.includes($.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:oe=>e.selectFee($)},[e.$route.query.action?(v(),_("div",Ap,[c("p",null,y($.title),1),c("p",{class:we(e.isCreatePool.includes($.fee)?"text-default":"text-theme")},y(e.isCreatePool.includes($.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(v(),_("div",Sp,[c("p",{class:we(e.isCreatePool.includes($.fee)?"text-active":"text-default")},y($.title),3),c("p",null,y(e.isCreatePool.includes($.fee)?"":e.$t("newAdd.notCreated")),1)])),c("span",null,y($.text),1)],10,$p))),128)):(v(),fe(b,{key:0}))])):R("",!0)],2)]),c("div",Tp,[e.isShowMask?(v(),_("div",Np)):R("",!0),c("div",Mp,[Se(y((z=e.$route)!=null&&z.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(v(),fe(s,{key:0,placement:"bottom","arrow-point-at-center":""},{title:he(()=>[c("span",null,y(e.$t("newAdd.selectRangeTips")),1)]),default:he(()=>[Rp]),_:1})):R("",!0)]),c("div",Lp,[!((S=(N=e.$route)==null?void 0:N.query)!=null&&S.action)&&e.poolInfo||((bn=(Te=e.$route)==null?void 0:Te.query)==null?void 0:bn.action)?(v(),_(_t,{key:0},[((kn=(wn=e.$route)==null?void 0:wn.query)==null?void 0:kn.action)&&!e.poolInfo?(v(),fe(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):R("",!0),e.poolInfo?(v(),_("div",qp,[(v(!0),_(_t,null,un(e.currentPriceTabList,$=>(v(),_("div",{key:$,class:we(["price-item",{"price-item-active":$.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Ft=>e.priceTab($)},[ue(s,{placement:"bottom","arrow-point-at-center":""},{title:he(()=>[c("span",null,y(e.getPirceText($.key)),1)]),default:he(()=>[Se(" "+y(e.getPirceKey($.key)),1)]),_:2},1024)],10,Ep))),128))])):R("",!0),((We=(je=e.$route)==null?void 0:je.query)==null?void 0:We.action)&&!e.poolInfo?(v(),_("div",Fp,y(e.$t("newAdd.createPoolInitialText")),1)):R("",!0),!e.poolInfo&&((_n=(Cn=e.$route)==null?void 0:Cn.query)==null?void 0:_n.action)?(v(),_("div",Up,y(e.$t("common.setPriceRange")),1)):R("",!0),e.poolInfo||((In=(Pn=e.$route)==null?void 0:Pn.query)==null?void 0:In.action)?(v(),_("div",{key:4,class:we(["current-price",((Lt=(zt=e.$route)==null?void 0:zt.query)==null?void 0:Lt.action)&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(v(),_("span",Op,y(e.$t("common.currentPrice")),1)):R("",!0),e.fromCoin&&e.toCoin&&e.direct?(v(),_("div",Bp,[c("span",null,y(e.$t("common.currentPrice")),1),Se(" "+y(e.decimalUi(e.currentPrice,6))+" "+y((qt=e.toCoin)==null?void 0:qt.symbol)+" per "+y((nt=e.fromCoin)==null?void 0:nt.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(v(),_("div",Dp,[c("span",null,y(e.$t("common.currentPrice")),1),Se(" "+y(e.decimalUi(e.currentPriceReverse,6))+" "+y((an=e.toCoin)==null?void 0:an.symbol)+" per "+y((Et=e.fromCoin)==null?void 0:Et.symbol),1)])):(v(),_("div",Hp,"0.0")),e.fromCoin&&e.toCoin?(v(),_("div",Xp,[c("div",{class:we(e.direct?"item active-item":"item"),onClick:t[21]||(t[21]=$=>e.direct?"":e.toggle())},[c("img",{src:e.direct?e.fromCoin.logoURI:e.toCoin.logoURI,alt:""},null,8,zp),Se(" "+y(e.direct?(sn=e.fromCoin)==null?void 0:sn.symbol:(ne=e.toCoin)==null?void 0:ne.symbol),1)],2),c("div",{class:we(e.direct?"item ":"item active-item"),onClick:t[22]||(t[22]=$=>e.direct?e.toggle():"")},[c("img",{src:e.direct?e.toCoin.logoURI:e.fromCoin.logoURI,alt:""},null,8,Vp),Se(" "+y(e.direct?(xe=e.toCoin)==null?void 0:xe.symbol:(ae=e.fromCoin)==null?void 0:ae.symbol),1)],2)])):R("",!0)],2)):R("",!0),e.poolInfo||((Ie=(vt=e.$route)==null?void 0:vt.query)==null?void 0:Ie.action)?(v(),fe(P,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):R("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(v(),_("div",jp,[c("img",{src:e.importIcon("/image/icon-tips@2x.png"),alt:""},null,8,Wp),c("p",Kp,y(e.$t("tips.positionTips")),1)])):R("",!0),e.positionError&&(e.poolInfo||((Vt=($e=e.$route)==null?void 0:$e.query)==null?void 0:Vt.action))?(v(),_("div",Yp,[c("img",{src:e.importIcon("/image/icon-tips-error@2x.png"),alt:""},null,8,Gp),c("p",Qp,y(e.$t("tips.positionError")),1)])):R("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(v(),_("div",Jp,[e.fromCoin&&e.toCoin&&e.poolInfo?(v(),fe(C,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):R("",!0),e.chartLoading?(v(),fe(b,{key:1})):R("",!0)])):R("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(v(),_("div",Zp,[xp,c("span",eh,y(e.aprRewardsTime)+" Price Range",1),c("span",null,y(e.before7dContractPriceLowest)+" - "+y(e.before7dContractPriceHighest),1)])):R("",!0),e.poolInfo&&!e.poolInfo.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.poolInfo.isSelfBuilt&&e.maxPrice=="\u221E"?(v(),fe(d,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):R("",!0),((gt=(jt=e.$route)==null?void 0:jt.query)==null?void 0:gt.action)&&!e.poolInfo?(v(),_("div",th,y(e.$t("newAdd.createPoolText")),1)):R("",!0)],64)):(v(),_("div",nh,[e.storeIndex.theme=="default"?(v(),_("img",oh)):(v(),_("img",ih)),c("p",null,y(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.poolInfo.isSelfBuilt?(v(),fe(k,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):R("",!0)]),ue(I,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[23]||(t[23]=$=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:he(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(v(),_("svg",rh,sh)):R("",!0),c("span",null,y(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",lh,[ue(X)])]),c("div",uh,[c("div",ch,y(e.$t("newAdd.depositAmounts")),1),c("div",fh,[c("div",dh,[ue(f,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[24]||(t[24]=$=>e.fromCoinAmount=$),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[25]||(t[25]=$=>e.maxBtnSelect("fromCoin")),onOnHalf:t[26]||(t[26]=$=>e.halfBtnSelect("fromCoin")),onOnInput:t[27]||(t[27]=$=>{e.fromCoinAmount=$,e.fixedFromCoin=!0}),onOnSelect:t[28]||(t[28]=$=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(v(),fe(p,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):R("",!0)]),c("div",mh,[ue(f,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[29]||(t[29]=$=>e.toCoinAmount=$),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[30]||(t[30]=$=>e.maxBtnSelect("toCoin")),onOnHalf:t[31]||(t[31]=$=>e.halfBtnSelect("toCoin")),onOnInput:t[32]||(t[32]=$=>{e.toCoinAmount=$,e.fixedFromCoin=!1}),onOnSelect:t[33]||(t[33]=$=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(v(),fe(p,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):R("",!0)]),((ot=(yt=e.$route)==null?void 0:yt.query)==null?void 0:ot.action)&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(v(),fe(g,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showfromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):R("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(v(),_("img",{key:1,class:"add",src:$i,alt:"",onClick:t[34]||(t[34]=(...$)=>e.toggle&&e.toggle(...$))})):R("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(v(),_("img",{key:2,class:"add",src:Ai,alt:"",onClick:t[35]||(t[35]=(...$)=>e.toggle&&e.toggle(...$))})):R("",!0)]),e.poolInfo||e.createPoolInfo?(v(),fe(w,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):R("",!0)])])),ue(I,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn h5-btn",onClick:t[36]||(t[36]=$=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:he(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")?(v(),_("svg",ph,vh)):R("",!0),c("span",null,y(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",gh,[ue(X)]),e.showCoinSelect?(v(),fe(M,{key:2,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:t[37]||(t[37]=$=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):R("",!0),e.isShowLiquidityModal?(v(),fe(J,{key:3,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"pool-info":e.poolInfo,onToAdd:e.toAdd,onOnClose:t[38]||(t[38]=$=>e.isShowLiquidityModal=!1)},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","current-price-reverse","pool-info","onToAdd"])):R("",!0),e.isViewDetail?(v(),fe(U,{key:4,onOnClose:t[39]||(t[39]=$=>e.isViewDetail=!1)})):R("",!0),e.isCreateSuccess?(v(),fe(te,{key:5,onOnClose:t[40]||(t[40]=$=>e.isCreateSuccess=!1)})):R("",!0),e.isShowCreatePoolModal&&e.fromCoin&&e.toCoin?(v(),fe(j,{key:6,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.createPoolInfo.currentPrice,onOnClose:t[41]||(t[41]=$=>e.isShowCreatePoolModal=!1),onCreatePool:e.toCreatePool},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","onCreatePool"])):R("",!0)])}const qh=Ve(km,[["render",yh],["__scopeId","data-v-da9a94c1"]]);export{qh as default};
