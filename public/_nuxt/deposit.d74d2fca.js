import{_ as Sr}from"./back.fd4ae9d3.js";import{_ as Tr}from"./refresh-icon.4eb63a6f.js";import{_ as Nr,a as Mr}from"./swap-setting.7868fc9b.js";import{a as Ye,r as $,b as Qt,e as xe,f as zn,h as Rr,i as ee,j as Ht,k as je,o as g,l as P,m as c,t as w,c as se,p as L,q as ve,s as _t,v as $t,w as ge,x as mn,y as Wn,z as un,A as $o,D as F,B as nt,C as Pe,E as ie,F as me,G as yt,H as Pi,I as Ii,J as ot,S as _i,K as Kn,L as It,M as Lr,N as qr,O as Er,P as Vo,Q as Wt,R as to,T as an,U as $i,V as Ai,W as Si,X as Fr,Y as Ti,Z as Ni,$ as Br,a0 as no,a1 as Or,a2 as Ur,a3 as Ut,a4 as Ho}from"./entry.12ef1f17.js";import{_ as Dr,a as Vr}from"./coin-select.428378f2.js";import{_ as Mi,a as Ri,b as Hr}from"./add-liquidity.a36b1a51.js";/* empty css              */import"./index.5c3ee612.js";import{_ as Xr}from"./apr-tab.55e0ddd0.js";import{_ as zr}from"./apr-tips.5c5f76b1.js";import{p as Wr}from"./precision.ce0280e5.js";import{_ as Kr}from"./status-block.0ca976a3.js";import{_ as Ao,a as So}from"./icon-arrow_2x.db44c7c5.js";import{_ as Li}from"./coin-pair-name.04a357ce.js";import"./img-no-Positions_2x.e41c0467.js";import"./index.b2a6d162.js";const Yr=Ye({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const n=$(!1),o=$(null),i=$(0),r=$(20),a=Qt(),l=xe(),s=$(!1);zn(()=>{e.poolInfo&&u()}),Rr(()=>{clearInterval(o.value)});const u=()=>{o.value=setInterval(()=>{var p;s.value||i.value<r.value&&(i.value+=1,i.value===r.value&&((p=e==null?void 0:e.poolInfo)!=null&&p.poolAddress&&a.updateCurrentPools(e.poolInfo.poolAddress,l.chainName),i.value=0))},1e3)},f=ee(()=>l.slippage);return{isShowSwapSetting:n,countdown:i,autoRefreshTime:r,slippage:f,clearAll:()=>{t.emit("clearAll")},checkNullObj:Ht}}});const jr=e=>(_t("data-v-e958c81d"),e=e(),$t(),e),Gr={class:"title"},Qr={class:"left"},Jr=jr(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Zr={class:"deposit-progress"};function xr(e,t,n,o,i,r){const a=Tr,l=Nr;return g(),P("div",Gr,[c("div",Qr,[c("span",null,w(e.poolInfo?e.$t("common.concentratedLiquidity"):e.$t("newAdd.createClmmPool")),1)]),c("div",{class:ve(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[c("div",{class:"slippage-icon",onClick:t[0]||(t[0]=s=>e.isShowSwapSetting=!0)},[Jr,c("span",null,w(e.slippage)+"%",1)]),c("div",Zr,[e.poolInfo?(g(),se(a,{key:0,loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:t[1]||(t[1]=s=>e.$emit("clickRefresh"))},null,8,["loading","auto-refresh-time","countdown"])):L("",!0)])],2),e.isShowSwapSetting?(g(),se(l,{key:0,onOnClose:t[2]||(t[2]=s=>e.isShowSwapSetting=!1)})):L("",!0)])}const ea=je(Yr,[["render",xr],["__scopeId","data-v-e958c81d"]]);const ta=Ye({props:{coinIcon:{type:String,default:""},coin:{type:Object,default:()=>({})}},setup(e){const t=xe(),n=ee(()=>t),o=$(""),i=$(""),r=$(""),a=Qt(),l=ee(()=>a);return ge(()=>[e.coin,l.value.tokensObj],([s,u])=>{var f;s?(i.value=u&&u[s.address]&&((f=u[s.address])==null?void 0:f.labels),o.value=s.name,r.value=s.symbol):(i.value="",o.value="",r.value="")},{immediate:!0,deep:!0}),{store:n,importIcon:mn,coinName:o,coinLabels:i,coinSymbol:r}}}),na=e=>(_t("data-v-f60c233a"),e=e(),$t(),e),oa={class:"coin-block"},ia=["src"],ra={class:"coin-info"},aa={class:"symbol"},sa={key:0,class:"name"},la=na(()=>c("div",null,[c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon_on"})])],-1));function ua(e,t,n,o,i,r){return g(),P("div",oa,[c("div",null,[c("img",{src:e.coinIcon?e.coinIcon:e.store.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png")},null,8,ia),c("div",ra,[c("div",aa,w(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinName?(g(),P("div",sa,w(e.coinName)+" "+w(e.coinLabels?`(${e.coinLabels})`:""),1)):L("",!0)])]),la])}const ca=je(ta,[["render",ua],["__scopeId","data-v-f60c233a"]]),fa=Ye({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})}},setup(){const e=xe();return{storeIndex:ee(()=>e)}}});const da={class:"unilateral"},ma={key:0,src:Mi,alt:""},pa={key:1,src:Ri,alt:""},ha={key:2};function va(e,t,n,o,i,r){return g(),P("div",da,[c("div",null,[e.storeIndex.theme=="default"?(g(),P("img",ma)):(g(),P("img",pa)),e.fromCoin&&e.toCoin&&e.poolInfo?(g(),P("p",ha,w(e.$t("tips.marketprice")),1)):L("",!0)])])}const ga=je(fa,[["render",va],["__scopeId","data-v-d81a96c0"]]),ya=Ye({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})},showfromCoinLock:{type:Boolean,default:!1},showtoCoinLock:{type:Boolean,default:!1}},setup(){const e=xe();return{storeIndex:ee(()=>e)}}});const ba={class:"create-pool-lock"},wa={key:0,src:Mi,alt:""},ka={key:1,src:Ri,alt:""};function Ca(e,t,n,o,i,r){return g(),P("div",ba,[c("div",null,[e.storeIndex.theme=="default"?(g(),P("img",wa)):(g(),P("img",ka))])])}const Pa=je(ya,[["render",Ca],["__scopeId","data-v-5d070e17"]]),Ia=Ye({props:{minPrice:{type:String,default:""},maxPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},slippage:{type:Number,default:0},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""}},setup(e){const t=$(""),n=$(""),o=xe(),i=ee(()=>o),r=ee(()=>i.value.chainName?$o(i.value.chainName):{});console.log(e,"props====>");const a=Wn(),l=async()=>{var G;if(!e.minPrice&&!e.maxPrice)return;const{TickUtil:p,TickMath:y,getNearestTickByTick:S}=r.value,R=e.poolInfo.token_a.decimals,b=e.poolInfo.token_b.decimals;let v,C,k,d,_,N,x,O=1,Q=1;const D=e.poolInfo.current_tick_index,T=e.poolInfo.priceConfigObj;if(e.poolInfo.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&e.poolInfo.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?x=!0:x=!1,e.minPrice==="0"&&e.maxPrice==="\u221E"?(k=p.getMinIndex(e.poolInfo.tickSpacing),d=p.getMaxIndex(e.poolInfo.tickSpacing),y.tickIndexToSqrtPriceX64(k),y.tickIndexToSqrtPriceX64(d)):e.currentPriceTab=="Custom"||((G=a==null?void 0:a.query)==null?void 0:G.action)?(x?(v=Number(e.minPrice),C=Number(e.maxPrice)):(v=1/Number(e.maxPrice),C=1/Number(e.minPrice)),console.log(v,"min===>"),_=y.priceToTickIndex(new F(v),R,b),N=y.priceToTickIndex(new F(C),R,b),v==0&&(_=-443630),console.log(_,"===>minTick"),console.log(e.poolInfo.tickSpacing,"===>props.poolInfo.tickSpacing"),k=S(_,Number(e.poolInfo.tickSpacing)),d=S(N,Number(e.poolInfo.tickSpacing)),console.log(k,d,"===>tick_upper"),y.priceToSqrtPriceX64(new F(v),R,b),y.priceToSqrtPriceX64(new F(C),R,b)):(k=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].lower,d=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].upper,y.tickIndexToSqrtPriceX64(k),y.tickIndexToSqrtPriceX64(d)),e.maxPrice==="\u221E"||D>k&&D<d){let Z;if(e.fixedFromCoin){const j=new F(1).mul(Math.pow(10,e.fromCoin.decimals)).toString();Z=new nt(j)}else{const j=new F(1).mul(Math.pow(10,e.toCoin.decimals)).toString();Z=new nt(j)}const{tokenMaxA:W,tokenMaxB:V}=await r.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:e.poolInfo.token_a,tokenB:e.poolInfo.token_b,lowerTick:k,upperTick:d,coinAmount:Z,iscoinA:x?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(e.slippage)/100,curSqrtPrice:new nt(e.poolInfo.current_sqrt_price)});x?e.fixedFromCoin?Q=Number(V)>0?V:"":O=Number(W)>0?W:"":e.fixedFromCoin?Q=W:O=V}else D>=d?x?(Q=1,O=0):(O=1,Q=0):D<=k&&(x?(Q=0,O=1):(Q=1,O=0));console.log(D,"====>currentTickIndex"),console.log(d,"===>tick_upper"),console.log(k,"===>tick_lower");const H=O?Number(O):0,q=Q?Number(Q):0,z=q+Number(x?H*e.currentPrice:H*e.currentPriceReverse);console.log(e.currentPrice,"===>props.currentPrice"),console.log(e.currentPriceReverse,"===>props.currentPriceReverse"),console.log(e.minPrice,"===>props.minPrice"),console.log(e.maxPrice,"===>props.maxPrice"),console.log(H,"===>amountA"),console.log(q,"===>amountB");const ne=((x?e.currentPrice*H:e.currentPriceReverse*H)/z*100).toFixed(0);console.log(z,"===>totalAmount");const X=(q/z*100).toFixed(0);t.value=ne,n.value=X};ge(()=>[e.poolInfo,e.minPrice,e.maxPrice],([p,y,S])=>{y&&S&&p&&!Ht(p)?l():(t.value="",n.value="")},{immediate:!0,deep:!0});let s={};const u=Qt(),f=ee(()=>u);ge(()=>f.value.RATES,p=>{p&&(s=p)},{immediate:!0});const m=ee(()=>{const p=un(Number(e.fromCoinAmount)*Number(s&&s[e.fromCoin.address]&&s[e.fromCoin.address].price),2),y=un(Number(e.toCoinAmount)*Number(s&&s[e.toCoin.address]&&s[e.toCoin.address].price),2);return p!=="--"&&y!=="--"?Number(p)+Number(y):"--"});return{fromCoinRatio:t,toCoinRatio:n,totalAmount:m,fixD:un}}});const _a=e=>(_t("data-v-f6a3a5bd"),e=e(),$t(),e),$a={class:"deposit-ratio"},Aa={class:"lebal"},Sa=_a(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),Ta={class:"text"},Na={key:0,class:"deposit-ratio totalAmount"},Ma={class:"lebal"},Ra={class:"text"};function La(e,t,n,o,i,r){const a=Pi;return g(),P(yt,null,[c("div",$a,[c("div",Aa,[Pe(w(e.$t("newAdd.depositRatio"))+" ",1),ie(a,{placement:"bottom","arrow-point-at-center":""},{title:me(()=>[c("span",null,w(e.$t("newAdd.depositRatioTips")),1)]),default:me(()=>[Sa]),_:1})]),c("div",Ta,w(e.fromCoinRatio!=="--"?e.fromCoinRatio+"%":"--")+" "+w(e.fromCoinRatio!=="--"?e.fromCoin&&e.fromCoin.symbol:"")+" / "+w(e.toCoinRatio!=="--"?e.toCoinRatio+"%":"--")+" "+w(e.toCoinRatio!=="--"?e.toCoin&&e.toCoin.symbol:""),1)]),e.fromCoinAmount&&e.toCoinAmount?(g(),P("div",Na,[c("div",Ma,w(e.$t("newAdd.totalAmount")),1),c("div",Ra,"$"+w(e.fixD(e.totalAmount,2)),1)])):L("",!0)],64)}const qa=je(Ia,[["render",La],["__scopeId","data-v-f6a3a5bd"]]),Ea=Ye({props:{clickClear:{type:Boolean,default:!1},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},intPrice:{type:String,default:""}},setup(e,t){const n=$("");return{inpValue:n,changecurrentPrice:i=>{var a;console.log(i.target.value,"e.target.value");const r=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(a=e.fromCoin)==null?void 0:a.decimals}})?).*$`);i.target.value=i.target.value.replace(r,"$1"),n.value=i.target.value,console.log(n.value,"===>inpValue.value"),t.emit("changecurrentPrice",n.value)}}}});const Fa={class:"set-init-price"},Ba={class:"init-price-tips"};function Oa(e,t,n,o,i,r){var l,s,u,f;const a=Ii;return g(),P("div",Fa,[ie(a,{type:"text",placeholder:"0.0",value:e.intPrice,disabled:!((s=(l=e.$route)==null?void 0:l.query)!=null&&s.fee),onChange:e.changecurrentPrice},null,8,["value","disabled","onChange"]),c("div",Ba,w((u=e.toCoin)==null?void 0:u.symbol)+" per "+w((f=e.fromCoin)==null?void 0:f.symbol),1)])}const Ua=je(Ea,[["render",Oa],["__scopeId","data-v-7d1c659f"]]),Da=-443630;function oo(e,t){const n=Va(e),o=(n-Da)%t;return o>t/2?n-o+t:n-o}const qi=new F("1.0001");function Va(e){return e.log(qi).toDP(0,F.ROUND_HALF_UP).toNumber()}function io(e){return qi.pow(e)}const Ha=Ye({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,t){const n=$(""),o=$("");let i=$(""),r=$("");const a=Wn(),l=()=>{if(Number.isNaN(n.value)||Number(n.value)!==0&&!n.value||!e.poolInfo.tickSpacing)return;const y=oo(new F(n.value.toString()),Number(m.value.tickSpacing)),S=io(y+Number(m.value.tickSpacing));if(e.pType=="Min"&&Number(S.toString())>=Number(r.value.toString()))return;const R=S.toString();t.emit("onInput",R)},s=()=>{if(Number.isNaN(n.value)||!n.value||!e.poolInfo.tickSpacing)return;const y=oo(new F(n.value),Number(m.value.tickSpacing)),S=io(y-Number(m.value.tickSpacing)),R=S.toString();e.pType=="Max"&&Number(S)<=Number(i.value)||t.emit("onInput",R)},u=y=>{let S=y.toString().replace(/[^\d.]/g,"");const R=/^\d+(\.\d+)?$/;S.split(".").length>2&&!R.exec(S)&&(S=S.substr(0,S.length-1)),o.value=S,(ot(S,6)>0||String(S)=="0")&&t.emit("onInput",S.toString())},f=y=>{const S=oo(new F(y),Number(m.value.tickSpacing)),R=io(S);console.log(R,"price====>"),t.emit("onInput",R.toString())};ge(()=>e.defaultMinPrice,(y,S)=>{y!==S&&(i.value=e.defaultMinPrice)},{immediate:!0}),ge(()=>e.defaultMaxPrice,(y,S)=>{y!==S&&(r.value=e.defaultMaxPrice)},{immediate:!0}),ge(()=>[e.inputValue,a.query.action],([y])=>{if(y&&y!=="0"&&y!=="\u221E"){n.value=y;const R=y.toString().split(".")[1];o.value=y!=="0"&&y!=="\u221E"&&R&&R.length>6?ot(y.toString(),6):y.toString()}else(y=="0"||y=="\u221E"||a.query.action)&&(o.value=y)},{immediate:!0});const m=$({});ge(()=>e.poolInfo,(y,S)=>{y&&(m.value=y)},{immediate:!0});const p=$("");return ge(()=>e.currentPriceTab,y=>{p.value=y},{immediate:!0}),console.log(e,"props=======>"),{addPrice:l,minusPrice:s,oValue:o,changeValue:u,isDisabled:p,route:a,onBlur:f}}});const Xa={class:"set-price-item"},za={class:"title"},Wa={class:"input-box"},Ka={key:0,class:"minus-btn"},Ya=["disabled"],ja={key:1,class:"plus-btn"};function Ga(e,t,n,o,i,r){const a=Ii,l=_i;return g(),P("div",Xa,[c("div",za,w(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),ie(l,{loading:e.loading,active:"",paragraph:!1},{default:me(()=>{var s,u,f,m;return[c("div",Wa,[e.isDisabled=="Custom"||((u=(s=e.$route)==null?void 0:s.query)==null?void 0:u.action)?(g(),P("a",Ka,[c("div",{class:ve(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),disabled:e.isDisabled!=="Custom",onClick:t[0]||(t[0]=(...p)=>e.minusPrice&&e.minusPrice(...p))},null,10,Ya)])):L("",!0),ie(a,{id:"pValu",value:e.oValue,"onUpdate:value":t[1]||(t[1]=p=>e.oValue=p),disabled:e.isDisabled!=="Custom"&&!e.route.query.action||e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:t[2]||(t[2]=p=>e.changeValue(p.target.value)),onBlur:t[3]||(t[3]=p=>e.onBlur(p.target.value))},null,8,["value","disabled"]),e.isDisabled=="Custom"||((m=(f=e.$route)==null?void 0:f.query)==null?void 0:m.action)?(g(),P("a",ja,[c("div",{class:ve(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:t[4]||(t[4]=(...p)=>e.addPrice&&e.addPrice(...p))},null,2)])):L("",!0)])]}),_:1},8,["loading"]),c("p",{class:ve(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},w(e.toCoin&&e.toCoin.symbol)+" per "+w(e.fromCoin&&e.fromCoin.symbol),3)])}const Xo=je(Ha,[["render",Ga],["__scopeId","data-v-93b501a3"]]),Qa=Ye({props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,t){let n=$(""),o=$(""),i=$(),r=$(!1),a=$(!1);const l=$({}),s=xe(),u=ee(()=>s);zn(()=>{n.value=e.min,o.value=e.max}),ge(()=>e.currentPriceTab,(b,v)=>{b!==v&&(i.value=e.currentPriceTab)},{immediate:!0}),ge(()=>e.min,(b,v)=>{b!==v&&(n.value=b,console.log(e.min,"===> props.min"))}),ge(()=>e.max,(b,v)=>{b!==v&&(o.value=b)}),ge(()=>e.poolInfo,(b,v)=>{b&&(l.value=b)},{immediate:!0});const f=$("");ge(()=>e.intPrice,b=>{console.log(e.intPrice,"===>props.intPrice"),f.value=b},{immediate:!0,deep:!0});const m=b=>{console.log(b,"val===>"),n.value=b,t.emit("onChangeMinPrice",b)},p=b=>{o.value=b,t.emit("onChangeMaxPrice",b)};ge(r,(b,v)=>{b!==v&&t.emit("onChangeFullRange",b)});const y=()=>{n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice,a.value=!1,r.value=!1},S=()=>{a.value=!1,n.value="0",o.value="\u221E"};return ge(r,(b,v)=>{b!==v&&t.emit("onChangeFullRange",b)}),{store:u,changeMinPrice:m,changeMaxPrice:p,importIcon:mn,resetPrice:y,changeShowUnderStand:()=>{r.value=!r.value,r.value?a.value=!0:y(),a.value||(n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice)},showUnderStand:a,minPrice:n,maxPrice:o,understand:S,isRadio:r,initPirce:f}}});const Ja={class:"set-price"},Za={class:"card-container"},xa={key:0,class:"card"},es=["src"],ts={key:1,class:"understand"},ns={class:"left"},os={class:"right"};function is(e,t,n,o,i,r){const a=Xo,l=Xo,s=Kn;return g(),P("div",Ja,[c("div",Za,[e.showUnderStand?(g(),P("div",ts,[c("div",ns,[c("p",null,w(e.$t("common.lowerEfficiency")),1),c("p",null,w(e.$t("common.lowerEfficiencyTips")),1)]),c("div",os,[ie(s,{onClick:e.understand},{default:me(()=>[Pe(w(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(g(),P("div",xa,[ie(a,{value:e.minPrice,"onUpdate:value":t[0]||(t[0]=u=>e.minPrice=u),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),ie(l,{value:e.maxPrice,"onUpdate:value":t[1]||(t[1]=u=>e.maxPrice=u),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"]),c("img",{src:e.importIcon("/image/lmg-line@2x.png"),alt:""},null,8,es)]))])])}const rs=je(Qa,[["render",is],["__scopeId","data-v-01a6f14e"]]);function Sn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function as(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ei(e){let t,n,o;e.length!==2?(t=Sn,n=(l,s)=>Sn(e(l),s),o=(l,s)=>e(l)-s):(t=e===Sn||e===as?e:ss,n=e,o=e);function i(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const m=u+f>>>1;n(l[m],s)<0?u=m+1:f=m}while(u<f)}return u}function r(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const m=u+f>>>1;n(l[m],s)<=0?u=m+1:f=m}while(u<f)}return u}function a(l,s,u=0,f=l.length){const m=i(l,s,u,f-1);return m>u&&o(l[m-1],s)>-o(l[m],s)?m-1:m}return{left:i,center:a,right:r}}function ss(){return 0}function ls(e){return e===null?NaN:+e}const us=Ei(Sn),cs=us.right;Ei(ls).center;const fs=cs;class zo extends Map{constructor(t,n=ps){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[o,i]of t)this.set(o,i)}get(t){return super.get(Wo(this,t))}has(t){return super.has(Wo(this,t))}set(t,n){return super.set(ds(this,t),n)}delete(t){return super.delete(ms(this,t))}}function Wo({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):n}function ds({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):(e.set(o,n),n)}function ms({_intern:e,_key:t},n){const o=t(n);return e.has(o)&&(n=e.get(o),e.delete(o)),n}function ps(e){return e!==null&&typeof e=="object"?e.valueOf():e}const hs=Math.sqrt(50),vs=Math.sqrt(10),gs=Math.sqrt(2);function Ln(e,t,n){const o=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),a=r>=hs?10:r>=vs?5:r>=gs?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?Ln(e,t,n*2):[l,s,u]}function ys(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const o=t<e,[i,r,a]=o?Ln(t,e,n):Ln(e,t,n);if(!(r>=i))return[];const l=r-i+1,s=new Array(l);if(o)if(a<0)for(let u=0;u<l;++u)s[u]=(r-u)/-a;else for(let u=0;u<l;++u)s[u]=(r-u)*a;else if(a<0)for(let u=0;u<l;++u)s[u]=(i+u)/-a;else for(let u=0;u<l;++u)s[u]=(i+u)*a;return s}function po(e,t,n){return t=+t,e=+e,n=+n,Ln(e,t,n)[2]}function bs(e,t,n){t=+t,e=+e,n=+n;const o=t<e,i=o?po(t,e,n):po(e,t,n);return(o?-1:1)*(i<0?1/-i:i)}function ws(e,t){let n;if(t===void 0)for(const o of e)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ks(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var o=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(i);++o<i;)r[o]=e+o*n;return r}var Cs={value:()=>{}};function To(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Tn(n)}function Tn(e){this._=e}function Ps(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Tn.prototype=To.prototype={constructor:Tn,on:function(e,t){var n=this._,o=Ps(e+"",n),i,r=-1,a=o.length;if(arguments.length<2){for(;++r<a;)if((i=(e=o[r]).type)&&(i=Is(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<a;)if(i=(e=o[r]).type)n[i]=Ko(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ko(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Tn(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};function Is(e,t){for(var n=0,o=e.length,i;n<o;++n)if((i=e[n]).name===t)return i.value}function Ko(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=Cs,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var ho="http://www.w3.org/1999/xhtml";const Yo={svg:"http://www.w3.org/2000/svg",xhtml:ho,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Yo.hasOwnProperty(t)?{space:Yo[t],local:e}:e}function _s(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ho&&t.documentElement.namespaceURI===ho?t.createElement(e):t.createElementNS(n,e)}}function $s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fi(e){var t=Yn(e);return(t.local?$s:_s)(t)}function As(){}function No(e){return e==null?As:function(){return this.querySelector(e)}}function Ss(e){typeof e!="function"&&(e=No(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=new Array(a),s,u,f=0;f<a;++f)(s=r[f])&&(u=e.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),l[f]=u);return new Ke(o,this._parents)}function Ts(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ns(){return[]}function Bi(e){return e==null?Ns:function(){return this.querySelectorAll(e)}}function Ms(e){return function(){return Ts(e.apply(this,arguments))}}function Rs(e){typeof e=="function"?e=Ms(e):e=Bi(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var a=t[r],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(o.push(e.call(s,s.__data__,u,a)),i.push(s));return new Ke(o,i)}function Oi(e){return function(){return this.matches(e)}}function Ui(e){return function(t){return t.matches(e)}}var Ls=Array.prototype.find;function qs(e){return function(){return Ls.call(this.children,e)}}function Es(){return this.firstElementChild}function Fs(e){return this.select(e==null?Es:qs(typeof e=="function"?e:Ui(e)))}var Bs=Array.prototype.filter;function Os(){return Array.from(this.children)}function Us(e){return function(){return Bs.call(this.children,e)}}function Ds(e){return this.selectAll(e==null?Os:Us(typeof e=="function"?e:Ui(e)))}function Vs(e){typeof e!="function"&&(e=Oi(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=[],s,u=0;u<a;++u)(s=r[u])&&e.call(s,s.__data__,u,r)&&l.push(s);return new Ke(o,this._parents)}function Di(e){return new Array(e.length)}function Hs(){return new Ke(this._enter||this._groups.map(Di),this._parents)}function qn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}qn.prototype={constructor:qn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Xs(e){return function(){return e}}function zs(e,t,n,o,i,r){for(var a=0,l,s=t.length,u=r.length;a<u;++a)(l=t[a])?(l.__data__=r[a],o[a]=l):n[a]=new qn(e,r[a]);for(;a<s;++a)(l=t[a])&&(i[a]=l)}function Ws(e,t,n,o,i,r,a){var l,s,u=new Map,f=t.length,m=r.length,p=new Array(f),y;for(l=0;l<f;++l)(s=t[l])&&(p[l]=y=a.call(s,s.__data__,l,t)+"",u.has(y)?i[l]=s:u.set(y,s));for(l=0;l<m;++l)y=a.call(e,r[l],l,r)+"",(s=u.get(y))?(o[l]=s,s.__data__=r[l],u.delete(y)):n[l]=new qn(e,r[l]);for(l=0;l<f;++l)(s=t[l])&&u.get(p[l])===s&&(i[l]=s)}function Ks(e){return e.__data__}function Ys(e,t){if(!arguments.length)return Array.from(this,Ks);var n=t?Ws:zs,o=this._parents,i=this._groups;typeof e!="function"&&(e=Xs(e));for(var r=i.length,a=new Array(r),l=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],m=i[u],p=m.length,y=js(e.call(f,f&&f.__data__,u,o)),S=y.length,R=l[u]=new Array(S),b=a[u]=new Array(S),v=s[u]=new Array(p);n(f,m,R,b,v,y,t);for(var C=0,k=0,d,_;C<S;++C)if(d=R[C]){for(C>=k&&(k=C+1);!(_=b[k])&&++k<S;);d._next=_||null}}return a=new Ke(a,o),a._enter=l,a._exit=s,a}function js(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Gs(){return new Ke(this._exit||this._groups.map(Di),this._parents)}function Qs(e,t,n){var o=this.enter(),i=this,r=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Js(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,a=Math.min(i,r),l=new Array(i),s=0;s<a;++s)for(var u=n[s],f=o[s],m=u.length,p=l[s]=new Array(m),y,S=0;S<m;++S)(y=u[S]||f[S])&&(p[S]=y);for(;s<i;++s)l[s]=n[s];return new Ke(l,this._parents)}function Zs(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],i=o.length-1,r=o[i],a;--i>=0;)(a=o[i])&&(r&&a.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(a,r),r=a);return this}function xs(e){e||(e=el);function t(m,p){return m&&p?e(m.__data__,p.__data__):!m-!p}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a=n[r],l=a.length,s=i[r]=new Array(l),u,f=0;f<l;++f)(u=a[f])&&(s[f]=u);s.sort(t)}return new Ke(i,this._parents).order()}function el(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function tl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function nl(){return Array.from(this)}function ol(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null}function il(){let e=0;for(const t of this)++e;return e}function rl(){return!this.node()}function al(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i=t[n],r=0,a=i.length,l;r<a;++r)(l=i[r])&&e.call(l,l.__data__,r,i);return this}function sl(e){return function(){this.removeAttribute(e)}}function ll(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ul(e,t){return function(){this.setAttribute(e,t)}}function cl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function fl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function dl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ml(e,t){var n=Yn(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?ll:sl:typeof t=="function"?n.local?dl:fl:n.local?cl:ul)(n,t))}function Vi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function pl(e){return function(){this.style.removeProperty(e)}}function hl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function vl(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function gl(e,t,n){return arguments.length>1?this.each((t==null?pl:typeof t=="function"?vl:hl)(e,t,n==null?"":n)):Yt(this.node(),e)}function Yt(e,t){return e.style.getPropertyValue(t)||Vi(e).getComputedStyle(e,null).getPropertyValue(t)}function yl(e){return function(){delete this[e]}}function bl(e,t){return function(){this[e]=t}}function wl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function kl(e,t){return arguments.length>1?this.each((t==null?yl:typeof t=="function"?wl:bl)(e,t)):this.node()[e]}function Hi(e){return e.trim().split(/^|\s+/)}function Mo(e){return e.classList||new Xi(e)}function Xi(e){this._node=e,this._names=Hi(e.getAttribute("class")||"")}Xi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function zi(e,t){for(var n=Mo(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function Wi(e,t){for(var n=Mo(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function Cl(e){return function(){zi(this,e)}}function Pl(e){return function(){Wi(this,e)}}function Il(e,t){return function(){(t.apply(this,arguments)?zi:Wi)(this,e)}}function _l(e,t){var n=Hi(e+"");if(arguments.length<2){for(var o=Mo(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Il:t?Cl:Pl)(n,t))}function $l(){this.textContent=""}function Al(e){return function(){this.textContent=e}}function Sl(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Tl(e){return arguments.length?this.each(e==null?$l:(typeof e=="function"?Sl:Al)(e)):this.node().textContent}function Nl(){this.innerHTML=""}function Ml(e){return function(){this.innerHTML=e}}function Rl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Ll(e){return arguments.length?this.each(e==null?Nl:(typeof e=="function"?Rl:Ml)(e)):this.node().innerHTML}function ql(){this.nextSibling&&this.parentNode.appendChild(this)}function El(){return this.each(ql)}function Fl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bl(){return this.each(Fl)}function Ol(e){var t=typeof e=="function"?e:Fi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ul(){return null}function Dl(e,t){var n=typeof e=="function"?e:Fi(e),o=t==null?Ul:typeof t=="function"?t:No(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Vl(){var e=this.parentNode;e&&e.removeChild(this)}function Hl(){return this.each(Vl)}function Xl(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zl(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Wl(e){return this.select(e?zl:Xl)}function Kl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Yl(e){return function(t){e.call(this,t,this.__data__)}}function jl(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Gl(e){return function(){var t=this.__on;if(!!t){for(var n=0,o=-1,i=t.length,r;n<i;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++o]=r;++o?t.length=o:delete this.__on}}}function Ql(e,t,n){return function(){var o=this.__on,i,r=Yl(t);if(o){for(var a=0,l=o.length;a<l;++a)if((i=o[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=t;return}}this.addEventListener(e.type,r,n),i={type:e.type,name:e.name,value:t,listener:r,options:n},o?o.push(i):this.__on=[i]}}function Jl(e,t,n){var o=jl(e+""),i,r=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,f;s<u;++s)for(i=0,f=l[s];i<r;++i)if((a=o[i]).type===f.type&&a.name===f.name)return f.value}return}for(l=t?Ql:Gl,i=0;i<r;++i)this.each(l(o[i],t,n));return this}function Ki(e,t,n){var o=Vi(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Zl(e,t){return function(){return Ki(this,e,t)}}function xl(e,t){return function(){return Ki(this,e,t.apply(this,arguments))}}function eu(e,t){return this.each((typeof t=="function"?xl:Zl)(e,t))}function*tu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length,a;i<r;++i)(a=o[i])&&(yield a)}var Yi=[null];function Ke(e,t){this._groups=e,this._parents=t}function pn(){return new Ke([[document.documentElement]],Yi)}function nu(){return this}Ke.prototype=pn.prototype={constructor:Ke,select:Ss,selectAll:Rs,selectChild:Fs,selectChildren:Ds,filter:Vs,data:Ys,enter:Hs,exit:Gs,join:Qs,merge:Js,selection:nu,order:Zs,sort:xs,call:tl,nodes:nl,node:ol,size:il,empty:rl,each:al,attr:ml,style:gl,property:kl,classed:_l,text:Tl,html:Ll,raise:El,lower:Bl,append:Ol,insert:Dl,remove:Hl,clone:Wl,datum:Kl,on:Jl,dispatch:eu,[Symbol.iterator]:tu};function rt(e){return typeof e=="string"?new Ke([[document.querySelector(e)]],[document.documentElement]):new Ke([[e]],Yi)}function ou(e){let t;for(;t=e.sourceEvent;)e=t;return e}function jo(e,t){if(e=ou(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const vo={capture:!0,passive:!1};function go(e){e.preventDefault(),e.stopImmediatePropagation()}function iu(e){var t=e.document.documentElement,n=rt(e).on("dragstart.drag",go,vo);"onselectstart"in t?n.on("selectstart.drag",go,vo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ru(e,t){var n=e.document.documentElement,o=rt(e).on("dragstart.drag",null);t&&(o.on("click.drag",go,vo),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ro(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ji(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function hn(){}var cn=.7,En=1/cn,Kt="\\s*([+-]?\\d+)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",au=/^#([0-9a-f]{3,8})$/,su=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),lu=new RegExp(`^rgb\\(${dt},${dt},${dt}\\)$`),uu=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${fn}\\)$`),cu=new RegExp(`^rgba\\(${dt},${dt},${dt},${fn}\\)$`),fu=new RegExp(`^hsl\\(${fn},${dt},${dt}\\)$`),du=new RegExp(`^hsla\\(${fn},${dt},${dt},${fn}\\)$`),Go={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ro(hn,Mt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qo,formatHex:Qo,formatHex8:mu,formatHsl:pu,formatRgb:Jo,toString:Jo});function Qo(){return this.rgb().formatHex()}function mu(){return this.rgb().formatHex8()}function pu(){return Gi(this).formatHsl()}function Jo(){return this.rgb().formatRgb()}function Mt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=au.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Zo(t):n===3?new Ue(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?In(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?In(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=su.exec(e))?new Ue(t[1],t[2],t[3],1):(t=lu.exec(e))?new Ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uu.exec(e))?In(t[1],t[2],t[3],t[4]):(t=cu.exec(e))?In(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fu.exec(e))?ti(t[1],t[2]/100,t[3]/100,1):(t=du.exec(e))?ti(t[1],t[2]/100,t[3]/100,t[4]):Go.hasOwnProperty(e)?Zo(Go[e]):e==="transparent"?new Ue(NaN,NaN,NaN,0):null}function Zo(e){return new Ue(e>>16&255,e>>8&255,e&255,1)}function In(e,t,n,o){return o<=0&&(e=t=n=NaN),new Ue(e,t,n,o)}function hu(e){return e instanceof hn||(e=Mt(e)),e?(e=e.rgb(),new Ue(e.r,e.g,e.b,e.opacity)):new Ue}function yo(e,t,n,o){return arguments.length===1?hu(e):new Ue(e,t,n,o==null?1:o)}function Ue(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Ro(Ue,yo,ji(hn,{brighter(e){return e=e==null?En:Math.pow(En,e),new Ue(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cn:Math.pow(cn,e),new Ue(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ue(Nt(this.r),Nt(this.g),Nt(this.b),Fn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xo,formatHex:xo,formatHex8:vu,formatRgb:ei,toString:ei}));function xo(){return`#${Tt(this.r)}${Tt(this.g)}${Tt(this.b)}`}function vu(){return`#${Tt(this.r)}${Tt(this.g)}${Tt(this.b)}${Tt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ei(){const e=Fn(this.opacity);return`${e===1?"rgb(":"rgba("}${Nt(this.r)}, ${Nt(this.g)}, ${Nt(this.b)}${e===1?")":`, ${e})`}`}function Fn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tt(e){return e=Nt(e),(e<16?"0":"")+e.toString(16)}function ti(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new at(e,t,n,o)}function Gi(e){if(e instanceof at)return new at(e.h,e.s,e.l,e.opacity);if(e instanceof hn||(e=Mt(e)),!e)return new at;if(e instanceof at)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),a=NaN,l=r-i,s=(r+i)/2;return l?(t===r?a=(n-o)/l+(n<o)*6:n===r?a=(o-t)/l+2:a=(t-n)/l+4,l/=s<.5?r+i:2-r-i,a*=60):l=s>0&&s<1?0:a,new at(a,l,s,e.opacity)}function gu(e,t,n,o){return arguments.length===1?Gi(e):new at(e,t,n,o==null?1:o)}function at(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Ro(at,gu,ji(hn,{brighter(e){return e=e==null?En:Math.pow(En,e),new at(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cn:Math.pow(cn,e),new at(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new Ue(ro(e>=240?e-240:e+120,i,o),ro(e,i,o),ro(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new at(ni(this.h),_n(this.s),_n(this.l),Fn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fn(this.opacity);return`${e===1?"hsl(":"hsla("}${ni(this.h)}, ${_n(this.s)*100}%, ${_n(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ni(e){return e=(e||0)%360,e<0?e+360:e}function _n(e){return Math.max(0,Math.min(1,e||0))}function ro(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Lo=e=>()=>e;function yu(e,t){return function(n){return e+n*t}}function bu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function wu(e){return(e=+e)==1?Qi:function(t,n){return n-t?bu(t,n,e):Lo(isNaN(t)?n:t)}}function Qi(e,t){var n=t-e;return n?yu(e,n):Lo(isNaN(e)?t:e)}const Bn=function e(t){var n=wu(t);function o(i,r){var a=n((i=yo(i)).r,(r=yo(r)).r),l=n(i.g,r.g),s=n(i.b,r.b),u=Qi(i.opacity,r.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=e,o}(1);function ku(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=e[i]*(1-r)+t[i]*r;return o}}function Cu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Pu(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,i=new Array(o),r=new Array(n),a;for(a=0;a<o;++a)i[a]=jn(e[a],t[a]);for(;a<n;++a)r[a]=t[a];return function(l){for(a=0;a<o;++a)r[a]=i[a](l);return r}}function Iu(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function it(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _u(e,t){var n={},o={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=jn(e[i],t[i]):o[i]=t[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var bo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ao=new RegExp(bo.source,"g");function $u(e){return function(){return e}}function Au(e){return function(t){return e(t)+""}}function Ji(e,t){var n=bo.lastIndex=ao.lastIndex=0,o,i,r,a=-1,l=[],s=[];for(e=e+"",t=t+"";(o=bo.exec(e))&&(i=ao.exec(t));)(r=i.index)>n&&(r=t.slice(n,r),l[a]?l[a]+=r:l[++a]=r),(o=o[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:it(o,i)})),n=ao.lastIndex;return n<t.length&&(r=t.slice(n),l[a]?l[a]+=r:l[++a]=r),l.length<2?s[0]?Au(s[0].x):$u(t):(t=s.length,function(u){for(var f=0,m;f<t;++f)l[(m=s[f]).i]=m.x(u);return l.join("")})}function jn(e,t){var n=typeof t,o;return t==null||n==="boolean"?Lo(t):(n==="number"?it:n==="string"?(o=Mt(t))?(t=o,Bn):Ji:t instanceof Mt?Bn:t instanceof Date?Iu:Cu(t)?ku:Array.isArray(t)?Pu:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_u:it)(e,t)}function Su(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var oi=180/Math.PI,wo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zi(e,t,n,o,i,r){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,s/=l),e*o<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*oi,skewX:Math.atan(s)*oi,scaleX:a,scaleY:l}}var $n;function Tu(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?wo:Zi(t.a,t.b,t.c,t.d,t.e,t.f)}function Nu(e){return e==null||($n||($n=document.createElementNS("http://www.w3.org/2000/svg","g")),$n.setAttribute("transform",e),!(e=$n.transform.baseVal.consolidate()))?wo:(e=e.matrix,Zi(e.a,e.b,e.c,e.d,e.e,e.f))}function xi(e,t,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,m,p,y,S){if(u!==m||f!==p){var R=y.push("translate(",null,t,null,n);S.push({i:R-4,x:it(u,m)},{i:R-2,x:it(f,p)})}else(m||p)&&y.push("translate("+m+t+p+n)}function a(u,f,m,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:m.push(i(m)+"rotate(",null,o)-2,x:it(u,f)})):f&&m.push(i(m)+"rotate("+f+o)}function l(u,f,m,p){u!==f?p.push({i:m.push(i(m)+"skewX(",null,o)-2,x:it(u,f)}):f&&m.push(i(m)+"skewX("+f+o)}function s(u,f,m,p,y,S){if(u!==m||f!==p){var R=y.push(i(y)+"scale(",null,",",null,")");S.push({i:R-4,x:it(u,m)},{i:R-2,x:it(f,p)})}else(m!==1||p!==1)&&y.push(i(y)+"scale("+m+","+p+")")}return function(u,f){var m=[],p=[];return u=e(u),f=e(f),r(u.translateX,u.translateY,f.translateX,f.translateY,m,p),a(u.rotate,f.rotate,m,p),l(u.skewX,f.skewX,m,p),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,m,p),u=f=null,function(y){for(var S=-1,R=p.length,b;++S<R;)m[(b=p[S]).i]=b.x(y);return m.join("")}}}var Mu=xi(Tu,"px, ","px)","deg)"),Ru=xi(Nu,", ",")",")"),jt=0,sn=0,rn=0,er=1e3,On,ln,Un=0,Rt=0,Gn=0,dn=typeof performance=="object"&&performance.now?performance:Date,tr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qo(){return Rt||(tr(Lu),Rt=dn.now()+Gn)}function Lu(){Rt=0}function Dn(){this._call=this._time=this._next=null}Dn.prototype=nr.prototype={constructor:Dn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?qo():+n)+(t==null?0:+t),!this._next&&ln!==this&&(ln?ln._next=this:On=this,ln=this),this._call=e,this._time=n,ko()},stop:function(){this._call&&(this._call=null,this._time=1/0,ko())}};function nr(e,t,n){var o=new Dn;return o.restart(e,t,n),o}function qu(){qo(),++jt;for(var e=On,t;e;)(t=Rt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--jt}function ii(){Rt=(Un=dn.now())+Gn,jt=sn=0;try{qu()}finally{jt=0,Fu(),Rt=0}}function Eu(){var e=dn.now(),t=e-Un;t>er&&(Gn-=t,Un=e)}function Fu(){for(var e,t=On,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:On=n);ln=e,ko(o)}function ko(e){if(!jt){sn&&(sn=clearTimeout(sn));var t=e-Rt;t>24?(e<1/0&&(sn=setTimeout(ii,e-dn.now()-Gn)),rn&&(rn=clearInterval(rn))):(rn||(Un=dn.now(),rn=setInterval(Eu,er)),jt=1,tr(ii))}}function ri(e,t,n){var o=new Dn;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}var Bu=To("start","end","cancel","interrupt"),Ou=[],or=0,ai=1,Co=2,Nn=3,si=4,Po=5,Mn=6;function Qn(e,t,n,o,i,r){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Uu(e,n,{name:t,index:o,group:i,on:Bu,tween:Ou,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:or})}function Eo(e,t){var n=st(e,t);if(n.state>or)throw new Error("too late; already scheduled");return n}function mt(e,t){var n=st(e,t);if(n.state>Nn)throw new Error("too late; already running");return n}function st(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Uu(e,t,n){var o=e.__transition,i;o[t]=n,n.timer=nr(r,0,n.time);function r(u){n.state=ai,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,m,p,y;if(n.state!==ai)return s();for(f in o)if(y=o[f],y.name===n.name){if(y.state===Nn)return ri(a);y.state===si?(y.state=Mn,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete o[f]):+f<t&&(y.state=Mn,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete o[f])}if(ri(function(){n.state===Nn&&(n.state=si,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Co,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Co){for(n.state=Nn,i=new Array(p=n.tween.length),f=0,m=-1;f<p;++f)(y=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++m]=y);i.length=m+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Po,1),m=-1,p=i.length;++m<p;)i[m].call(e,f);n.state===Po&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Mn,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Io(e,t){var n=e.__transition,o,i,r=!0,a;if(!!n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){r=!1;continue}i=o.state>Co&&o.state<Po,o.state=Mn,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}r&&delete e.__transition}}function Du(e){return this.each(function(){Io(this,e)})}function Vu(e,t){var n,o;return function(){var i=mt(this,e),r=i.tween;if(r!==n){o=n=r;for(var a=0,l=o.length;a<l;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function Hu(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=mt(this,e),a=r.tween;if(a!==o){i=(o=a).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}r.tween=i}}function Xu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=st(this.node(),n).tween,i=0,r=o.length,a;i<r;++i)if((a=o[i]).name===e)return a.value;return null}return this.each((t==null?Vu:Hu)(n,e,t))}function Fo(e,t,n){var o=e._id;return e.each(function(){var i=mt(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return st(i,o).value[t]}}function ir(e,t){var n;return(typeof t=="number"?it:t instanceof Mt?Bn:(n=Mt(t))?(t=n,Bn):Ji)(e,t)}function zu(e){return function(){this.removeAttribute(e)}}function Wu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ku(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}}function Yu(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}function ju(e,t,n){var o,i,r;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l)))}}function Gu(e,t,n){var o,i,r;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l)))}}function Qu(e,t){var n=Yn(e),o=n==="transform"?Ru:ir;return this.attrTween(e,typeof t=="function"?(n.local?Gu:ju)(n,o,Fo(this,"attr."+e,t)):t==null?(n.local?Wu:zu)(n):(n.local?Yu:Ku)(n,o,t))}function Ju(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Zu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function xu(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Zu(e,r)),n}return i._value=t,i}function ec(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Ju(e,r)),n}return i._value=t,i}function tc(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Yn(e);return this.tween(n,(o.local?xu:ec)(o,t))}function nc(e,t){return function(){Eo(this,e).delay=+t.apply(this,arguments)}}function oc(e,t){return t=+t,function(){Eo(this,e).delay=t}}function ic(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nc:oc)(t,e)):st(this.node(),t).delay}function rc(e,t){return function(){mt(this,e).duration=+t.apply(this,arguments)}}function ac(e,t){return t=+t,function(){mt(this,e).duration=t}}function sc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rc:ac)(t,e)):st(this.node(),t).duration}function lc(e,t){if(typeof t!="function")throw new Error;return function(){mt(this,e).ease=t}}function uc(e){var t=this._id;return arguments.length?this.each(lc(t,e)):st(this.node(),t).ease}function cc(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;mt(this,e).ease=n}}function fc(e){if(typeof e!="function")throw new Error;return this.each(cc(this._id,e))}function dc(e){typeof e!="function"&&(e=Oi(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=[],s,u=0;u<a;++u)(s=r[u])&&e.call(s,s.__data__,u,r)&&l.push(s);return new bt(o,this._parents,this._name,this._id)}function mc(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),a=new Array(o),l=0;l<r;++l)for(var s=t[l],u=n[l],f=s.length,m=a[l]=new Array(f),p,y=0;y<f;++y)(p=s[y]||u[y])&&(m[y]=p);for(;l<o;++l)a[l]=t[l];return new bt(a,this._parents,this._name,this._id)}function pc(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function hc(e,t,n){var o,i,r=pc(t)?Eo:mt;return function(){var a=r(this,e),l=a.on;l!==o&&(i=(o=l).copy()).on(t,n),a.on=i}}function vc(e,t){var n=this._id;return arguments.length<2?st(this.node(),n).on.on(e):this.each(hc(n,e,t))}function gc(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function yc(){return this.on("end.remove",gc(this._id))}function bc(e){var t=this._name,n=this._id;typeof e!="function"&&(e=No(e));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var l=o[a],s=l.length,u=r[a]=new Array(s),f,m,p=0;p<s;++p)(f=l[p])&&(m=e.call(f,f.__data__,p,l))&&("__data__"in f&&(m.__data__=f.__data__),u[p]=m,Qn(u[p],t,n,p,u,st(f,n)));return new bt(r,this._parents,t,n)}function wc(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Bi(e));for(var o=this._groups,i=o.length,r=[],a=[],l=0;l<i;++l)for(var s=o[l],u=s.length,f,m=0;m<u;++m)if(f=s[m]){for(var p=e.call(f,f.__data__,m,s),y,S=st(f,n),R=0,b=p.length;R<b;++R)(y=p[R])&&Qn(y,t,n,R,p,S);r.push(p),a.push(f)}return new bt(r,a,t,n)}var kc=pn.prototype.constructor;function Cc(){return new kc(this._groups,this._parents)}function Pc(e,t){var n,o,i;return function(){var r=Yt(this,e),a=(this.style.removeProperty(e),Yt(this,e));return r===a?null:r===n&&a===o?i:i=t(n=r,o=a)}}function rr(e){return function(){this.style.removeProperty(e)}}function Ic(e,t,n){var o,i=n+"",r;return function(){var a=Yt(this,e);return a===i?null:a===o?r:r=t(o=a,n)}}function _c(e,t,n){var o,i,r;return function(){var a=Yt(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),Yt(this,e))),a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l))}}function $c(e,t){var n,o,i,r="style."+t,a="end."+r,l;return function(){var s=mt(this,e),u=s.on,f=s.value[r]==null?l||(l=rr(t)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(a,i=f),s.on=o}}function Ac(e,t,n){var o=(e+="")=="transform"?Mu:ir;return t==null?this.styleTween(e,Pc(e,o)).on("end.style."+e,rr(e)):typeof t=="function"?this.styleTween(e,_c(e,o,Fo(this,"style."+e,t))).each($c(this._id,e)):this.styleTween(e,Ic(e,o,t),n).on("end.style."+e,null)}function Sc(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Tc(e,t,n){var o,i;function r(){var a=t.apply(this,arguments);return a!==i&&(o=(i=a)&&Sc(e,a,n)),o}return r._value=t,r}function Nc(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Tc(e,t,n==null?"":n))}function Mc(e){return function(){this.textContent=e}}function Rc(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Lc(e){return this.tween("text",typeof e=="function"?Rc(Fo(this,"text",e)):Mc(e==null?"":e+""))}function qc(e){return function(t){this.textContent=e.call(this,t)}}function Ec(e){var t,n;function o(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&qc(i)),t}return o._value=e,o}function Fc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ec(e))}function Bc(){for(var e=this._name,t=this._id,n=ar(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var f=st(s,t);Qn(s,e,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new bt(o,this._parents,e,n)}function Oc(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(r,a){var l={value:a},s={value:function(){--i===0&&r()}};n.each(function(){var u=mt(this,o),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&r()})}var Uc=0;function bt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function ar(){return++Uc}var vt=pn.prototype;bt.prototype={constructor:bt,select:bc,selectAll:wc,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:dc,merge:mc,selection:Cc,transition:Bc,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:vc,attr:Qu,attrTween:tc,style:Ac,styleTween:Nc,text:Lc,textTween:Fc,remove:yc,tween:Xu,delay:ic,duration:sc,ease:uc,easeVarying:fc,end:Oc,[Symbol.iterator]:vt[Symbol.iterator]};function Dc(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Vc={time:null,delay:0,duration:250,ease:Dc};function Hc(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Xc(e){var t,n;e instanceof bt?(t=e._id,e=e._name):(t=ar(),(n=Vc).time=qo(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],l=a.length,s,u=0;u<l;++u)(s=a[u])&&Qn(s,e,t,u,a,n||Hc(s,t));return new bt(o,this._parents,e,t)}pn.prototype.interrupt=Du;pn.prototype.transition=Xc;const so=e=>()=>e;function zc(e,{sourceEvent:t,target:n,selection:o,mode:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:o,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Wc(e){e.stopImmediatePropagation()}function lo(e){e.preventDefault(),e.stopImmediatePropagation()}var li={name:"drag"},uo={name:"space"},Dt={name:"handle"},Vt={name:"center"};const{abs:ui,max:Ee,min:Fe}=Math;function ci(e){return[+e[0],+e[1]]}function fi(e){return[ci(e[0]),ci(e[1])]}var Rn={name:"x",handles:["w","e"].map(Vn),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},co={name:"y",handles:["n","s"].map(Vn),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},gt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},di={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},mi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Kc={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Yc={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Vn(e){return{type:e}}function jc(e){return!e.ctrlKey&&!e.button}function Gc(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Qc(){return navigator.maxTouchPoints||"ontouchstart"in this}function fo(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Jc(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Zc(){return xc(Rn)}function xc(e){var t=Gc,n=jc,o=Qc,i=!0,r=To("start","brush","end"),a=6,l;function s(b){var v=b.property("__brush",R).selectAll(".overlay").data([Vn("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",gt.overlay).merge(v).each(function(){var k=fo(this).extent;rt(this).attr("x",k[0][0]).attr("y",k[0][1]).attr("width",k[1][0]-k[0][0]).attr("height",k[1][1]-k[0][1])}),b.selectAll(".selection").data([Vn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",gt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var C=b.selectAll(".handle").data(e.handles,function(k){return k.type});C.exit().remove(),C.enter().append("rect").attr("class",function(k){return"handle handle--"+k.type}).attr("cursor",function(k){return gt[k.type]}),b.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",p).filter(o).on("touchstart.brush",p).on("touchmove.brush",y).on("touchend.brush touchcancel.brush",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(b,v,C){b.tween?b.on("start.brush",function(k){f(this,arguments).beforestart().start(k)}).on("interrupt.brush end.brush",function(k){f(this,arguments).end(k)}).tween("brush",function(){var k=this,d=k.__brush,_=f(k,arguments),N=d.selection,x=e.input(typeof v=="function"?v.apply(this,arguments):v,d.extent),O=jn(N,x);function Q(D){d.selection=D===1&&x===null?null:O(D),u.call(k),_.brush()}return N!==null&&x!==null?Q:Q(1)}):b.each(function(){var k=this,d=arguments,_=k.__brush,N=e.input(typeof v=="function"?v.apply(k,d):v,_.extent),x=f(k,d).beforestart();Io(k),_.selection=N===null?null:N,u.call(k),x.start(C).brush(C).end(C)})},s.clear=function(b,v){s.move(b,null,v)};function u(){var b=rt(this),v=fo(this).selection;v?(b.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(C){return C.type[C.type.length-1]==="e"?v[1][0]-a/2:v[0][0]-a/2}).attr("y",function(C){return C.type[0]==="s"?v[1][1]-a/2:v[0][1]-a/2}).attr("width",function(C){return C.type==="n"||C.type==="s"?v[1][0]-v[0][0]+a:a}).attr("height",function(C){return C.type==="e"||C.type==="w"?v[1][1]-v[0][1]+a:a})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(b,v,C){var k=b.__brush.emitter;return k&&(!C||!k.clean)?k:new m(b,v,C)}function m(b,v,C){this.that=b,this.args=v,this.state=b.__brush,this.active=0,this.clean=C}m.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,v){return this.starting?(this.starting=!1,this.emit("start",b,v)):this.emit("brush",b),this},brush:function(b,v){return this.emit("brush",b,v),this},end:function(b,v){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,v)),this},emit:function(b,v,C){var k=rt(this.that).datum();r.call(b,this.that,new zc(b,{sourceEvent:v,target:s,selection:e.output(this.state.selection),mode:C,dispatch:r}),k)}};function p(b){if(l&&!b.touches||!n.apply(this,arguments))return;var v=this,C=b.target.__data__.type,k=(i&&b.metaKey?C="overlay":C)==="selection"?li:i&&b.altKey?Vt:Dt,d=e===co?null:Kc[C],_=e===Rn?null:Yc[C],N=fo(v),x=N.extent,O=N.selection,Q=x[0][0],D,T,H=x[0][1],q,z,ne=x[1][0],X,G,Z=x[1][1],W,V,j=0,J=0,Ae,K=d&&_&&i&&b.shiftKey,Se,lt,be=Array.from(b.touches||[b],M=>{const pe=M.identifier;return M=jo(M,v),M.point0=M.slice(),M.identifier=pe,M});Io(v);var De=f(v,arguments,!0).beforestart();if(C==="overlay"){O&&(Ae=!0);const M=[be[0],be[1]||be[0]];N.selection=O=[[D=e===co?Q:Fe(M[0][0],M[1][0]),q=e===Rn?H:Fe(M[0][1],M[1][1])],[X=e===co?ne:Ee(M[0][0],M[1][0]),W=e===Rn?Z:Ee(M[0][1],M[1][1])]],be.length>1&&we(b)}else D=O[0][0],q=O[0][1],X=O[1][0],W=O[1][1];T=D,z=q,G=X,V=W;var ut=rt(v).attr("pointer-events","none"),Be=ut.selectAll(".overlay").attr("cursor",gt[C]);if(b.touches)De.moved=Oe,De.ended=Ge;else{var pt=rt(b.view).on("mousemove.brush",Oe,!0).on("mouseup.brush",Ge,!0);i&&pt.on("keydown.brush",et,!0).on("keyup.brush",$e,!0),iu(b.view)}u.call(v),De.start(b,k.name);function Oe(M){for(const pe of M.changedTouches||[M])for(const Qe of be)Qe.identifier===pe.identifier&&(Qe.cur=jo(pe,v));if(K&&!Se&&!lt&&be.length===1){const pe=be[0];ui(pe.cur[0]-pe[0])>ui(pe.cur[1]-pe[1])?lt=!0:Se=!0}for(const pe of be)pe.cur&&(pe[0]=pe.cur[0],pe[1]=pe.cur[1]);Ae=!0,lo(M),we(M)}function we(M){const pe=be[0],Qe=pe.point0;var E;switch(j=pe[0]-Qe[0],J=pe[1]-Qe[1],k){case uo:case li:{d&&(j=Ee(Q-D,Fe(ne-X,j)),T=D+j,G=X+j),_&&(J=Ee(H-q,Fe(Z-W,J)),z=q+J,V=W+J);break}case Dt:{be[1]?(d&&(T=Ee(Q,Fe(ne,be[0][0])),G=Ee(Q,Fe(ne,be[1][0])),d=1),_&&(z=Ee(H,Fe(Z,be[0][1])),V=Ee(H,Fe(Z,be[1][1])),_=1)):(d<0?(j=Ee(Q-D,Fe(ne-D,j)),T=D+j,G=X):d>0&&(j=Ee(Q-X,Fe(ne-X,j)),T=D,G=X+j),_<0?(J=Ee(H-q,Fe(Z-q,J)),z=q+J,V=W):_>0&&(J=Ee(H-W,Fe(Z-W,J)),z=q,V=W+J));break}case Vt:{d&&(T=Ee(Q,Fe(ne,D-j*d)),G=Ee(Q,Fe(ne,X+j*d))),_&&(z=Ee(H,Fe(Z,q-J*_)),V=Ee(H,Fe(Z,W+J*_)));break}}G<T&&(d*=-1,E=D,D=X,X=E,E=T,T=G,G=E,C in di&&Be.attr("cursor",gt[C=di[C]])),V<z&&(_*=-1,E=q,q=W,W=E,E=z,z=V,V=E,C in mi&&Be.attr("cursor",gt[C=mi[C]])),N.selection&&(O=N.selection),Se&&(T=O[0][0],G=O[1][0]),lt&&(z=O[0][1],V=O[1][1]),(O[0][0]!==T||O[0][1]!==z||O[1][0]!==G||O[1][1]!==V)&&(N.selection=[[T,z],[G,V]],u.call(v),De.brush(M,k.name))}function Ge(M){if(Wc(M),M.touches){if(M.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else ru(M.view,Ae),pt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ut.attr("pointer-events","all"),Be.attr("cursor",gt.overlay),N.selection&&(O=N.selection),Jc(O)&&(N.selection=null,u.call(v)),De.end(M,k.name)}function et(M){switch(M.keyCode){case 16:{K=d&&_;break}case 18:{k===Dt&&(d&&(X=G-j*d,D=T+j*d),_&&(W=V-J*_,q=z+J*_),k=Vt,we(M));break}case 32:{(k===Dt||k===Vt)&&(d<0?X=G-j:d>0&&(D=T-j),_<0?W=V-J:_>0&&(q=z-J),k=uo,Be.attr("cursor",gt.selection),we(M));break}default:return}lo(M)}function $e(M){switch(M.keyCode){case 16:{K&&(Se=lt=K=!1,we(M));break}case 18:{k===Vt&&(d<0?X=G:d>0&&(D=T),_<0?W=V:_>0&&(q=z),k=Dt,we(M));break}case 32:{k===uo&&(M.altKey?(d&&(X=G-j*d,D=T+j*d),_&&(W=V-J*_,q=z+J*_),k=Vt):(d<0?X=G:d>0&&(D=T),_<0?W=V:_>0&&(q=z),k=Dt),Be.attr("cursor",gt[C]),we(M));break}default:return}lo(M)}}function y(b){f(this,arguments).moved(b)}function S(b){f(this,arguments).ended(b)}function R(){var b=this.__brush||{selection:null};return b.extent=fi(t.apply(this,arguments)),b.dim=e,b}return s.extent=function(b){return arguments.length?(t=typeof b=="function"?b:so(fi(b)),s):t},s.filter=function(b){return arguments.length?(n=typeof b=="function"?b:so(!!b),s):n},s.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:so(!!b),s):o},s.handleSize=function(b){return arguments.length?(a=+b,s):a},s.keyModifiers=function(b){return arguments.length?(i=!!b,s):i},s.on=function(){var b=r.on.apply(r,arguments);return b===r?s:b},s}function ef(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Hn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,o=e.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+e.slice(n+1)]}function Gt(e){return e=Hn(Math.abs(e)),e?e[1]:NaN}function tf(e,t){return function(n,o){for(var i=n.length,r=[],a=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>o&&(l=Math.max(1,o-s)),r.push(n.substring(i-=l,i+l)),!((s+=l+1)>o));)l=e[a=(a+1)%e.length];return r.reverse().join(t)}}function nf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var of=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xn(e){if(!(t=of.exec(e)))throw new Error("invalid format: "+e);var t;return new Bo({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xn.prototype=Bo.prototype;function Bo(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Bo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rf(e){e:for(var t=e.length,n=1,o=-1,i;n<t;++n)switch(e[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+e[n])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(i+1):e}var sr;function af(e,t){var n=Hn(e,t);if(!n)return e+"";var o=n[0],i=n[1],r=i-(sr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=o.length;return r===a?o:r>a?o+new Array(r-a+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+Hn(e,Math.max(0,t+r-1))[0]}function pi(e,t){var n=Hn(e,t);if(!n)return e+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const hi={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ef,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pi(e*100,t),r:pi,s:af,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vi(e){return e}var gi=Array.prototype.map,yi=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function sf(e){var t=e.grouping===void 0||e.thousands===void 0?vi:tf(gi.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?vi:nf(gi.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(m){m=Xn(m);var p=m.fill,y=m.align,S=m.sign,R=m.symbol,b=m.zero,v=m.width,C=m.comma,k=m.precision,d=m.trim,_=m.type;_==="n"?(C=!0,_="g"):hi[_]||(k===void 0&&(k=12),d=!0,_="g"),(b||p==="0"&&y==="=")&&(b=!0,p="0",y="=");var N=R==="$"?n:R==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",x=R==="$"?o:/[%p]/.test(_)?a:"",O=hi[_],Q=/[defgprs%]/.test(_);k=k===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function D(T){var H=N,q=x,z,ne,X;if(_==="c")q=O(T)+q,T="";else{T=+T;var G=T<0||1/T<0;if(T=isNaN(T)?s:O(Math.abs(T),k),d&&(T=rf(T)),G&&+T==0&&S!=="+"&&(G=!1),H=(G?S==="("?S:l:S==="-"||S==="("?"":S)+H,q=(_==="s"?yi[8+sr/3]:"")+q+(G&&S==="("?")":""),Q){for(z=-1,ne=T.length;++z<ne;)if(X=T.charCodeAt(z),48>X||X>57){q=(X===46?i+T.slice(z+1):T.slice(z))+q,T=T.slice(0,z);break}}}C&&!b&&(T=t(T,1/0));var Z=H.length+T.length+q.length,W=Z<v?new Array(v-Z+1).join(p):"";switch(C&&b&&(T=t(W+T,W.length?v-q.length:1/0),W=""),y){case"<":T=H+T+q+W;break;case"=":T=H+W+T+q;break;case"^":T=W.slice(0,Z=W.length>>1)+H+T+q+W.slice(Z);break;default:T=W+H+T+q;break}return r(T)}return D.toString=function(){return m+""},D}function f(m,p){var y=u((m=Xn(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(Gt(p)/3)))*3,R=Math.pow(10,-S),b=yi[8+S/3];return function(v){return y(R*v)+b}}return{format:u,formatPrefix:f}}var An,lr,ur;lf({thousands:",",grouping:[3],currency:["$",""]});function lf(e){return An=sf(e),lr=An.format,ur=An.formatPrefix,An}function uf(e){return Math.max(0,-Gt(Math.abs(e)))}function cf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gt(t)/3)))*3-Gt(Math.abs(e)))}function ff(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gt(t)-Gt(e))+1}function Oo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const bi=Symbol("implicit");function cr(){var e=new zo,t=[],n=[],o=bi;function i(r){let a=e.get(r);if(a===void 0){if(o!==bi)return o;e.set(r,a=t.push(r)-1)}return n[a%n.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new zo;for(const a of r)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(r){return arguments.length?(n=Array.from(r),i):n.slice()},i.unknown=function(r){return arguments.length?(o=r,i):o},i.copy=function(){return cr(t,n).unknown(o)},Oo.apply(i,arguments),i}function fr(){var e=cr().unknown(void 0),t=e.domain,n=e.range,o=0,i=1,r,a,l=!1,s=0,u=0,f=.5;delete e.unknown;function m(){var p=t().length,y=i<o,S=y?i:o,R=y?o:i;r=(R-S)/Math.max(1,p-s+u*2),l&&(r=Math.floor(r)),S+=(R-S-r*(p-s))*f,a=r*(1-s),l&&(S=Math.round(S),a=Math.round(a));var b=ks(p).map(function(v){return S+r*v});return n(y?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),m()):t()},e.range=function(p){return arguments.length?([o,i]=p,o=+o,i=+i,m()):[o,i]},e.rangeRound=function(p){return[o,i]=p,o=+o,i=+i,l=!0,m()},e.bandwidth=function(){return a},e.step=function(){return r},e.round=function(p){return arguments.length?(l=!!p,m()):l},e.padding=function(p){return arguments.length?(s=Math.min(1,u=+p),m()):s},e.paddingInner=function(p){return arguments.length?(s=Math.min(1,p),m()):s},e.paddingOuter=function(p){return arguments.length?(u=+p,m()):u},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},e.copy=function(){return fr(t(),[o,i]).round(l).paddingInner(s).paddingOuter(u).align(f)},Oo.apply(m(),arguments)}function df(e){return function(){return e}}function mf(e){return+e}var wi=[0,1];function Xt(e){return e}function _o(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:df(isNaN(t)?NaN:.5)}function pf(e,t){var n;return e>t&&(n=e,e=t,t=n),function(o){return Math.max(e,Math.min(t,o))}}function hf(e,t,n){var o=e[0],i=e[1],r=t[0],a=t[1];return i<o?(o=_o(i,o),r=n(a,r)):(o=_o(o,i),r=n(r,a)),function(l){return r(o(l))}}function vf(e,t,n){var o=Math.min(e.length,t.length)-1,i=new Array(o),r=new Array(o),a=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<o;)i[a]=_o(e[a],e[a+1]),r[a]=n(t[a],t[a+1]);return function(l){var s=fs(e,l,1,o)-1;return r[s](i[s](l))}}function gf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yf(){var e=wi,t=wi,n=jn,o,i,r,a=Xt,l,s,u;function f(){var p=Math.min(e.length,t.length);return a!==Xt&&(a=pf(e[0],e[p-1])),l=p>2?vf:hf,s=u=null,m}function m(p){return p==null||isNaN(p=+p)?r:(s||(s=l(e.map(o),t,n)))(o(a(p)))}return m.invert=function(p){return a(i((u||(u=l(t,e.map(o),it)))(p)))},m.domain=function(p){return arguments.length?(e=Array.from(p,mf),f()):e.slice()},m.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},m.rangeRound=function(p){return t=Array.from(p),n=Su,f()},m.clamp=function(p){return arguments.length?(a=p?!0:Xt,f()):a!==Xt},m.interpolate=function(p){return arguments.length?(n=p,f()):n},m.unknown=function(p){return arguments.length?(r=p,m):r},function(p,y){return o=p,i=y,f()}}function bf(){return yf()(Xt,Xt)}function wf(e,t,n,o){var i=bs(e,t,n),r;switch(o=Xn(o==null?",f":o),o.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(r=cf(i,a))&&(o.precision=r),ur(o,a)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=ff(i,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=uf(i))&&(o.precision=r-(o.type==="%")*2);break}}return lr(o)}function kf(e){var t=e.domain;return e.ticks=function(n){var o=t();return ys(o[0],o[o.length-1],n==null?10:n)},e.tickFormat=function(n,o){var i=t();return wf(i[0],i[i.length-1],n==null?10:n,o)},e.nice=function(n){n==null&&(n=10);var o=t(),i=0,r=o.length-1,a=o[i],l=o[r],s,u,f=10;for(l<a&&(u=a,a=l,l=u,u=i,i=r,r=u);f-- >0;){if(u=po(a,l,n),u===s)return o[i]=a,o[r]=l,t(o);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function dr(){var e=bf();return e.copy=function(){return gf(e,dr())},Oo.apply(e,arguments),kf(e)}function zt(e,t,n){this.k=e,this.x=t,this.y=n}zt.prototype={constructor:zt,scale:function(e){return e===1?this:new zt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new zt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new zt(1,0,0);zt.prototype;function mo(e,t,n){const o=new F(10).pow(t-n);return new F(1.0001).pow(e).mul(o)}const Cf=Ye({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,t){const n=$(1),o=$(""),i=$(""),r=ee(()=>{var d,_,N;return m.sqrtPriceX64ToPrice((d=e.poolInfo)==null?void 0:d.current_sqrt_price,(_=e.poolInfo)==null?void 0:_.coinA.decimals,(N=e.poolInfo)==null?void 0:N.coinB.decimals).toString()}),a=ee(()=>{let d=0;return e.direction?d=(Number(e.minPrice)/Number(r.value)-1)*100:d=(Number(e.minPrice)/Number(1/Number(r.value))-1)*100,d=d>0&&d<.1?.1:d,d=d<0&&d>-.1?-.1:d,d}),l=ee(()=>{let d=0;return e.direction?d=(Number(e.maxPrice)/Number(r.value)-1)*100:d=(Number(e.maxPrice)/Number(1/Number(r.value))-1)*100,d=d>0&&d<.1?.1:d,d=d<0&&d>-.1?-.1:d,d}),s=xe(),u=ee(()=>s),f=ee(()=>u.value.chainName?$o(u.value.chainName):{}),{TickMath:m,getNearestTickByTick:p}=f.value,y=()=>{const d=n.value/2;n.value=d,b(e.poolInfo,d)},S=()=>{const d=n.value*2;n.value=d,b(e.poolInfo,d)},R=(d=[])=>{let _=6;const N=Math.abs(Number(d[0])-Number(d[d.length-1]));return N>=6?_=0:N>=1?_=1:N>=.1?_=2:N>=.01?_=3:N>=.001?_=4:N>=1e-4?_=5:N>=1e-5?_=6:N>=1e-6?_=7:N>=1e-7&&(_=8),_},b=(d,_=1)=>{if(d&&d.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const N=Number(e.poolInfo.current_tick_index);console.log("0117###dataProcessing###currentTick###",N),console.log("0117###dataProcessing###minPrice###",e.minPrice),console.log("0117###dataProcessing###maxPrice###",e.maxPrice),console.log("0117###dataProcessing###poolInfo###",e.poolInfo);let x=N+100*_,O=N-100*_,Q,D;e.maxPrice==="\u221E"?D=0:e.direction?D=m.priceToTickIndex(new F(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):D=m.priceToTickIndex(new F(1/Number(e.minPrice)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals),e.minPrice==="0"?Q=0:e.direction?Q=m.priceToTickIndex(new F(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):Q=m.priceToTickIndex(new F(1/Number(e.maxPrice)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals);let T=0;if(N>=Q&&N<=D){const j=N-Q,J=D-N;T=Math.max(Math.abs(j),Math.abs(J))}else N<Q?T=Math.abs(D-N):T=Math.abs(N-Q);x=N+T+100*_,O=N-T-100*_;const H=Number(d.liquidity)/Math.pow(10,6),q=e.tickList;console.log(q,"===>tick_info_array");const z=[],ne=[];let X={};for(let j=0;j<q.length;j++)X=q[j],X.index<=N&&X.index>=O?z.unshift(X):X.index>N&&X.index<=x&&ne.push(X);let G=Number(H);for(let j=0;j<z.length;j++)z[j].liquityAmount=G-Number(z[j].liquidityGross.toString()/Math.pow(10,6));let Z=Number(H);for(let j=0;j<ne.length;j++)ne[j].liquityAmount=Z-Number(ne[j].liquidityGross.toString()/Math.pow(10,6));let W=[];const V=q&&q.length>0?{index:N,liquityAmount:Number(H)}:{index:N,liquityAmount:Number(0)};W=[...z.reverse(),V,...ne],e.direction||(W=W.reverse()),C(W,O,x,Q,D,N)}};let v=$(!1);zn(()=>{document.body.clientWidth<750?v.value=!1:v.value=!0,window.onresize=()=>{document.body.clientWidth<750?v.value=!1:v.value=!0,b(e.poolInfo,n.value)}});const C=(d,_,N,x,O,Q)=>{console.log("0117####drawChart####chartData####",d),console.log("0117####drawChart####tickMin####",_),console.log("0117####drawChart####tickMax####",N),console.log("0117####drawChart####minPriceTick####",x),console.log("0117####drawChart####maxPriceTick####",O),console.log("0117####drawChart####currentTick####",Q);let D,T;e.direction?(D=e.before7dContractPriceLowest?m.priceToTickIndex(new F(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?m.priceToTickIndex(new F(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(D=e.before7dContractPriceLowest?m.priceToTickIndex(new F(1/Number(e.before7dContractPriceLowest)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?m.priceToTickIndex(new F(1/Number(e.before7dContractPriceHighest)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const H={top:30,right:35,bottom:20,left:55};let q,z;v.value?(q=460-H.left-H.right,z=205-H.top-H.bottom):(q=340-H.left-H.right,z=205-H.top-H.bottom);const ne=N-_,X=parseInt(String(ne/4));let G=[_,_+X,_+2*X,N-X,N];const Z=G[0]-(G[1]-G[0])/3,W=G[4]+(G[4]-G[3])/3,V=q/(W-Z);e.currentPriceTab==="Full Range"&&(G=[_,_+2*X,N]);const j=G.map(E=>e.direction?mo(E,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():1/mo(E,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),J=R(j);rt("#chart").selectAll("*").remove();const Ae=rt("#chart").attr("width",q+H.left+H.right).attr("height",z+H.top+H.bottom).append("g").attr("transform",`translate(${H.left},${H.right})`),K=ws(d,function(E){return Number(E.liquityAmount)})||0,Se=dr().range([0,z]).domain([K,0]);fr().rangeRound([0,q]).padding(.1);const be=Ae.append("g").attr("id","barsBox").selectAll("rect").data(d).enter().append("rect");u.value.theme=="default"?be.attr("x",function(E,I){return I===0?0:e.direction?Math.abs(d[I-1].index-Z)*V:Math.abs(W-d[I-1].index)*V}).attr("y",function(E,I){return I===0?0:e.direction?Se(d[I-1].liquityAmount):Se(E.liquityAmount)}).attr("width",function(E,I){return I===0&&d.length===1&&E.liquityAmount>0?q:I===0?0:e.direction?Math.abs(E.index-d[I-1].index)*V:Math.abs(d[I-1].index-E.index)*V}).attr("height",function(E,I){return I===0&&d.length===1&&E.liquityAmount>0?z:I===0?0:e.direction?z-Se(d[I-1].liquityAmount):z-Se(E.liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):be.attr("x",function(E,I){return I===0?0:e.direction?Math.abs(d[I-1].index-Z)*V:Math.abs(W-d[I-1].index)*V}).attr("y",function(E,I){return I===0?0:e.direction?Se(d[I-1].liquityAmount):Se(E.liquityAmount)}).attr("width",function(E,I){return I===0&&d.length===1&&E.liquityAmount>0?q:I===0?0:e.direction?Math.abs(E.index-d[I-1].index)*V:Math.abs(d[I-1].index-E.index)*V}).attr("height",function(E,I){return I===0&&d.length===1&&E.liquityAmount>0?z:I===0?0:e.direction?z-Se(d[I-1].liquityAmount):z-Se(E.liquityAmount)}).attr("fill","#407497").attr("class","bars");const De=Ae.append("g");De.append("line").attr("x1",0).attr("y1",155).attr("x2",q).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const ut=De.append("g");let Be=0;if(e.direction){for(let E=0;E<G.length;E++){const I=ot(j[E],J)||"0";j.push(I);const B=Math.abs(G[E]-Z)*V;let Ie=0;for(let _e=0;_e<I.length;_e++)I[_e]==="1"?Ie+=4.02:I[_e]==="."?Ie+=2.64:I[_e]==="7"?Ie+=5.48:Ie+=6;console.log(B,"x=>>>"),ut.append("text").text(I).attr("x",B-Ie/2).attr("y",170).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}Be=Math.abs(Q-Z)*V}else{for(let E=G.length-1;E>=0;E--){const I=It(String(1/mo(G[E],e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),6)||"0";j.push(I);const B=Math.abs(G[E]-W)*V;let Ie=0;for(let _e=0;_e<I.length;_e++)I[_e]==="1"?Ie+=4.02:I[_e]==="."?Ie+=2.64:I[_e]==="7"?Ie+=5.48:Ie+=6;ut.append("text").text(I).attr("x",B-Ie/2).attr("y",170).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}Be=Math.abs(Q-W)*V}(u.value.theme=="default"?Ae.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):Ae.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+Be+", 0)");let Oe,we,Ge,et;e.direction?(Oe=x<Z?-100:Math.abs(x-Z)*V,we=O<Z?-100:Math.abs(O-Z)*V,Ge=D<Z?-100:Math.abs(D-Z)*V,et=T<Z?-100:Math.abs(T-Z)*V):(we=x<Z?-100:Math.abs(W-x)*V,Oe=O<Z?-100:Math.abs(W-O)*V,et=D<Z?-100:Math.abs(W-D)*V,Ge=T<Z?-100:Math.abs(W-T)*V),e.minPrice==="0"&&(Oe=0),e.maxPrice==="\u221E"&&(we=q),v.value?o.value=q-Oe+60+"px":o.value=q-Oe+52+"px",i.value=we+74+"px",D&&Ge<q&&Ae.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Ge+", 0)"),T&&et<q&&Ae.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+et+", 0)");const $e=Ae.append("g").attr("id","left-handle"),M=Ae.append("g").attr("id","right-handle");u.value.theme=="default"?($e.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),$e.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),$e.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),$e.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),$e.append("rect").attr("width",20).attr("height",14).attr("class","left-range").attr("fill","#202020"),M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),M.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),M.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),M.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):($e.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),$e.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),$e.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),$e.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),M.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),M.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),M.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),$e.attr("transform","translate("+Oe+", 0)"),M.attr("transform","translate("+we+", 0)");const pe=Zc().extent([[0,0],[q,z]]).handleSize(30).on("end",Qe);Ae.append("g").attr("class","brush").call(pe).call(pe.move,[Oe,we]);function Qe(E){if(!E.sourceEvent||!E.selection)return;$e.attr("transform","translate("+E.selection[0]+", 0)"),M.attr("transform","translate("+E.selection[1]+", 0)"),v.value?o.value=q-E.selection[0]+60+"px":o.value=q-E.selection[0]+52+"px",i.value=E.selection[1]+74+"px";let I,B,Ie=0,_e=0;e.direction?(Ie=p(E.selection[0]/V+Z,Number(e.poolInfo.tickSpacing)),I=m.tickIndexToPrice(Ie,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber(),_e=p(E.selection[1]/V+Z,Number(e.poolInfo.tickSpacing)),B=m.tickIndexToPrice(_e,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()):(_e=p(W-E.selection[0]/V,Number(e.poolInfo.tickSpacing)),I=1/m.tickIndexToPrice(_e,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber(),Ie=p(W-E.selection[1]/V,Number(e.poolInfo.tickSpacing)),B=1/m.tickIndexToPrice(Ie,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),t.emit("onChangeMinPrice",String(ot(String(I),6))),t.emit("onChangeMaxPrice",String(ot(String(B),6)))}u.value.theme=="default"?rt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):rt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};$(""),ge(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab],([d,_,N,x])=>{console.log(d,_,N,N>_,"poolInfo && minPrice && maxPrice && (maxPrice > minPrice)"),d&&_&&N&&(N=="\u221E"||Number(N)>Number(_))&&b(d,n.value)},{immediate:!0});const k=$(!0);return ge(()=>e.chartLoading,(d,_)=>{d!==_&&(k.value=d)},{immediate:!0,deep:!0}),{store:u,loading:k,zoomOut:y,zoomIn:S,rangeSizeLower:a,rangeSizeUpper:l,rangeSizeLowerPosition:o,rangeSizeUpperPosition:i,decimalFormat:It,numberformat:Lr}}});const Pf=e=>(_t("data-v-3955a187"),e=e(),$t(),e),If={class:"chart-box"},_f={class:"chart"},$f={class:"zoom"},Af=Pf(()=>c("svg",{id:"chart"},null,-1)),Sf={key:2,class:"not-select-mask"};function Tf(e,t,n,o,i,r){return g(),P("div",If,[qr(c("div",_f,[c("div",$f,[c("div",{class:"amplification",onClick:t[0]||(t[0]=(...a)=>e.zoomOut&&e.zoomOut(...a))}),c("div",{class:"narrow",onClick:t[1]||(t[1]=(...a)=>e.zoomIn&&e.zoomIn(...a))})]),e.currentPriceTab!=="Full Range"?(g(),P("div",{key:0,class:"range-size range-size-lower",style:Vo({right:e.rangeSizeLowerPosition})},w(e.numberformat(e.rangeSizeLower.toFixed(1),1))+"% ",5)):L("",!0),e.currentPriceTab!=="Full Range"?(g(),P("div",{key:1,class:"range-size range-size-upper",style:Vo({left:e.rangeSizeUpperPosition})},w(e.numberformat(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):L("",!0),Af,e.currentPriceTab!=="Custom"?(g(),P("div",Sf)):L("",!0)],512),[[Er,!e.loading]])])}const Nf=je(Cf,[["render",Tf],["__scopeId","data-v-3955a187"]]),Mf=Ye({props:{poolInfo:{type:Object,default:()=>({})},aprRewardsParameter:{type:Number,default:30},label:{type:Boolean,default:!0}},setup(e,t){const n=$(""),o=$(""),i=$(""),r=xe(),a=ee(()=>r),l=Qt(),s=ee(()=>l),u=(v,C)=>v&&C?un(Wr.plus(to(v),to(C)),2)+"%":v,f=v=>{let C=0;return v&&v.forEach(k=>{C+=to(String(k))}),String(un(String(C),2))},m=$([]),p=$([]),y=$(""),S=$(""),R=$(!0);return ge(()=>[a.value.newTopPoolsObj,e.poolInfo,s.value.newTokenObj,e.aprRewardsParameter],async([v,C,k])=>{if(console.log(C,"===>poolInfo"),console.log(v,"newValue========>"),console.log(k,"newTokenObj========>"),v&&C&&k){const d=v[C.poolAddress];if(d){n.value=d&&d.apr_7day,S.value=f(d&&d.rewarder_apr),y.value=u(d&&d.apr_7day,d&&f(d.rewarder_apr)),o.value=Wt(d.tvl_in_usd,2),i.value=Wt(d.vol_in_usd_24h,2);const _=C&&e.poolInfo.rewarder_infos||[],N=[];_.forEach((O,Q)=>{const D=k[O.coinAddress].decimals,T=It(O.emissionsEveryDay/Math.pow(10,D),4);console.log(s.value.RATES[O.coinAddress],"===>>>pools.value.RATES");const H=It(Number(T)*s.value.RATES[O.coinAddress].price,4);console.log(H,"===>>>pools.value.RATES"),N.push({...O,logoUrl:k[O.coinAddress].logoURI,day:T,dayUSD:H,symbol:k[O.coinAddress].symbol,rewarder_display:C&&C[`rewarder_display${Q+1}`]?C[`rewarder_display${Q+1}`]:!1})}),m.value=N.filter(O=>O.rewarder_display);const x=[];N.forEach((O,Q)=>{x.push({...O,symbol:k[O.coinAddress].symbol,rewarderApr:d.rewarder_apr[Q]})}),p.value=x.filter(O=>O.rewarder_display),console.log(x,"==>resultTep"),console.log(m,"===>rewarderInfo")}console.log(R.value,"loadingvalue===>"),R.value=!1}},{immediate:!0,deep:!0}),{rewarderInfo:m,rewarderArr:p,rewardApr:y,rewardAprList:S,apr:n,liquidityTvl:o,vol24:i,addCommom:Wt,reviseValue:()=>{t.emit("reviseValue")},loading:R}}});const mr=e=>(_t("data-v-35761af0"),e=e(),$t(),e),Rf={key:0,class:"pool-info"},Lf=mr(()=>c("use",{"xlink:href":"#icon-icon_on"},null,-1)),qf=[Lf],Ef={key:0,class:"info-block-container"},Ff={class:"info-block"},Bf={class:"leabl"},Of={class:"text"},Uf={class:"apr-hover-content"},Df={class:"info-block"},Vf={class:"leabl"},Hf={class:"text"},Xf={class:"info-block"},zf={class:"leabl"},Wf={class:"text"},Kf={class:"info-block"},Yf={class:"leabl"},jf={class:"text"},Gf={key:1,class:"pool-rewards-info"},Qf={class:"rewards-list-all"},Jf=mr(()=>c("div",{class:"icon-sign"},null,-1)),Zf=["src"],xf={class:"rewards-value"};function ed(e,t,n,o,i,r){const a=zr,l=$i;return e.poolInfo?(g(),P("div",Rf,[e.loading?(g(),se(l,{key:1})):(g(),P(yt,{key:0},[c("div",{class:ve(e.label?"pool-info-border pool-info-title":"pool-info-title")},[Pe(w(e.$t("newAdd.poolInfo"))+" ",1),(g(),P("svg",{class:ve(e.label?"show-icon icon":"icon"),"aria-hidden":"true",onClick:t[0]||(t[0]=s=>e.reviseValue())},qf,2))],2),e.label?(g(),P("div",Ef,[c("div",Ff,[c("div",Bf,w(e.$t("common.apr")),1),c("div",Of,[Pe(w(e.poolInfo.is_display_rewarder?e.addCommom(e.rewardApr.substring(0,e.rewardApr.length-1),2):e.addCommom(e.apr.substring(0,e.apr.length-1),2))+"% ",1),c("div",Uf,[ie(a,{"l-item":{apr:e.apr,aprTotal:e.rewardApr,rewarder_apr:e.rewardAprList,is_display_rewarder:e.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["l-item","rewarder-info"])])])]),c("div",Df,[c("div",Vf,w(e.$t("common.liquidity")),1),c("div",Hf,"$"+w(e.liquidityTvl),1)]),c("div",Xf,[c("div",zf,w(e.$t("common.volume24h")),1),c("div",Wf,"$"+w(e.vol24),1)]),c("div",Kf,[c("div",Yf,w(e.$t("newAdd.tickSpacing")),1),c("div",jf,w(e.poolInfo&&e.poolInfo.tick_spacing),1)])])):L("",!0),e.poolInfo.is_display_rewarder&&e.label&&e.rewarderInfo&&e.rewarderInfo.length>0?(g(),P("div",Gf,[Pe(w("Farming Bonus")+" "),c("div",Qf,[(g(!0),P(yt,null,an(e.rewarderInfo,s=>(g(),P("div",{key:s,class:ve(["rewards-list",s.day==0?"rewards-none":""])},[Jf,c("img",{src:s.logoUrl,alt:""},null,8,Zf),c("div",xf,[c("p",null,w(s.day)+" "+w(s.symbol)+" / "+w(e.$t("newAdd.day"))+" ",1)])],2))),128))])])):L("",!0)],64))])):L("",!0)}const td=je(Mf,[["render",ed],["__scopeId","data-v-35761af0"]]),nd=Ye({components:{Modal:Ai},props:{},setup(){const e=$({}),t=xe(),n=ee(()=>t),o=ee(()=>n.value.chainName),i=ee(()=>Fr[o.value]);let r=$(!0);const a=Qt(),l=ee(()=>a),s=Si();return ge(()=>l.value.currentPositionInfo,u=>{u&&(e.value=u)}),{addCommom:Wt,router:s,pools:l,positionInfo:e,decimalFormat:It,rateChange:r,config:i,importIcon:mn,store:n,chainName:o}}});const vn=e=>(_t("data-v-383732f4"),e=e(),$t(),e),od=vn(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),id={class:"rejected-container"},rd={class:"coin-pair"},ad=vn(()=>c("use",{"xlink:href":"#icon-icon-copy"},null,-1)),sd=[ad],ld=["href"],ud=vn(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-jump"})],-1)),cd=[ud],fd=["href"],dd=vn(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-jump"})],-1)),md=[dd],pd={class:"coin-pair"},hd=["src"],vd=["src"],gd={class:"fee"},yd={class:"status"},bd={class:"min-and-max"},wd={key:0},kd={class:"text"},Cd={key:0,src:Ao,alt:""},Pd={key:1,src:So,alt:""},Id={class:"text"},_d={key:1},$d={class:"text"},Ad={key:0,src:Ao,alt:""},Sd={key:1,src:So,alt:""},Td={class:"text"},Nd=vn(()=>c("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Md=[Nd];function Rd(e,t,n,o,i,r){const a=_i,l=Kr,s=Kn,u=Ti("Modal");return g(),se(u,{visible:!0,class:"transiaction-rejected",centered:"",title:e.$t("newAdd.openPositionSuccessful"),width:"340px",footer:null,onCancel:t[3]||(t[3]=f=>e.$emit("onClose"))},{closeIcon:me(()=>[od]),default:me(()=>[c("div",id,[ie(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:me(()=>[c("div",rd,[Pe(w(e.positionInfo.tokenName)+" ",1),(g(),P("svg",{class:"icon","aria-hidden":"true",onClick:t[0]||(t[0]=f=>e.store.copy(e.positionInfo.nftHash))},sd)),e.chainName==="Aptos"?(g(),P("a",{key:0,href:`${e.config.explorerUrl}/token/${e.positionInfo.nftHash}/0?network=${e.config.network}`,target:"_blank"},cd,8,ld)):(g(),P("a",{key:1,href:`${e.config.explorerUrl}/object/${e.positionInfo.pos_object_id}?network=${e.config.network}`,target:"_blank"},md,8,fd))])]),_:1},8,["loading"]),c("div",{class:ve(["left",`position-status-${e.positionInfo&&e.positionInfo.currentStatus&&e.positionInfo.currentStatus.toLowerCase()}`])},[ie(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:me(()=>[c("div",pd,[c("div",null,[c("img",{src:e.fromCoinUrl||e.positionInfo.token_a.logoURI||e.importIcon(`/image/coins/${e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,hd),c("img",{src:e.toCoinUrl||e.positionInfo.token_b.logoURI||e.importIcon(`/image/coins/${e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,vd)]),c("span",null,w(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" - "+w(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)]),c("div",gd,w(e.$t("common.fee"))+" "+w(e.positionInfo.fee*100)+"%",1)]),_:1},8,["loading"])],2),c("div",yd,[ie(l,{"current-status":e.positionInfo.currentStatus||""},null,8,["current-status"])]),ie(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:me(()=>[c("div",bd,[e.rateChange?(g(),P("div",wd,[c("div",kd,w(e.addCommom(e.decimalFormat(String(e.positionInfo&&e.positionInfo.minPrice),6),6)),1),e.store.theme=="default"?(g(),P("img",Cd)):(g(),P("img",Pd)),c("div",Id,w(e.positionInfo&&e.positionInfo.maxPrice.indexOf("\u221E")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":e.addCommom(e.decimalFormat(String(e.positionInfo&&e.positionInfo.maxPrice),6),6))+" "+w(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol)+" per "+w(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1)])):(g(),P("div",_d,[c("div",$d,w(e.addCommom(e.decimalFormat(String(1/Number(e.positionInfo&&e.positionInfo.maxPrice)),6),6)),1),e.store.theme=="default"?(g(),P("img",Ad)):(g(),P("img",Sd)),c("div",Td,w(e.positionInfo&&e.positionInfo.maxPrice.indexOf("\u221E")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":e.addCommom(e.decimalFormat(String(1/Number(e.positionInfo&&e.positionInfo.minPrice)),6),6))+" "+w(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" per "+w(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)])),(g(),P("svg",{class:"icon-change","aria-hidden":"true",onClick:t[1]||(t[1]=f=>e.rateChange=!e.rateChange)},Md))])]),_:1},8,["loading"])]),ie(s,{onClick:t[2]||(t[2]=f=>e.router.push(`/position-detail/1?collect=${e.positionInfo.collectionName}&&token=${e.positionInfo.tokenName}&&address=${e.positionInfo.pool}&pos=${e.positionInfo.pos_object_id}`))},{default:me(()=>[Pe(w(e.$t("newAdd.viewDetail")),1)]),_:1})]),_:1},8,["title"])}const Ld=je(nd,[["render",Rd],["__scopeId","data-v-383732f4"]]),qd=Ye({components:{Modal:Ai,CoinPairName:Li},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},currentPrice:{type:String,default:""}},setup(e,t){const{t:n}=Ni(),o=Wn(),i=xe(),r=ee(()=>i),a=()=>{t.emit("createPool")};return console.log(e,"props===>141"),{t:n,route:o,decimalFormat:It,addCommom:Wt,store:r,createPool:a,importIcon:mn}}});const Jn=e=>(_t("data-v-e2f10dd2"),e=e(),$t(),e),Ed=Jn(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Fd={class:"create-pool-content"},Bd={class:"top"},Od={class:"coin-pair-box"},Ud={class:"induction info"},Dd={class:"item"},Vd={class:"induction-text"},Hd={class:"induction-value"},Xd={class:"item"},zd=Jn(()=>c("span",{class:"induction-text"},"Initial price",-1)),Wd={class:"induction-value"},Kd={class:"item"},Yd=Jn(()=>c("span",{class:"induction-text"},"Price range",-1)),jd={class:"induction-value"},Gd={class:"min-and-max"},Qd={class:"text"},Jd={key:0,src:Ao,alt:""},Zd={key:1,src:So,alt:""},xd={class:"text"},em={class:"deposit-amount"},tm=Jn(()=>c("div",{class:"deposit-amount-title"},"Deposit amount",-1)),nm={class:"bottom"},om=["src"],im=["src"];function rm(e,t,n,o,i,r){const a=Li,l=Kn,s=Ti("Modal");return g(),se(s,{width:"440px",visible:!0,footer:null,title:e.$t("button.addLiquidity"),class:"add-liquidity-modal",onCancel:t[0]||(t[0]=u=>e.$emit("onClose"))},{closeIcon:me(()=>[Ed]),default:me(()=>{var u,f;return[c("div",Fd,[c("div",Bd,[c("div",Od,[ie(a,{"from-coin":e.fromCoin,"to-coin":e.toCoin},null,8,["from-coin","to-coin"])]),c("div",Ud,[c("div",Dd,[c("span",Vd,w(e.$t("common.feeTier")),1),c("span",Hd,w(((f=(u=e.route)==null?void 0:u.query)==null?void 0:f.fee)*100)+" %",1)]),c("div",Xd,[zd,c("span",Wd,w(e.currentPrice)+" "+w(e.fromCoin.symbol)+" per "+w(e.toCoin.symbol),1)]),c("div",Kd,[Yd,c("span",jd,[c("div",Gd,[c("div",Qd,w(e.addCommom(e.decimalFormat(e.minPrice,6),6)),1),e.store.theme=="default"?(g(),P("img",Jd)):(g(),P("img",Zd)),c("div",xd,w(e.maxPrice&&String(e.maxPrice).indexOf("+")>-1?"\u221E":e.addCommom(e.decimalFormat(e.maxPrice,6),6)),1)])])])])]),c("div",em,[tm,c("div",nm,[c("div",null,[c("img",{src:e.fromCoin.logo_url?e.fromCoin.logo_url:e.store.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png")},null,8,om),c("p",null,w(e.fromCoinAmount?e.fromCoinAmount:0),1),c("span",null,w(e.fromCoin.symbol),1)]),c("div",null,[c("img",{src:e.toCoin.logo_url?e.toCoin.logo_url:e.store.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png")},null,8,im),c("p",null,w(e.toCoinAmount?e.toCoinAmount:0),1),c("span",null,w(e.toCoin.symbol),1)])])])]),ie(l,{class:"big-btn liquidity-btn",onClick:e.createPool},{default:me(()=>[Pe(" Create and Add Liquidity ")]),_:1},8,["onClick"])]}),_:1},8,["title"])}const am=je(qd,[["render",rm],["__scopeId","data-v-e2f10dd2"]]),sm=Ye({setup(){let e=$(!1);const{t,locale:n}=Ni(),o=Br(),i=ee(()=>o),r=xe(),a=$(0),l=$(!1),s=$(!1),u=$("fromCoin"),f=$(""),m=$(""),p=$(!1),y=$(!0),S=$(!1),R=$(!0),b=$(!1),v=$(""),C=$(""),k=$(""),d=$(""),_=$(""),N=$(""),x=$(!1),O=$(!1),Q=$(!1),D=$(""),T=$(0),H=$(!0),q=$(!1),z=$([]),ne=$(""),X=$(30),G=$("30D"),Z=$("Estimated APR"),W=$([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),V=$(!0),j=xe(),J=ee(()=>j),Ae=ee(()=>{var h;return!!(((h=oe==null?void 0:oe.query)==null?void 0:h.action)&&(!I.value||!B.value||!D.value))}),K=ee(()=>J.value.chainName?$o(J.value.chainName):{}),Se=h=>{console.log(h,"====>>>>item",h.num,X.value),ct.updateCurrentPools(te.value.poolAddress,J.value.chainName),G.value=h.time,X.value=h.num},lt=()=>{console.log("reviseValue==>"),V.value=!V.value},be=$([]),De=()=>{a.value=0,ct.updateCurrentPools(te.value.poolAddress,J.value.chainName),Ct()},ut=ee(()=>Number(k.value)>0&&Number(d.value)>0&&Number(k.value)>Number(d.value)),Be=h=>{S.value=h,k.value="0",d.value="\u221E"},pt=ee(()=>{if(ke.value.poolConfigList&&I.value&&B.value){const h=ke.value.poolConfigList.filter(Y=>{var re,ae,ue,le;return Y.token_a.address.toUpperCase()===((re=I.value.address)==null?void 0:re.toUpperCase())&&Y.token_b.address.toUpperCase()===((ae=B.value.address)==null?void 0:ae.toUpperCase())||Y.token_b.address.toUpperCase()===((ue=I.value.address)==null?void 0:ue.toUpperCase())&&Y.token_a.address.toUpperCase()===((le=B.value.address)==null?void 0:le.toUpperCase())});console.log(h,"===>info");const U=[];return h.forEach(Y=>{U.push(Y.fee)}),console.log(U,"===>>result"),U}}),Oe=ee(()=>[{label:.01+"% "+t("common.feeTier"),title:.01+"% ",fee:1e-4,text:"Best for very stable pairs."},{label:.05+"% "+t("common.feeTier"),title:.05+"% ",fee:5e-4,text:"Best for stable pairs."},J.value.chainName=="Aptos"?{label:.2+"% "+t("common.feeTier"),title:.2+"% ",fee:.002,text:"Best for most pairs."}:{label:.25+"% "+t("common.feeTier"),title:.25+"% ",fee:.0025,text:"Best for most pairs."},{label:.6+"% "+t("common.feeTier"),title:.6+"% ",fee:.006,text:"Best for exotic pairs."}]),we=ee(()=>r.slippage),Ge=ee(()=>!I.value||!B.value),et=ee(()=>{var h,U;return!!(!v.value&&!C.value||Number(v.value)>Number(Xe.value)||Number(C.value)>Number(ze.value)||$e.value!==t("button.addLiquidity")&&$e.value!==t("newAdd.preview")||te.value&&te.value&&te.value.is_pause||((h=oe==null?void 0:oe.query)==null?void 0:h.action)&&!We.value&&!((U=We.value)!=null&&U.currentPrice))}),$e=ee(()=>{var h,U;return te.value&&te.value.is_pause?"Pool Closed":Number(v.value)>Number(Xe.value)?t("button.insufficientBalance",{name:I.value.symbol}):Number(C.value)>Number(ze.value)?t("button.insufficientBalance",{name:B.value.symbol}):b.value||Ge.value?t("modal.selectTokenModalTitle"):(console.log(te.value,"==>poolInfo.value"),console.log(!te.value&&((h=oe==null?void 0:oe.query)==null?void 0:h.action),"===>!poolInfo.value && route?.query?.action"),!te.value&&I.value&&B.value&&((U=oe==null?void 0:oe.query)==null?void 0:U.action)?t("newAdd.preview"):d.value!=="\u221E"&&Number(k.value)>=Number(d.value)?t("newAdd.invalidRange"):!Number(v.value)&&!Number(C.value)?t("button.enterAmount"):t("button.addLiquidity"))}),M=ee(()=>{var h,U,Y;return!te.value||Ht(J.value.addressHistTokens)||!J.value.addressHistTokens[(h=te.value)==null?void 0:h.poolAddress]?null:Object.fromEntries((Y=J.value.addressHistTokens[(U=te.value)==null?void 0:U.poolAddress])==null?void 0:Y.data.map(re=>[re.key,re.value]))}),pe=ee(()=>y.value?M.value&&ot(Number(X.value==7?M.value.before_7_d_contract_price_lowest:X.value==24?M.value.before_24_h_contract_price_lowest:M.value.before_30_d_contract_price_lowest),6)||0:M.value&&ot(1/Number(X.value==7?M.value.before_7_d_contract_price_highest:X.value==24?M.value.before_24_h_contract_price_highest:M.value.before_30_d_contract_price_highest),6)||0),Qe=ee(()=>y.value?M.value&&ot(Number(X.value==7?M.value.before_7_d_contract_price_highest:X.value==24?M.value.before_24_h_contract_price_highest:M.value.before_30_d_contract_price_highest),6)||0:(M.value&&ot(1/Number(X.value==7?M.value.before_7_d_contract_price_lowest:X.value==24?M.value.before_24_h_contract_price_lowest:M.value.before_30_d_contract_price_lowest),6))==1/0?0:M.value&&ot(1/Number(X.value==7?M.value.before_7_d_contract_price_lowest:X.value==24?M.value.before_24_h_contract_price_lowest:M.value.before_30_d_contract_price_lowest),6)||0),E=Si(),I=$(),B=$();zn(()=>{document.body.clientWidth<750?(V.value=!1,e.value=!1):(V.value=!0,e.value=!0)});const Ie=h=>{k.value=h},_e=h=>{d.value=h},gn=()=>{if(!oe.query.action&&(H.value=!0,H.value=!1,k.value!==""&&d.value!==""&&k.value!=="0"&&d.value!=="\u221E")){const U=k.value,Y=d.value;(!q.value||!y.value)&&(k.value=String(1/Number(Y)),d.value=String(1/Number(U)));const re=_.value,ae=N.value;_.value=String(1/Number(ae)),N.value=String(1/Number(re)),q.value=!1}const h=I.value;I.value=B.value,B.value=h,y.value=!y.value,Do(We.value.currentPrice),v.value=C.value};ge([k,d],([h,U])=>{console.log(h,U,"==>minPrice,maxPrice"),Number(h)!==0&&Number(U)!==0&&Ct(),U!=="\u221E"&&Number(h)!==0&&Number(U)!==0&&Number(h)>=Number(U)?Q.value=!0:Q.value=!1});const yn=h=>{var U,Y,re,ae;u.value=h,h==="fromCoin"?(f.value=((U=B.value)==null?void 0:U.address)||"",m.value=((Y=I.value)==null?void 0:Y.address)||""):(f.value=((re=I.value)==null?void 0:re.address)||"",m.value=((ae=B.value)==null?void 0:ae.address)||""),p.value=!0},Ve=$(),He=$(),bn=h=>{b.value=!1,u.value==="fromCoin"?(B.value&&h.address.toLowerCase()===(B==null?void 0:B.value.address.toLowerCase())&&(B.value=null,He.value=null,D.value=""),I.value=h,Ve.value=h):(I.value&&h.address.toLowerCase()===(I==null?void 0:I.value.address.toLowerCase())&&(I.value=null,Ve.value=null,D.value=""),B.value=h,He.value=h),p.value=!1},wn=h=>{h==="fromCoin"?(R.value=!0,J.value.chainName==="Aptos"?v.value=Number(Xe.value)>0?I.value.symbol=="APT"?new F(Number(Xe.value)).sub(new F(.1)).lt(new F(0))?"0":new F(Number(Xe.value)).sub(new F(.1)).toString():String(Xe.value):"":v.value=Number(Xe.value)>0?I.value.symbol=="SUI"?new F(Number(Xe.value)).sub(new F(1e-4)).lt(new F(0))?"0":new F(Number(Xe.value)).sub(new F(1e-4)).toString():String(Xe.value):""):(R.value=!1,J.value.chainName==="Aptos"?C.value=Number(ze.value)>0?B.value.symbol=="APT"?new F(Number(ze.value)).sub(new F(.1)).lt(new F(0))?"0":new F(Number(ze.value)).sub(new F(.1)).toString():String(ze.value):"":C.value=Number(ze.value)>0?B.value.symbol=="SUI"?new F(Number(ze.value)).sub(new F(1e-4)).lt(new F(0))?"0":new F(Number(ze.value)).sub(new F(1e-4)).toString():String(ze.value):"")},kn=h=>{h==="fromCoin"?(R.value=!0,v.value=Number(Xe.value)>0?no(new F(Number(Xe.value)).div(2).toString(),I.value.decimals).toString():""):(R.value=!1,C.value=Number(ze.value)>0?no(new F(Number(ze.value)).div(2).toString(),B.value.decimals).toString():"")};ge(v,(h,U)=>{console.log(v,"===>fromCoinAmount"),h==""&&R.value&&(C.value=""),h&&R.value&&Ct()}),ge(C,(h,U)=>{console.log(h,"===>>>>newValsda"),h==""&&!R.value&&(v.value=""),h&&!R.value&&Ct()});const Cn=()=>{I.value=null,B.value=null,k.value="0",d.value="0",v.value="",C.value="",b.value=!0,D.value="",x.value=!1,Te.value=!0,Ne.value=!0,H.value=!1},Lt=$(!1),{setIsShowSuccess:qt,setIsShowRejected:At,setIsShowWaiting:tt,setTransactionDesc:Pn,setTransactionTxid:Et,setPositiomNum:Jt}=r,oe=Wn(),ct=Qt(),ke=ee(()=>ct);ge(()=>[ke.value.tokens,ke.value.chinaTokens],([h,U])=>{if(h&&U){const Y=Object.fromEntries(h.concat(U).map(re=>[re.address,re]));oe&&oe.query&&oe.query.tokena?(I.value=Ut(Y,oe.query.tokena),Ve.value=Ut(Y,oe.query.tokena)):I.value=Ut(Y,"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDT"),oe&&oe.query&&oe.query.tokenb?(B.value=Ut(Y,oe.query.tokenb),He.value=Ut(Y,oe.query.tokenb)):B.value=Ut(Y,"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC")}},{immediate:!0});const ht=$({}),Te=$(!1),Ne=$(!1),Ft=$(),A=$(),Je=$(),kt=$(),Ct=async()=>{var xt,en,tn,nn;if(!k.value&&!d.value)return!1;if(!v.value&&!C.value&&!k.value&&!d.value)return;const h=te.value?te.value:We.value;if(console.log(h,"===>poolInfos"),Ht(h))return;console.log("\u6DFB\u52A0\u6D41\u52A8\u6027\u9884\u8BA1\u7B97=====>");const{TickUtil:U,TickMath:Y,getNearestTickByTick:re}=K.value,ae=h==null?void 0:h.token_a.decimals,ue=h==null?void 0:h.token_b.decimals;let le,Ce,ce,fe,de,ye,Re,St,he=h.current_tick_index;const Zt=h.priceConfigObj;let Me;if(h.token_a.address.toLowerCase()===I.value.address.toLowerCase()&&h.token_b.address.toLowerCase()===B.value.address.toLowerCase()?Me=!0:Me=!1,console.log(Me,"=====>directs"),console.log("currentTickIndex####",he),console.log("currentTickIndex####",he),console.log("currentTickIndex####",he),k.value==="0"&&d.value==="\u221E"?(ce=U.getMinIndex(Number(h.tickSpacing)),fe=U.getMaxIndex(Number(h.tickSpacing)),de=Y.tickIndexToSqrtPriceX64(ce),ye=Y.tickIndexToSqrtPriceX64(fe)):ne.value=="Custom"||oe.query.action?(Me?(le=Number(k.value),Ce=Number(d.value)):(le=1/Number(d.value),Ce=1/Number(k.value)),console.log(k.value,d.value,"===>maxPrice.value"),Re=le==0?-443630:Y.priceToTickIndex(new F(le),ae,ue),St=Y.priceToTickIndex(new F(Ce),ae,ue),ce=re(Re,Number(h.tickSpacing)),fe=re(St,Number(h.tickSpacing)),de=Y.priceToSqrtPriceX64(new F(le),ae,ue),ye=Y.priceToSqrtPriceX64(new F(Ce),ae,ue)):(ce=(xt=Zt[ne.value])==null?void 0:xt.lower,fe=(en=Zt[ne.value])==null?void 0:en.upper,de=Y.tickIndexToSqrtPriceX64(ce),ye=Y.tickIndexToSqrtPriceX64(fe)),d.value!=="\u221E"&&ce>=fe){Te.value=!0,v.value="",Ne.value=!0,C.value="";return}if(d.value==="\u221E"||he>ce&&he<fe){Te.value=!1,Ne.value=!1;let Le;if(v.value||C.value){if(R.value){const Ot=new F(v.value).mul(Math.pow(10,I.value.decimals)).toString();Le=new nt(Ot)}else{const Ot=new F(C.value).mul(Math.pow(10,B.value.decimals)).toString();Le=new nt(Ot)}console.log(Me,"======>directs");const{liquidityAmount:qe,tokenMaxA:Ze,tokenMaxB:ft,tokenMaxAOrigin:Pt,tokenMaxBOrigin:on}=K.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:h.token_a,tokenB:h.token_b,lowerTick:ce,upperTick:fe,coinAmount:Le,iscoinA:Me?R.value:!R.value,roundUp:!0,slippage:Number(we.value)/100,curSqrtPrice:new nt(h.current_sqrt_price)});ht.value={liquidityAmount:qe,tokenMaxA:Ze,tokenMaxB:ft,tokenMaxAOrigin:Pt,tokenMaxBOrigin:on},console.log(qe,Ze,ft,Pt,on,"preAdd"),Me?R.value?C.value=Number(ft)>0?ft:"":v.value=Number(Ze)>0?Ze:"":R.value?C.value=Ze:v.value=ft}}else if(he>=fe){if(Me?v.value="":C.value="",Te.value=Me,Ne.value=!Me,v.value||C.value){let Le;if(Me){const qe=new F(C.value).mul(Math.pow(10,(tn=B.value)==null?void 0:tn.decimals)).toString();Le=new nt(qe),ht.value={liquidityAmount:K.value.estimateLiquidityForCoinB(de,ye,Le),tokenMaxA:0,tokenMaxB:C.value}}else{const qe=new F(v.value).mul(Math.pow(10,(nn=I.value)==null?void 0:nn.decimals)).toString();Le=new nt(qe),ht.value={liquidityAmount:K.value.estimateLiquidityForCoinB(de,ye,Le),tokenMaxA:0,tokenMaxB:v.value}}}}else if(he<=ce){if(Te.value=!Me,Ne.value=Me,Me?C.value="":v.value="",v.value||C.value){let Le;if(Me){const qe=new F(v.value).mul(Math.pow(10,I.value.decimals)).toString();Le=new nt(qe),console.log(de,"minPriceX64===>"),console.log(ye,"maxPriceX64===>maxPriceX64"),console.log(qe,"===>amount"),ht.value={liquidityAmount:K.value.estimateLiquidityForCoinA(de,ye,Le),tokenMaxA:v.value,tokenMaxB:0}}else{const qe=new F(C.value).mul(Math.pow(10,B.value.decimals)).toString();Le=new nt(qe),ht.value={liquidityAmount:K.value.estimateLiquidityForCoinA(de,ye,Le),tokenMaxA:C.value,tokenMaxB:0}}}}else Te.value=!0,v.value="",Ne.value=!0,C.value=""},Bt=$(0);ge(()=>oe.query,h=>{h&&h.fee&&(Bt.value=h.fee,D.value=Number(h.fee)*100+"% "+t("common.feeTier"))},{immediate:!0,deep:!0});const te=ee(()=>{var U,Y,re,ae,ue,le,Ce,ce,fe,de,ye;const h=(U=oe==null?void 0:oe.query)==null?void 0:U.fee;if(console.log("0309###deposit###pools.value.newTokenObj####",ke.value.newTokenObj),console.log("0309###deposit###fee####",h),console.log("0309###deposit###poolInfoFee####",Bt),console.log("0309###deposit###pools.value.poolsObj####",ke.value.poolsObj),ke.value.newTokenObj&&I.value&&B.value){let Re=null;for(const St in ke.value.poolsObj){const he=ke.value.poolsObj[St];console.log(),h?(he.token_a.address.toUpperCase()===((Y=I.value.address)==null?void 0:Y.toUpperCase())&&he.token_b.address.toUpperCase()===((re=B.value.address)==null?void 0:re.toUpperCase())&&(console.log(he,"p===>"),console.log(Bt.value,"===>poolInfoFee.value")),(he.token_a.address.toUpperCase()===((ae=I.value.address)==null?void 0:ae.toUpperCase())&&he.token_b.address.toUpperCase()===((ue=B.value.address)==null?void 0:ue.toUpperCase())&&he.fee==Bt.value||he.token_b.address.toUpperCase()===((le=I.value.address)==null?void 0:le.toUpperCase())&&he.token_a.address.toUpperCase()===((Ce=B.value.address)==null?void 0:Ce.toUpperCase())&&he.fee==Bt.value)&&(Re=he)):(he.token_a.address.toUpperCase()===((ce=I.value.address)==null?void 0:ce.toUpperCase())&&he.token_b.address.toUpperCase()===((fe=B.value.address)==null?void 0:fe.toUpperCase())||he.token_b.address.toUpperCase()===((de=I.value.address)==null?void 0:de.toUpperCase())&&he.token_a.address.toUpperCase()===((ye=B.value.address)==null?void 0:ye.toUpperCase()))&&(Re=he)}return console.log(Re,"info===>"),Re&&!Ht(Re)?Re:null}return null}),vr=$({}),gr=async(h,U)=>{if(console.log(h,"vaule====>"),h){const{TickMath:Y,getNearestTickByTick:re}=K.value;U&&(H.value=!0),h.token_a.address.toLowerCase()===I.value.address.toLowerCase()&&h.token_b.address.toLowerCase()===B.value.address.toLowerCase()?y.value=!0:y.value=!1,console.log(y.value,"direct.value===>direct.value"),q.value=!0;const ae=h.token_a.decimals,ue=h.token_b.decimals;Te.value=!1,Ne.value=!1,D.value=h.fee*100+"% "+t("common.feeTier");const le=h.current_tick_index;Je.value=Y.sqrtPriceX64ToPrice(h.current_sqrt_price,ae,ue).toString(),kt.value=String(1/Je.value);const Ce=await K.value.getTicks(h);if(console.log("0315###poolInfoWatch###getTicks###result####",Ce),z.value=Ce?K.value.getTickDataFromUrlData(Ce):[],U){let ce=h.priceConfigObj;const fe=le-Number(te.value.type=="unstable"?Number(te.value.tickSpacing)*2:Number(te.value.tickSpacing)*3),de=le+Number(te.value.type=="unstable"?Number(te.value.tickSpacing)*2:Number(te.value.tickSpacing)*3);ce["Full Range"]={lower:-443630,upper:443630},ce.Custom={lower:fe,upper:de};const ye=[];for(let Re in ce)ye.push({...ce[Re],key:Re});console.log(ce,"===>priceConfigList"),be.value=ye,console.log(h,"value===>"),h.type?h.isSelfBuilt?ne.value="Custom":h.type=="stable"?ne.value="suggested":ne.value="passive":ne.value="Custom",vr.value=ce,Uo({key:ne.value,...ce[ne.value]})}H.value=!1}else H.value=!1},yr=ee(()=>(console.log(ct.getPoolInfoSuccess,"===>poolStore.getPoolInfoSuccess"),ct.getPoolInfoSuccess));ge(()=>te.value,(h,U)=>{h?(!U||h.poolAddress!==U.poolAddress||h.current_sqrt_price!==U.current_sqrt_price)&&gr(h,!U||h.poolAddress!==U.poolAddress):(Te.value=!1,Ne.value=!1,H.value=!1,Je.value="",kt.value="")},{immediate:!0});const Xe=ee(()=>i.value.assets&&I.value&&i.value.assets[I.value.address]?Ho(i.value.assets[I.value.address].balance,I.value.decimals):"0"),ze=ee(()=>i.value.assets&&B.value&&i.value.assets[B.value.address]?Ho(i.value.assets[B.value.address].balance,B.value.decimals):"0"),br=async()=>{console.log("0315###resetTickList####");const h=await K.value.getTicks(te.value);console.log("0315###resetTickList###result####",h),z.value=h?K.value.getTickDataFromUrlData(h):[]},wr=async()=>{var de,ye,Re,St,he,Zt,Me,xt,en,tn,nn,Le;Lt.value=!1,ke.value.currentPositionInfo={},Et(""),Pn(t("tips.increaseLiquiditySuccess",{from:Te.value?"":`${v.value} ${(de=I.value)==null?void 0:de.symbol}`,and:!Te.value&&!Ne.value?"and":"",to:Ne.value?"":`${C.value} ${(ye=B.value)==null?void 0:ye.symbol}`})),tt(!0);const h=y.value?R.value:!R.value,U=te.value.priceConfigObj;let Y,re,ae,ue,le,Ce;const ce=te.value.token_a.decimals,fe=te.value.token_b.decimals;k.value==="0"&&d.value==="\u221E"?(ae=K.value.TickUtil.getMinIndex(Number(te.value.tickSpacing)),ue=K.value.TickUtil.getMaxIndex(Number(te.value.tickSpacing))):ne.value=="Custom"?(y.value?(Y=Number(k.value),re=Number(d.value)):(Y=1/Number(d.value),re=1/Number(k.value)),le=Y==0?-443630:K.value.TickMath.priceToTickIndex(new F(Y),ce,fe),Ce=K.value.TickMath.priceToTickIndex(new F(re),ce,fe),ae=K.value.getNearestTickByTick(le,Number(te.value.tickSpacing)),ue=K.value.getNearestTickByTick(Ce,Number(te.value.tickSpacing))):(ae=U[ne.value].lower,ue=U[ne.value].upper);try{const qe=await K.value.getAddLiquidityTransactionPayload({pool:{poolAddress:te.value.poolAddress,token_a:te.value.token_a,token_b:te.value.token_b},amount:R.value?v.value:C.value,fix_amount_a:h,tick_lower:ae,tick_upper:ue,index:0,slippage:Number(we.value)/100,roundUp:!0});let Ze;if(J.value.chainName==="Aptos")Ze=await i.value.currentWallet.signAndSubmitTransaction(qe);else{const ft=await i.value.currentWallet.signAndExecuteTransaction(qe);Ze=K.value.handleTx(ft)}if(Ze&&Ze.hash){Et(Ze.hash),tt(!1),qt(!0);const ft={title:t("button.addLiquidity"),desc:t("tips.addLiquiditySuccessText",{from:Te.value?"":`${v.value} ${(Re=I.value)==null?void 0:Re.symbol}`,and:!Te.value&&!Ne.value?"and":"",to:Ne.value?"":`${C.value} ${(St=B.value)==null?void 0:St.symbol}`}),hash:Ze.hash,tit:`Opened Position: ${te.value.symbol}`,text:`Deopsit ${Te.value?"":`${v.value} ${(he=I.value)==null?void 0:he.symbol}`} ${!Te.value&&!Ne.value?"and":""} ${Ne.value?"":`${C.value} ${(Zt=B.value)==null?void 0:Zt.symbol}`}`};K.value.showTransitionPending(ft);const Pt=await K.value.watchTransaction(ft,!0);if(Pt.status){if(qt(!1),ke.value.setCurrentPositionLoading(!0),J.value.chainName==="Aptos")ke.value.setCurrentPositionInfo(Pt.nftInfo[0].data.id.creator,Pt.nftInfo[0].data.id.collection,Pt.nftInfo[0].data.name,J.value.chainName);else{const on=Pt.nftInfo.filter(Ot=>Ot.moveEvent&&Ot.moveEvent.type.includes("OpenPositionEvent"));ke.value.setCurrentPositionInfo((en=(xt=(Me=on[0])==null?void 0:Me.moveEvent)==null?void 0:xt.fields)==null?void 0:en.pool,"","",J.value.chainName,(Le=(nn=(tn=on[0])==null?void 0:tn.moveEvent)==null?void 0:nn.fields)==null?void 0:Le.position)}l.value=!0,setTimeout(()=>{ct.updateCurrentPools(te.value.poolAddress,J.value.chainName),K.value.getAccount(i.value.address)},1e3),setTimeout(async()=>{br()},3e3)}Jt()}else tt(!1),At(!0);v.value="",C.value=""}catch(qe){v.value="",C.value="",console.log("Add liquidity Error###",qe),tt(!1),At(!0)}},kr=h=>{switch(h){case"active":return t("newAdd.activeTips");case"passive":return t("newAdd.passiveTips");case"Full Range":return t("newAdd.fullRangTips");case"suggested":return t("newAdd.suggestedTips");case"Custom":return t("newAdd.customTips")}},Cr=h=>{switch(h){case"suggested":return t("newAdd.suggested");case"active":return t("newAdd.active");case"passive":return t("newAdd.conservative");case"Full Range":return t("newAdd.fullRange");case"Custom":return t("newAdd.custom")}},Uo=h=>{console.log("priceTab====>"),ne.value=h.key;const U=te.value.token_a.decimals,Y=te.value.token_b.decimals,{lower:re,upper:ae}=h,ue=K.value.TickMath.tickIndexToPrice(re,U,Y).toString(),le=K.value.TickMath.tickIndexToPrice(ae,U,Y).toString();if(h.key=="Full Range"){Ft.value=re,A.value=ae,Be(!0),Ct();return}y.value?(_.value=String(ue),k.value=String(ue),N.value=String(le),d.value=String(le),Ft.value=re,A.value=ae,Ct()):(_.value=String(1/Number(le)),k.value=String(1/Number(le)),N.value=String(1/Number(ue)),d.value=String(1/Number(ue)),Ft.value=K.value.TickMath.priceToTickIndex(new F(1/Number(le)),U,Y),A.value=K.value.TickMath.priceToTickIndex(new F(1/Number(ue)),U,Y),Ct())},Pr=ee(()=>ke.value.newTokenObj&&I.value.address&&ke.value.newTokenObj[I.value.address]&&ke.value.newTokenObj[I.value.address].logoURI),Ir=ee(()=>ke.value.newTokenObj&&B.value.address&&ke.value.newTokenObj[B.value.address]&&ke.value.newTokenObj[B.value.address].logoURI),_r=h=>{console.log(h,"==>item"),pt.value.includes(h.fee)?(D.value=h.label,Bt.value=h.fee,E.push(`/deposit?tokena=${I.value.address}&tokenb=${B.value.address}&fee=${h.fee}`),k.value="0",d.value="0"):(console.log("\u53BB\u521B\u5EFA"),E.push(`/deposit?action=create-pool&tokena=${I.value.address}&tokenb=${B.value.address}&fee=${h.fee}`),te.value&&(k.value="",d.value=""))},Zn=$(!1),$r=()=>{te.value?Lt.value=!0:Zn.value=!0},We=$(null),xn=$(""),eo=$(""),Do=h=>{h?(xn.value=h,Je.value=h,kt.value=It(String(1/h),6),eo.value=kt.value):(xn.value="",Je.value="",kt.value="",eo.value="");const U=J.value.chainName=="Aptos"?Or:Ur;if(I.value&&B.value&&h){const Y=h&&K.value.TickMath.priceToSqrtPriceX64(new F(h),Ve.value.decimals,He.value.decimals),re=h&&K.value.TickMath.priceToSqrtPriceX64(new F(1/h),I.value.decimals,B.value.decimals),ae=Ve.value.decimals,ue=He.value.decimals,le=K.value.TickMath.priceToTickIndex(new F(h),ae,ue,U[oe.query.fee]),Ce=le-U[oe.query.fee]*5,ce=le+U[oe.query.fee]*5,fe=K.value.TickMath.tickIndexToPrice(Ce,ae,ue).toString(),de=K.value.TickMath.tickIndexToPrice(ce,ae,ue).toString();y.value?(k.value=fe,d.value=de,_.value=fe,N.value=de):(k.value=String(1/de),d.value=String(1/fe),_.value=String(1/de),N.value=String(1/fe));const ye={token_a:Ve.value,token_b:He.value,isCreate:!0,tickSpacing:U[oe.query.fee],currentPrice:h,current_sqrt_price:Y,tick_lower:Ce,tick_upper:ce,current_tick_index:le,currentPriceReverse:It(String(1/h),6),reverse_current_sqrt_price:re};console.log(k.value,d.value,Ce,ce,h,"\u53C2\u6570"),We.value=ye,Ct()}else We.value=null,k.value="",d.value=""},Ar=async()=>{Zn.value=!1;let h,U,Y,re,ae,ue;const le=Ve.value.decimals,Ce=He.value.decimals;tt(!0),k.value==="0"&&d.value==="\u221E"?(Y=K.value.TickUtil.getMinIndex(Number(We.value.tickSpacing)),re=K.value.TickUtil.getMaxIndex(Number(We.value.tickSpacing))):(y.value?(h=Number(k.value),U=Number(d.value)):(h=1/Number(d.value),U=1/Number(k.value)),ae=h==0?-443630:K.value.TickMath.priceToTickIndex(new F(h),le,Ce),ue=K.value.TickMath.priceToTickIndex(new F(U),le,Ce),Y=K.value.getNearestTickByTick(ae,Number(We.value.tickSpacing)),re=K.value.getNearestTickByTick(ue,Number(We.value.tickSpacing)));const ce=y.value?R.value:!R.value;try{const fe=await K.value.getCreatPoolTransactionPayload({coinTypeA:Ve.value.address,coinTypeB:He.value.address,tick_spacing:Number(We.value.tickSpacing),initialize_sqrt_price:new nt(We.value.current_sqrt_price),uri:"",max_amount_a:y.value?v.value:C.value,max_amount_b:y.value?C.value:v.value,tick_lower:Y,tick_upper:re,slippage:Number(we.value)/100,decimalsA:le,decimalsB:Ce,fix_amount_a:ce,liquidityInput:ht.value});let de;if(console.log(fe,"===>creatPoolPayload"),J.value.chainName==="Aptos")de=await i.value.currentWallet.signAndSubmitTransaction(fe);else{const ye=await i.value.currentWallet.signAndExecuteTransaction(fe);de=K.value.handleTx(ye)}if(de&&de.hash){Et(de.hash),tt(!1),qt(!0);const ye={title:"Created pool",desc:"Pool created successfully ",hash:de.hash,tit:"Pool created successfully",text:"Pool created successfully"};K.value.showTransitionPending(ye),(await K.value.watchTransaction(ye,!0)).status&&setTimeout(()=>{ct.setPoolConfigList(J.value.chainName),K.value.getAccount(i.value.address)},1e3),Jt()}else tt(!1),At(!0);v.value="",C.value=""}catch(fe){console.log(fe,"error===>"),v.value="",C.value="",tt(!1),At(!0)}};return console.log(He.value,Ve.value,"======>>>>>>>>"),{intPriceReverse:eo,isShowMask:Ae,isPc:e,intPrice:xn,createPoolToCoin:He,createPoolFromCoin:Ve,getPoolInfoSuccess:yr,toCreatePool:Ar,createPoolInfo:We,changecurrentPrice:Do,isShowCreatePoolModal:Zn,addOrCreate:$r,halfBtnSelect:kn,selectFee:_r,isViewDetail:l,addCommom:Wt,decimalUi:ot,fromCoinUrl:Pr,toCoinUrl:Ir,t,wallet:i,toAdd:wr,chartLoading:H,currentTick:T,tickList:z,poolInfo:te,storeIndex:J,importIcon:mn,addLiquidityBtnText:$e,slippage:we,countdown:a,loading:s,fromCoin:I,toCoin:B,openCoinSelect:yn,onCoinSelect:bn,existingCoins:f,lastSelectCoin:m,currentCoinKey:u,showCoinSelect:p,fromCoinAmount:v,toCoinAmount:C,maxBtnSelect:wn,fixedFromCoin:R,isShowLiquidityModal:Lt,direct:y,toggle:gn,edit:x,inputValue:D,feeTierList:Oe,minPrice:k,maxPrice:d,invalidPriceRange:ut,defaultMinPrice:_,defaultMaxPrice:N,priceRangeChangeMin:Ie,priceRangeChangeMax:_e,toFullRange:Be,clearAll:Cn,clickClear:b,positionError:Q,positionTips:O,router:E,clickRefresh:De,fromCoinBlance:Xe,toCoinBlance:ze,showToCoinLock:Ne,showFromCoinLock:Te,currentPriceReverse:kt,currentPrice:Je,getPirceText:kr,currentPriceTab:ne,currentPriceTabList:be,getPirceKey:Cr,priceTab:Uo,aprRewardsParameter:X,aprRewardsDateList:W,aprTab:Se,reviseValue:lt,label:V,aprTitle:Z,isCreatePool:pt,before7dContractPriceLowest:pe,before7dContractPriceHighest:Qe,aprRewardsTime:G,addLiquidityBtnDisabled:et,checkNullObj:Ht,sFixD:no}}}),ki="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAJFBMVEVHcEwlW04mW04oXlEmW04SHx4jR0B2/9wQFBMVJyVk17szaV2jJaSaAAAABHRSTlMA8K8m/cUwkQAAAL5JREFUSMdjYMAKmBWFDBgIAUMXF2GCilQy2pyQ+Swu2EBHhyNIkgnIdMCjyCUUCMJgilxDMUFKRpsblBmCU9EUFxdPgooiU9ymElSEBEYVDR1FkaumElYUVp46qmjAFTGruE0lqMgQkaGnpYFAdvk2MJ2JpEgFUTQsL0cGVUiKRKCFDLGKiLKOKIdTGASjSYWWiogqMEYL1lFFWJoRTgYEFU0Bt6QIKEoBt6SwN43QWlJEKSKx4UZ+ExDUmAQAo9rc9CAs4WAAAAAASUVORK5CYII=",Ci="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTANNcARNcAdKcgEdMQRNcBM8V3bI/2Gq2ihWdudYHvAAAAAEdFJOUwDwryb9xTCRAAAAuklEQVRIx2NgwAqYFYUMGAgBw9BQYYKKVFPcgpD5rKHYgItLIEiSCcgMwKMIiFxcXGGKQlwwQWqKWxiU6YpTEdCEEIKKXFLDXAgrQjJ0VNHQUdRBhCK38pRRRQOuiFk1jLAiQ0SGdksDgczyaWA6BUmRKqJoaC9HBhVIikShhQyxioiyjiiHUxgEo0mFloqIKjBGC9ZRRViaEUEGBBW5gltSBBSFgltS2JtGaC0pohSR2HAjvwkIakwCANqYbmgtLE7YAAAAAElFTkSuQmCC",pr=""+new URL("img-no-data_2x.e925467a.png",import.meta.url).href,hr=""+new URL("img-no-data_2x.8bc9afa2.png",import.meta.url).href;const wt=e=>(_t("data-v-d04e56b9"),e=e(),$t(),e),lm={class:"pools-container"},um={key:0,class:"content pc-content"},cm={class:"content-left"},fm={class:"content-left-bg"},dm={class:"content-left-title"},mm={key:0,class:"pool-warning"},pm={class:"coin-select"},hm={class:"pool-fee-header"},vm=wt(()=>c("use",{"xlink:href":"#icon-edit"},null,-1)),gm=[vm],ym={key:0,class:"fee-container"},bm=["onClick"],wm={key:0},km={key:1},Cm={class:"deposit-title"},Pm={class:"card-container"},Im={class:"card-item"},_m={class:"card-item"},$m={key:0,class:"icon","aria-hidden":"true"},Am=wt(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),Sm=[Am],Tm={class:"pc-network"},Nm={class:"content-right"},Mm={key:0,class:"initPrice-mask"},Rm={class:"content-right-title"},Lm=wt(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),qm={class:"content-right-bg"},Em={key:1,class:"price-tab"},Fm=["onClick"],Bm={key:2,class:"set-price-range"},Om={key:0},Um={key:1,class:"coin"},Dm={key:2,class:"coin"},Vm={key:3,class:"no-price"},Hm={key:4,class:"toggle"},Xm=["src"],zm=["src"],Wm={key:5,class:"position-tips"},Km=["src"],Ym={class:"tips"},jm={key:6,class:"position-tips"},Gm=["src"],Qm={class:"error"},Jm={key:7,class:"d3-chart-box"},Zm={key:8,class:"day-7-price-range"},xm=wt(()=>c("i",null,null,-1)),ep={class:"gray"},tp={key:10,class:"create-pool-tips"},np={key:1,class:"no-data"},op={key:0,src:pr,alt:""},ip={key:1,src:hr,alt:""},rp={key:1,class:"content h5-content"},ap={class:"content-left"},sp={class:"content-left-bg"},lp={class:"content-left-title"},up={key:0,class:"pool-warning"},cp={class:"coin-select"},fp={class:"pool-fee-header"},dp=wt(()=>c("use",{"xlink:href":"#icon-edit"},null,-1)),mp=[dp],pp={key:0,class:"fee-container"},hp=["onClick"],vp={key:0},gp={key:1},yp={class:"content-right"},bp={key:0,class:"initPrice-mask"},wp={class:"content-right-title"},kp=wt(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),Cp={class:"content-right-bg"},Pp={key:1,class:"price-tab"},Ip=["onClick"],_p={key:2,class:"set-price-range"},$p={key:0},Ap={key:1,class:"coin"},Sp={key:2,class:"coin"},Tp={key:3,class:"no-price"},Np={key:4,class:"toggle"},Mp=["src"],Rp=["src"],Lp={key:5,class:"position-tips"},qp=["src"],Ep={class:"tips"},Fp={key:6,class:"position-tips"},Bp=["src"],Op={class:"error"},Up={key:7,class:"d3-chart-box"},Dp={key:8,class:"day-7-price-range"},Vp=wt(()=>c("i",null,null,-1)),Hp={class:"gray"},Xp={key:10,class:"create-pool-tips"},zp={key:1,class:"no-data"},Wp={key:0,src:pr,alt:""},Kp={key:1,src:hr,alt:""},Yp={key:0,class:"icon","aria-hidden":"true"},jp=wt(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),Gp=[jp],Qp={class:"pc-network"},Jp={class:"new-right"},Zp={class:"deposit-title"},xp={class:"card-container"},eh={class:"card-item"},th={class:"card-item"},nh={key:0,class:"icon","aria-hidden":"true"},oh=wt(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),ih=[oh],rh={class:"h5-network"};function ah(e,t,n,o,i,r){var D,T,H,q,z,ne,X,G,Z,W,V,j,J,Ae,K,Se,lt,be,De,ut,Be,pt,Oe,we,Ge,et,$e,M,pe,Qe,E,I,B,Ie,_e,gn,yn,Ve,He,bn,wn,kn,Cn,Lt,qt,At,tt,Pn,Et,Jt,oe,ct,ke,ht,Te,Ne,Ft;const a=Sr,l=ea,s=Pi,u=ca,f=Dr,m=ga,p=Pa,y=qa,S=Kn,R=Mr,b=Ua,v=rs,C=Nf,k=$i,d=Xr,_=td,N=Vr,x=Hr,O=Ld,Q=am;return g(),P("div",lm,[ie(a),ie(l,{"pool-info":e.poolInfo,onClearAll:e.clearAll,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClearAll","onClickRefresh"]),e.isPc?(g(),P("div",um,[c("div",cm,[c("div",fm,[c("div",dm,[Pe(w(e.$t("common.selectPool"))+" ",1),ie(s,{placement:"bottom","arrow-point-at-center":""},{title:me(()=>[c("span",null,w(e.t("newAdd.poolWarning")),1)]),default:me(()=>[e.poolInfo&&e.poolInfo.isSelfBuilt?(g(),P("div",mm)):L("",!0)]),_:1})]),c("div",pm,[ie(u,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[0]||(t[0]=A=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ie(u,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:t[1]||(t[1]=A=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),c("div",{class:ve(["pool-fee",e.edit?"pool-fee-edit":""])},[c("div",hm,[c("span",{class:ve(e.inputValue?"":"fee-span")},w(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),(g(),P("svg",{class:"icon","aria-hidden":"true",onClick:t[2]||(t[2]=A=>e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit)},gm))]),e.edit?(g(),P("div",ym,[(g(!0),P(yt,null,an(e.feeTierList,(A,Je)=>(g(),P("div",{key:Je,class:ve(["fee-item",[e.inputValue&&e.inputValue.indexOf(A.label)>-1?"fee-item-active":"",e.isCreatePool&&e.isCreatePool.includes(A.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:kt=>e.selectFee(A)},[e.$route.query.action?(g(),P("div",wm,[c("p",null,w(A.title),1),c("p",{class:ve(e.isCreatePool.includes(A.fee)?"text-default":"text-theme")},w(e.isCreatePool.includes(A.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(g(),P("div",km,[c("p",{class:ve(e.isCreatePool.includes(A.fee)?"text-active":"text-default")},w(A.title),3),c("p",null,w(e.isCreatePool.includes(A.fee)?"":e.$t("newAdd.notCreated")),1)])),c("span",null,w(A.text),1)],10,bm))),128))])):L("",!0)],2),c("div",Cm,w(e.$t("newAdd.depositAmounts")),1),c("div",Pm,[c("div",Im,[ie(f,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=A=>e.fromCoinAmount=A),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[4]||(t[4]=A=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=A=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=A=>{e.fromCoinAmount=A,e.fixedFromCoin=!0}),onOnSelect:t[7]||(t[7]=A=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(g(),se(m,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),c("div",_m,[ie(f,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=A=>e.toCoinAmount=A),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[9]||(t[9]=A=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=A=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=A=>{e.toCoinAmount=A,e.fixedFromCoin=!1}),onOnSelect:t[12]||(t[12]=A=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(g(),se(m,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),((T=(D=e.$route)==null?void 0:D.query)==null?void 0:T.action)&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(g(),se(p,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showfromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(g(),P("img",{key:1,class:"add",src:ki,alt:"",onClick:t[13]||(t[13]=(...A)=>e.toggle&&e.toggle(...A))})):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(g(),P("img",{key:2,class:"add",src:Ci,alt:"",onClick:t[14]||(t[14]=(...A)=>e.toggle&&e.toggle(...A))})):L("",!0)]),e.poolInfo?(g(),se(y,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):L("",!0)]),ie(S,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[15]||(t[15]=A=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:me(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(g(),P("svg",$m,Sm)):L("",!0),c("span",null,w(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",Tm,[ie(R)])]),c("div",Nm,[e.isShowMask?(g(),P("div",Mm)):L("",!0),c("div",Rm,[Pe(w(e.poolInfo?e.$t("newAdd.selectRange"):e.$t("newAdd.setInitialPrice"))+" ",1),e.poolInfo?(g(),se(s,{key:0,placement:"bottom","arrow-point-at-center":""},{title:me(()=>[c("span",null,w(e.$t("newAdd.selectRangeTips")),1)]),default:me(()=>[Lm]),_:1})):L("",!0)]),c("div",qm,[!((q=(H=e.$route)==null?void 0:H.query)!=null&&q.action)&&e.poolInfo||((ne=(z=e.$route)==null?void 0:z.query)==null?void 0:ne.action)?(g(),P(yt,{key:0},[((G=(X=e.$route)==null?void 0:X.query)==null?void 0:G.action)&&!e.poolInfo?(g(),se(b,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.direct?e.intPrice:e.intPriceReverse,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):L("",!0),e.poolInfo?(g(),P("div",Em,[(g(!0),P(yt,null,an(e.currentPriceTabList,A=>(g(),P("div",{key:A,class:ve(["price-item",{"price-item-active":A.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Je=>e.priceTab(A)},[ie(s,{placement:"bottom","arrow-point-at-center":""},{title:me(()=>[c("span",null,w(e.getPirceText(A.key)),1)]),default:me(()=>[Pe(" "+w(e.getPirceKey(A.key)),1)]),_:2},1024)],10,Fm))),128))])):L("",!0),!e.poolInfo&&((W=(Z=e.$route)==null?void 0:Z.query)==null?void 0:W.action)?(g(),P("div",Bm,w(e.$t("common.setPriceRange")),1)):L("",!0),e.poolInfo||((j=(V=e.$route)==null?void 0:V.query)==null?void 0:j.action)?(g(),P("div",{key:3,class:ve(["current-price",((Ae=(J=e.$route)==null?void 0:J.query)==null?void 0:Ae.action)&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(g(),P("span",Om,w(e.$t("common.currentPrice")),1)):L("",!0),e.fromCoin&&e.toCoin&&e.direct?(g(),P("div",Um,[c("span",null,w(e.$t("common.currentPrice"))+"111",1),Pe(" "+w(e.decimalUi(e.currentPrice,6))+" "+w((K=e.toCoin)==null?void 0:K.symbol)+" per "+w((Se=e.fromCoin)==null?void 0:Se.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(g(),P("div",Dm,[c("span",null,w(e.$t("common.currentPrice")),1),Pe(" "+w(e.decimalUi(e.currentPriceReverse,6))+" "+w((lt=e.toCoin)==null?void 0:lt.symbol)+" per "+w((be=e.fromCoin)==null?void 0:be.symbol),1)])):(g(),P("div",Vm,"0.0")),e.fromCoin&&e.toCoin?(g(),P("div",Hm,[c("div",{class:ve(e.direct?"item active-item":"item"),onClick:t[16]||(t[16]=A=>e.direct?"":e.toggle())},[c("img",{src:e.direct?e.fromCoin.logoURI:e.toCoin.logoURI,alt:""},null,8,Xm),Pe(" "+w(e.direct?(De=e.fromCoin)==null?void 0:De.symbol:(ut=e.toCoin)==null?void 0:ut.symbol),1)],2),c("div",{class:ve(e.direct?"item ":"item active-item"),onClick:t[17]||(t[17]=A=>e.direct?e.toggle():"")},[c("img",{src:e.direct?e.toCoin.logoURI:e.fromCoin.logoURI,alt:""},null,8,zm),Pe(" "+w(e.direct?(Be=e.toCoin)==null?void 0:Be.symbol:(pt=e.fromCoin)==null?void 0:pt.symbol),1)],2)])):L("",!0)],2)):L("",!0),e.poolInfo||((we=(Oe=e.$route)==null?void 0:Oe.query)==null?void 0:we.action)?(g(),se(v,{key:4,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,"int-price":e.intPrice,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","int-price","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):L("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(g(),P("div",Wm,[c("img",{src:e.importIcon("/image/icon-tips@2x.png"),alt:""},null,8,Km),c("p",Ym,w(e.$t("tips.positionTips")),1)])):L("",!0),e.positionError&&(e.poolInfo||((et=(Ge=e.$route)==null?void 0:Ge.query)==null?void 0:et.action))?(g(),P("div",jm,[c("img",{src:e.importIcon("/image/icon-tips-error@2x.png"),alt:""},null,8,Gm),c("p",Qm,w(e.$t("tips.positionError")),1)])):L("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(g(),P("div",Jm,[e.fromCoin&&e.toCoin&&e.poolInfo?(g(),se(C,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):L("",!0),e.chartLoading?(g(),se(k,{key:1})):L("",!0)])):L("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(g(),P("div",Zm,[xm,c("span",ep,w(e.aprRewardsTime)+" Price Range",1),c("span",null,w(e.before7dContractPriceLowest)+" - "+w(e.before7dContractPriceHighest),1)])):L("",!0),e.poolInfo&&!e.poolInfo.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.poolInfo.isSelfBuilt&&e.maxPrice=="\u221E"?(g(),se(d,{key:9,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):L("",!0),((M=($e=e.$route)==null?void 0:$e.query)==null?void 0:M.action)&&!e.poolInfo?(g(),P("div",tp,w(e.$t("newAdd.createPoolText")),1)):L("",!0)],64)):(g(),P("div",np,[e.storeIndex.theme=="default"?(g(),P("img",op)):(g(),P("img",ip)),c("p",null,w(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.poolInfo.isSelfBuilt?(g(),se(_,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):L("",!0)])])):L("",!0),e.isPc?L("",!0):(g(),P("div",rp,[c("div",ap,[c("div",sp,[c("div",lp,[Pe(w(e.$t("common.selectPool"))+" ",1),ie(s,{placement:"bottom","arrow-point-at-center":""},{title:me(()=>[c("span",null,w(e.t("newAdd.poolWarning")),1)]),default:me(()=>[e.poolInfo&&e.poolInfo.isSelfBuilt?(g(),P("div",up)):L("",!0)]),_:1})]),c("div",cp,[ie(u,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[18]||(t[18]=A=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ie(u,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:t[19]||(t[19]=A=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),c("div",{class:ve(["pool-fee",e.edit?"pool-fee-edit":""])},[c("div",fp,[c("span",{class:ve(e.inputValue?"":"fee-span")},w(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),(g(),P("svg",{class:"icon","aria-hidden":"true",onClick:t[20]||(t[20]=A=>e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit)},mp))]),e.edit?(g(),P("div",pp,[e.getPoolInfoSuccess?(g(!0),P(yt,{key:1},an(e.feeTierList,(A,Je)=>(g(),P("div",{key:Je,class:ve(["fee-item",[e.inputValue&&e.inputValue.includes(A.label)?"fee-item-active":"",e.isCreatePool.includes(A.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:kt=>e.selectFee(A)},[e.$route.query.action?(g(),P("div",vp,[c("p",null,w(A.title),1),c("p",{class:ve(e.isCreatePool.includes(A.fee)?"text-default":"text-theme")},w(e.isCreatePool.includes(A.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(g(),P("div",gp,[c("p",{class:ve(e.isCreatePool.includes(A.fee)?"text-active":"text-default")},w(A.title),3),c("p",null,w(e.isCreatePool.includes(A.fee)?"":e.$t("newAdd.notCreated")),1)])),c("span",null,w(A.text),1)],10,hp))),128)):(g(),se(k,{key:0}))])):L("",!0)],2)]),c("div",yp,[e.isShowMask?(g(),P("div",bp)):L("",!0),c("div",wp,[Pe(w((pe=e.$route)!=null&&pe.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(g(),se(s,{key:0,placement:"bottom","arrow-point-at-center":""},{title:me(()=>[c("span",null,w(e.$t("newAdd.selectRangeTips")),1)]),default:me(()=>[kp]),_:1})):L("",!0)]),c("div",Cp,[!((E=(Qe=e.$route)==null?void 0:Qe.query)!=null&&E.action)&&e.poolInfo||((B=(I=e.$route)==null?void 0:I.query)==null?void 0:B.action)?(g(),P(yt,{key:0},[((_e=(Ie=e.$route)==null?void 0:Ie.query)==null?void 0:_e.action)&&!e.poolInfo?(g(),se(b,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):L("",!0),e.poolInfo?(g(),P("div",Pp,[(g(!0),P(yt,null,an(e.currentPriceTabList,A=>(g(),P("div",{key:A,class:ve(["price-item",{"price-item-active":A.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Je=>e.priceTab(A)},[ie(s,{placement:"bottom","arrow-point-at-center":""},{title:me(()=>[c("span",null,w(e.getPirceText(A.key)),1)]),default:me(()=>[Pe(" "+w(e.getPirceKey(A.key)),1)]),_:2},1024)],10,Ip))),128))])):L("",!0),!e.poolInfo&&((yn=(gn=e.$route)==null?void 0:gn.query)==null?void 0:yn.action)?(g(),P("div",_p,w(e.$t("common.setPriceRange")),1)):L("",!0),e.poolInfo||((He=(Ve=e.$route)==null?void 0:Ve.query)==null?void 0:He.action)?(g(),P("div",{key:3,class:ve(["current-price",((wn=(bn=e.$route)==null?void 0:bn.query)==null?void 0:wn.action)&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(g(),P("span",$p,w(e.$t("common.currentPrice")),1)):L("",!0),e.fromCoin&&e.toCoin&&e.direct?(g(),P("div",Ap,[c("span",null,w(e.$t("common.currentPrice")),1),Pe(" "+w(e.decimalUi(e.currentPrice,6))+" "+w((kn=e.toCoin)==null?void 0:kn.symbol)+" per "+w((Cn=e.fromCoin)==null?void 0:Cn.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(g(),P("div",Sp,[c("span",null,w(e.$t("common.currentPrice")),1),Pe(" "+w(e.decimalUi(e.currentPriceReverse,6))+" "+w((Lt=e.toCoin)==null?void 0:Lt.symbol)+" per "+w((qt=e.fromCoin)==null?void 0:qt.symbol),1)])):(g(),P("div",Tp,"0.0")),e.fromCoin&&e.toCoin?(g(),P("div",Np,[c("div",{class:ve(e.direct?"item active-item":"item"),onClick:t[21]||(t[21]=A=>e.direct?"":e.toggle())},[c("img",{src:e.direct?e.fromCoin.logoURI:e.toCoin.logoURI,alt:""},null,8,Mp),Pe(" "+w(e.direct?(At=e.fromCoin)==null?void 0:At.symbol:(tt=e.toCoin)==null?void 0:tt.symbol),1)],2),c("div",{class:ve(e.direct?"item ":"item active-item"),onClick:t[22]||(t[22]=A=>e.direct?e.toggle():"")},[c("img",{src:e.direct?e.toCoin.logoURI:e.fromCoin.logoURI,alt:""},null,8,Rp),Pe(" "+w(e.direct?(Pn=e.toCoin)==null?void 0:Pn.symbol:(Et=e.fromCoin)==null?void 0:Et.symbol),1)],2)])):L("",!0)],2)):L("",!0),e.poolInfo||((oe=(Jt=e.$route)==null?void 0:Jt.query)==null?void 0:oe.action)?(g(),se(v,{key:4,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):L("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(g(),P("div",Lp,[c("img",{src:e.importIcon("/image/icon-tips@2x.png"),alt:""},null,8,qp),c("p",Ep,w(e.$t("tips.positionTips")),1)])):L("",!0),e.positionError&&(e.poolInfo||((ke=(ct=e.$route)==null?void 0:ct.query)==null?void 0:ke.action))?(g(),P("div",Fp,[c("img",{src:e.importIcon("/image/icon-tips-error@2x.png"),alt:""},null,8,Bp),c("p",Op,w(e.$t("tips.positionError")),1)])):L("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(g(),P("div",Up,[e.fromCoin&&e.toCoin&&e.poolInfo?(g(),se(C,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):L("",!0),e.chartLoading?(g(),se(k,{key:1})):L("",!0)])):L("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(g(),P("div",Dp,[Vp,c("span",Hp,w(e.aprRewardsTime)+" Price Range",1),c("span",null,w(e.before7dContractPriceLowest)+" - "+w(e.before7dContractPriceHighest),1)])):L("",!0),e.poolInfo&&!e.poolInfo.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.poolInfo.isSelfBuilt&&e.maxPrice=="\u221E"?(g(),se(d,{key:9,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):L("",!0),((Te=(ht=e.$route)==null?void 0:ht.query)==null?void 0:Te.action)&&!e.poolInfo?(g(),P("div",Xp,w(e.$t("newAdd.createPoolText")),1)):L("",!0)],64)):(g(),P("div",zp,[e.storeIndex.theme=="default"?(g(),P("img",Wp)):(g(),P("img",Kp)),c("p",null,w(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.poolInfo.isSelfBuilt?(g(),se(_,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):L("",!0)]),ie(S,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[23]||(t[23]=A=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:me(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(g(),P("svg",Yp,Gp)):L("",!0),c("span",null,w(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",Qp,[ie(R)])]),c("div",Jp,[c("div",Zp,w(e.$t("newAdd.depositAmounts")),1),c("div",xp,[c("div",eh,[ie(f,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[24]||(t[24]=A=>e.fromCoinAmount=A),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[25]||(t[25]=A=>e.maxBtnSelect("fromCoin")),onOnHalf:t[26]||(t[26]=A=>e.halfBtnSelect("fromCoin")),onOnInput:t[27]||(t[27]=A=>{e.fromCoinAmount=A,e.fixedFromCoin=!0}),onOnSelect:t[28]||(t[28]=A=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(g(),se(m,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),c("div",th,[ie(f,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[29]||(t[29]=A=>e.toCoinAmount=A),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[30]||(t[30]=A=>e.maxBtnSelect("toCoin")),onOnHalf:t[31]||(t[31]=A=>e.halfBtnSelect("toCoin")),onOnInput:t[32]||(t[32]=A=>{e.toCoinAmount=A,e.fixedFromCoin=!1}),onOnSelect:t[33]||(t[33]=A=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(g(),se(m,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),((Ft=(Ne=e.$route)==null?void 0:Ne.query)==null?void 0:Ft.action)&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(g(),se(p,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showfromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(g(),P("img",{key:1,class:"add",src:ki,alt:"",onClick:t[34]||(t[34]=(...A)=>e.toggle&&e.toggle(...A))})):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(g(),P("img",{key:2,class:"add",src:Ci,alt:"",onClick:t[35]||(t[35]=(...A)=>e.toggle&&e.toggle(...A))})):L("",!0)]),e.poolInfo||e.createPoolInfo?(g(),se(y,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):L("",!0)])])),ie(S,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn h5-btn",onClick:t[36]||(t[36]=A=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:me(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")?(g(),P("svg",nh,ih)):L("",!0),c("span",null,w(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",rh,[ie(R)]),e.showCoinSelect?(g(),se(N,{key:2,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:t[37]||(t[37]=A=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):L("",!0),e.isShowLiquidityModal?(g(),se(x,{key:3,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"pool-info":e.poolInfo,onToAdd:e.toAdd,onOnClose:t[38]||(t[38]=A=>e.isShowLiquidityModal=!1)},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","current-price-reverse","pool-info","onToAdd"])):L("",!0),e.isViewDetail?(g(),se(O,{key:4,onOnClose:t[39]||(t[39]=A=>e.isViewDetail=!1)})):L("",!0),e.isShowCreatePoolModal&&e.fromCoin&&e.toCoin?(g(),se(Q,{key:5,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.createPoolInfo.currentPrice,onOnClose:t[40]||(t[40]=A=>e.isShowCreatePoolModal=!1),onCreatePool:e.toCreatePool},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","onCreatePool"])):L("",!0)])}const Ph=je(sm,[["render",ah],["__scopeId","data-v-d04e56b9"]]);export{Ph as default};
