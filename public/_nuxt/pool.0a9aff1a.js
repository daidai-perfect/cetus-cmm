var sx=Object.defineProperty;var ox=(t,e,n)=>e in t?sx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pt=(t,e,n)=>(ox(t,typeof e!="symbol"?e+"":e,n),n);import{e_ as hp,a0 as Ea,X as _t,a1 as jr,e$ as ax,eW as gc,f0 as cx,eX as ga,eY as Jm,f as lh,f1 as Kd,f2 as ux,K as lx}from"./entry.cb6f389e.js";const dx="test",fx={pro:{Aptos:{liquidswapDeployer:"0x45ba3bca9e81591a852df423105ecf2978dc03a5c0223033669bb889656a94a8",faucetObjectId:"0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37",fetcher:"0x3ac260dc3ba7d7173e5ad8ce9a5d0ee62184e95425343cfd287f6e53dc52a4bd",clmmIntegrate:"0x3ac260dc3ba7d7173e5ad8ce9a5d0ee62184e95425343cfd287f6e53dc52a4bd",TokenDeployer:"0xc50b243a7180dfad9afd7dff8451c7b16cf27a92b6816f521b1f3c6d0c5397e3",IntegerMate:"0x45ba3bca9e81591a852df423105ecf2978dc03a5c0223033669bb889656a94a8",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.mainnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"mainnet",networkTip:"Mainnet",api:"https://api.cetus.zone",accountAddress:"0x251dda55e5071be8c761c8a99d7af559ccb6ccc52ad3f945712d3ae8b87c35e0",accountPublicKey:"0x40b00ab4323dddef193e9fef41830a96456a8b875c4e5cb5a4e666d9a75fed51",ammSite:"https://alpha.cetus.zone",cmmSite:"https://app.cetus.zone",newPositionAddress:"0x5b0b1c0d7a22fd7c59dedc00f906e9cb68033d13589a739b0d18cf25e317bdd4",fraphQLUrl:"https://indexer.mainnet.aptoslabs.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{liquidswapDeployer:"0x2b8f54bf724fa62789299569210d6c94758dd636",globalPauseStatusObjectId:"0x877cd08c02a2faa110a020f4f203304b114d76d2",faucetObjectId:"0x61df0e8caaf7b241d137fdc97906e3ca6bd68cca",rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",api:"https://api.devcetus.zone",currentChainTokenAddress:"0x2::sui::SUI"}},pre:{Aptos:{liquidswapDeployer:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",faucetObjectId:"0x3cfe7b9f6106808a8178ebd2d5ae6656cd0ccec15d33e63fd857c180bde8da75",fetcher:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",clmmIntegrate:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",TokenDeployer:"0xc50b243a7180dfad9afd7dff8451c7b16cf27a92b6816f521b1f3c6d0c5397e3",IntegerMate:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.mainnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"mainnet",networkTip:"Mainnet",api:"https://api-beta.cetus.zone",accountAddress:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",accountPublicKey:"0x854923b882d2451730a11690f7da896e3b497e2a47b3383e86b62173bbc1414c",ammSite:"https://cetus-pre.netlify.app",cmmSite:"https://cetus-cmm-pre.netlify.app",newPositionAddress:"0x5b0b1c0d7a22fd7c59dedc00f906e9cb68033d13589a739b0d18cf25e317bdd4",fraphQLUrl:"https://indexer.mainnet.aptoslabs.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{liquidswapDeployer:"0x2b8f54bf724fa62789299569210d6c94758dd636",globalPauseStatusObjectId:"0x877cd08c02a2faa110a020f4f203304b114d76d2",faucetObjectId:"0x61df0e8caaf7b241d137fdc97906e3ca6bd68cca",rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",api:"https://api.devcetus.zone",ammSite:"https://cetus-pre.netlify.app",currentChainTokenAddress:"0x2::sui::SUI"}},test:{Aptos:{liquidswapDeployer:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",faucetObjectId:"0x3cfe7b9f6106808a8178ebd2d5ae6656cd0ccec15d33e63fd857c180bde8da75",fetcher:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",clmmIntegrate:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",TokenDeployer:"0xce854db9e3d7ae088359dbc54e2d425370c86a010b7656a272019abd9abf5b5a",IntegerMate:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.testnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"testnet",networkTip:"Testnet",api:"https://api.devcetus.com",accountAddress:"0x251dda55e5071be8c761c8a99d7af559ccb6ccc52ad3f945712d3ae8b87c35e0",accountPublicKey:"0x40b00ab4323dddef193e9fef41830a96456a8b875c4e5cb5a4e666d9a75fed51",ammSite:"https://test-cetus.netlify.app",cmmSite:"https://cetus-cmm-app-testnet.netlify.app",newPositionAddress:"0x3904fc6d0dcb6e1937a6aced4597ec383afc752676d89f1d59b3d30b959fe161",fraphQLUrl:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{cetusClmm:"0x6ef0b860c3f1bccba8dc7abc4c4f56209258155216b5b4980a7e3c055b53c52f",cetusIntegrate:"0xdef8833b5483631521c1a0f745f9b9f5eb94d649636c3d9a340b035685ddb8a1",integerMate:"0x7c8a43d51fbb2937f221da483a200275e12377c664cf2270dc63f7b033a2ba3e",TokenDeployer:"0xbdd61afa9ad2cddb531ad9739845ad03723dca0c23ee5aa802f976a692a79f46",faucetObjectId:"0x473d520316e4ea5550657410669c9da6cde191e570d63d754cee353e11746751",clmmConfig:{pools_id:"0xa81ced7499fb8a616b89702c87923996fd126c4ed7e8c10bfe58cfc5906028d7",global_config_id:"0xf75efa6f33de08097b65428989d5359f55298df2f7332a3e6135053080926b74"},tokenConfig:{coin_registry_id:"0x753bffc4db7271a30206a03b39e21c9627e8bffe43ed827b16fcf83aa48cd2a3",pool_registry_id:"0x623db5b8cf57dbda35a98d93c29ac9d98e5b438b5586af717b5ca32225267b64",coin_list_owner:"0xde0ff46c5d9083544e93aeae29b542f111f044c49e9186ebbaccb39c90f70b47",pool_list_owner:"0xb44628f7462c7facfaa72b94fdff90e02869a1b1adeeee08cdfa7794e36b284e"},rpcUrl:"http://192.168.1.41:9000",explorerUrl:"https://explorer.sui.io/",network:"devnet",networkTip:"Devnet",api:"https://api.devcetus.com",simulationAccount:"0x5f9d2fb717ba2433f7723cf90bdbf90667001104915001d0af0cccb52b67c1e8",ammSite:"https://cetus-pre.netlify.app",newPositionAddress:"0x039186725a62eb94ae7b87ed7074ad8b5c67673783ffe2a035cee87796b5537b",currentChainTokenAddress:"0x2::sui::SUI",launchpad:{ido:"0x5a22cc87923bad0fc8db26aea210c6481489b24812f0ebadb9aee84af66320a0",nft_lock:"0x10adbb60070f739c0b03ce739b40585dc618c1ace6d3c181a576857a4c0a7a83",config:{pools_id:"0xf0e7205426bfb6aba8dd11eef5f3572390d3e59294c907f469e73d2a04c78cfb",admin_cap_id:"0xf23ce7d70f0ceec4bd2944a8389ea7031c3429817f704bb0798cb86d6b04a826",lock_manager_id:"0x8f6384dc95f964d8fecbe92b305bc1347721c7e71b09701a2466be63b118e9ce"}}},Sui2:{cetusClmm:"0x296e6ae7204fc10eaf8f08e4b4faf4ddd4ad001c",cetusIntegrate:"0x9cce89ed875c398dde64a5ccdfbebb6140b13b0f",integerMate:"0x3a1a096b4d2598eb3958c91fc8787c3e62f40770",swapPartner:"0xa420bad83346a8cd05c98fff988d90ef8d149b4c",TokenDeployer:"0x7bfe88372b99abb54609b58fee652b97a162cbcf",faucetObjectId:"0x6740d70296035d0345bed636a820af129f6ed422",initEventConfig:{initFactoryEvent:{pools_id:"0x526554aec8e229cc79f2a3e375813f6be92aabf8"},initPartnerEvent:{partners_id:"0x9bd1abed942c804d11a3ebb224fef4c8abda4dbb"},initConfigEvent:{admin_cap_id:"0x1b585be50405d80698ee1cffbde0e884944b64ce",global_config_id:"0x7b357faee524eda340b9924a828814eab7c107f7",protocol_fee_claim_cap_id:"0xfec3fa3d8176952d584213d9e286bbbb1717af02"}},tokenConfig:{coin_registry_id:"0x3f9f6609fc99440e41c7e178ff1250274170c889",pool_registry_id:"0x699cff0b7e44e565908b4acfa482022cfbfc16c1",coin_list_owner:"0x7634802da06a3a4c8e4aa8c425cfd83406670e34",pool_list_owner:"0xa4e177fe96f33a7ec7f2aa14ad5387cac7c7cc21"},rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",api:"https://api.devcetus.com",simulationAccount:"0x3f6cfdcf7bc19e86693d3d0f261f56b6e8caff0d",ammSite:"https://cetus-pre.netlify.app",newPositionAddress:"0xbd1a8bd64216a4b102dc45a926bde4eb212108ae",currentChainTokenAddress:"0x2::sui::SUI"}},dev:{Aptos:{liquidswapDeployer:"0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37",faucetObjectId:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29",fetcher:"0x3ac260dc3ba7d7173e5ad8ce9a5d0ee62184e95425343cfd287f6e53dc52a4bd",clmmIntegrate:"0x3ac260dc3ba7d7173e5ad8ce9a5d0ee62184e95425343cfd287f6e53dc52a4bd",TokenDeployer:"0xc50b243a7180dfad9afd7dff8451c7b16cf27a92b6816f521b1f3c6d0c5397e3",IntegerMate:"0x45ba3bca9e81591a852df423105ecf2978dc03a5c0223033669bb889656a94a8",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.devnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"devnet",networkTip:"Devnet",api:"https://api.devcetus.com",accountAddress:"0x251dda55e5071be8c761c8a99d7af559ccb6ccc52ad3f945712d3ae8b87c35e0",accountPublicKey:"0x40b00ab4323dddef193e9fef41830a96456a8b875c4e5cb5a4e666d9a75fed51",ammSite:"https://test-cetus.netlify.app",cmmSite:"https://cetus-cmm-app-testnet.netlify.app",newPositionAddress:"0x3904fc6d0dcb6e1937a6aced4597ec383afc752676d89f1d59b3d30b959fe161",fraphQLUrl:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{liquidswapDeployer:"0x2b8f54bf724fa62789299569210d6c94758dd636",globalPauseStatusObjectId:"0x877cd08c02a2faa110a020f4f203304b114d76d2",faucetObjectId:"0x61df0e8caaf7b241d137fdc97906e3ca6bd68cca",rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",ammSite:"https://cetus-pre.netlify.app",api:"https://api.devcetus.zone",currentChainTokenAddress:"0x2::sui::SUI"}}},rt={...fx[dx]},yy=new ax,Ym=hp("index",{state:()=>({slippage:localStorage.getItem("cetus-slippage")||"0.5",isShowSuccess:!1,isShowRejected:!1,isShowWaiting:!1,currentTransactionDesc:"",currentTransactionDescText:"",currentTransactionTxid:"",theme:"",chainName:"",positionNum:0,statsData:{},topPoolsList:[],topPoolsObj:{},newTopPoolsObj:{},topTokensList:[],topTokenObj:{},newtopTokenObj:{},lang:yy.get("lang")||"en",addressLpTokens:{},addressHistTokens:{},transactionList:JSON.parse(localStorage.getItem("transactionList")||"[]")||[],newtransactionList:JSON.parse(localStorage.getItem("newtransactionList")||"[]")||[],newAddtransactionList:JSON.parse(localStorage.getItem("newAddtransactionList")||"[]")||[],isSelect:"",openMore:!1,openSwitchChain:!1,openSwitchLang:!1,openH5Icon:!1,isShowMore:!1}),actions:{copy(t){if(navigator.clipboard)navigator.clipboard.writeText(t);else{const n=document.createElement("input");n.readOnly=!0,document.body.appendChild(n),n.value=t,n.select(),document.execCommand("Copy"),document.body.removeChild(n)}const{$notify:e}=Ea();e.success({icon:_t("svg",{class:{icon:!0},"aria-hidden":!0},[_t("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:_t("div",{class:"notification-title"},[_t("span",{innerHTML:jr.global.t("tips.copySuccess")},null)]),class:"ant-notification-copy"})},setOpenMore(t){this.openMore=t},setOpenSwitchChain(t){this.openSwitchChain=t},setOpenSwitchLang(t){this.openSwitchLang=t},setOpenH5Icon(t){this.openH5Icon=t},setIsShowMore(t){this.isShowMore=t},setSlippage(t){console.log(t,"slippage##"),this.slippage=t,localStorage.setItem("cetus-slippage",t)},setPositiomNum(){this.positionNum=this.positionNum+1},setTheme(t){console.log(t,"theme##"),this.theme=t,t=="default"?(this.chainName="Aptos",localStorage.setItem("chainName","Aptos")):t=="sui"?(this.chainName="Sui",localStorage.setItem("chainName","Sui")):t=="sui2"&&(this.chainName="Sui2",localStorage.setItem("chainName","Sui2"))},setIsShowSuccess(t){this.isShowSuccess=t},setIsShowRejected(t){this.isShowRejected=t},setIsShowWaiting(t){this.isShowWaiting=t},setTransactionDesc(t){this.currentTransactionDesc=t},setTransactionDescText(t){console.log(t,"====>status"),this.currentTransactionDescText=t},setTransactionTxid(t){this.currentTransactionTxid=t},async getStatsData(t){let e=[],n=[];console.log("0216###getStatsData###this.chainName####",t);const{data:r}=t=="Aptos"?await fetch(`${rt[t||"Aptos"].api}/v2/swap/count`).then(o=>o.json()):await fetch(`${rt[t||"Sui"].api}/v2/sui/swap/count`).then(o=>o.json()),i=t=="Aptos"?await fetch(`${rt[t||"Aptos"].api}/v2/contract/price`).then(o=>o.json()):await fetch(`${rt[t||"Sui"].api}/v2/sui/contract/price`).then(o=>o.json());n=Object.fromEntries(i.data.list.map(o=>[o.swap_account,o])),this.addressHistTokens=n,this.statsData=r;const s=[];if(r&&r.pools){for(let o=0;o<r.pools.length;o++){const a=r.pools[o],c=a.rewarder_apr[0]?Number(a.rewarder_apr[0].substring(0,a.rewarder_apr[0].length-1)):0,u=a.rewarder_apr[1]?Number(a.rewarder_apr[1].substring(0,a.rewarder_apr[1].length-1)):0,l=a.rewarder_apr[2]?Number(a.rewarder_apr[2].substring(0,a.rewarder_apr[2].length-1)):0,d=c+u+l;s.push({...a,aprNum:a?String(Number(a.apr_7day.substring(0,a.apr_7day.length-1))+d):"0",token_a_address:a.token_a_reserves=="SUI"?"0x2::sui::SUI":a.token_a_address,token_b_address:a.token_b_reserves=="SUI"?"0x2::sui::SUI":a.token_b_address})}this.topPoolsList=s,e=Object.fromEntries(r.pools.map(o=>[o.swap_account,o])),this.topPoolsObj=Object.fromEntries(r.pools.map(o=>[o.name,o])),this.newTopPoolsObj=Object.fromEntries(r.pools.map(o=>[o.swap_account,o]))}r&&r.tokens&&(this.topTokensList=r.tokens,this.addressLpTokens=e,this.topTokenObj=Object.fromEntries(r.tokens.map(o=>[o.name,o])),this.newtopTokenObj=Object.fromEntries(r.tokens.map(o=>[o.address,o])))},setLang(t){yy.set("lang",t),this.lang=t},setTransactionList(t){console.log(this.newAddtransactionList,"====>newAddtransactionList"),this.newAddtransactionList.push(t),localStorage.setItem("newAddtransactionList",JSON.stringify(this.newAddtransactionList))},clearTransactionList(){const t=this.newAddtransactionList.filter(e=>e.chainName!==this.chainName);this.newAddtransactionList=t,localStorage.setItem("newAddtransactionList",t.length>0?JSON.stringify(t):"")},setIsSelect(t){console.log(t,"status===>"),this.isSelect=t}}});function Qm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ks={},hx={get exports(){return Ks},set exports(t){Ks=t}};const px={},ew=Object.freeze(Object.defineProperty({__proto__:null,default:px},Symbol.toStringTag,{value:"Module"})),pp=gc(ew);(function(t){(function(e){var n=function(A){var P,C=new Float64Array(16);if(A)for(P=0;P<A.length;P++)C[P]=A[P];return C},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),a=n([1]),c=n([56129,1]),u=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(A,P,C,y){A[P]=C>>24&255,A[P+1]=C>>16&255,A[P+2]=C>>8&255,A[P+3]=C&255,A[P+4]=y>>24&255,A[P+5]=y>>16&255,A[P+6]=y>>8&255,A[P+7]=y&255}function m(A,P,C,y,M){var ne,Q=0;for(ne=0;ne<M;ne++)Q|=A[P+ne]^C[y+ne];return(1&Q-1>>>8)-1}function v(A,P,C,y){return m(A,P,C,y,16)}function k(A,P,C,y){return m(A,P,C,y,32)}function E(A,P,C,y){for(var M=y[0]&255|(y[1]&255)<<8|(y[2]&255)<<16|(y[3]&255)<<24,ne=C[0]&255|(C[1]&255)<<8|(C[2]&255)<<16|(C[3]&255)<<24,Q=C[4]&255|(C[5]&255)<<8|(C[6]&255)<<16|(C[7]&255)<<24,de=C[8]&255|(C[9]&255)<<8|(C[10]&255)<<16|(C[11]&255)<<24,ve=C[12]&255|(C[13]&255)<<8|(C[14]&255)<<16|(C[15]&255)<<24,Ae=y[4]&255|(y[5]&255)<<8|(y[6]&255)<<16|(y[7]&255)<<24,xe=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,$t=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,Oe=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,Je=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,Qe=y[8]&255|(y[9]&255)<<8|(y[10]&255)<<16|(y[11]&255)<<24,ot=C[16]&255|(C[17]&255)<<8|(C[18]&255)<<16|(C[19]&255)<<24,it=C[20]&255|(C[21]&255)<<8|(C[22]&255)<<16|(C[23]&255)<<24,et=C[24]&255|(C[25]&255)<<8|(C[26]&255)<<16|(C[27]&255)<<24,nt=C[28]&255|(C[29]&255)<<8|(C[30]&255)<<16|(C[31]&255)<<24,tt=y[12]&255|(y[13]&255)<<8|(y[14]&255)<<16|(y[15]&255)<<24,Ue=M,ze=ne,Pe=Q,Me=de,De=ve,$e=Ae,ae=xe,ce=$t,me=Oe,fe=Je,ge=Qe,be=ot,Xe=it,mt=et,vt=nt,wt=tt,K,Bt=0;Bt<20;Bt+=2)K=Ue+Xe|0,De^=K<<7|K>>>32-7,K=De+Ue|0,me^=K<<9|K>>>32-9,K=me+De|0,Xe^=K<<13|K>>>32-13,K=Xe+me|0,Ue^=K<<18|K>>>32-18,K=$e+ze|0,fe^=K<<7|K>>>32-7,K=fe+$e|0,mt^=K<<9|K>>>32-9,K=mt+fe|0,ze^=K<<13|K>>>32-13,K=ze+mt|0,$e^=K<<18|K>>>32-18,K=ge+ae|0,vt^=K<<7|K>>>32-7,K=vt+ge|0,Pe^=K<<9|K>>>32-9,K=Pe+vt|0,ae^=K<<13|K>>>32-13,K=ae+Pe|0,ge^=K<<18|K>>>32-18,K=wt+be|0,Me^=K<<7|K>>>32-7,K=Me+wt|0,ce^=K<<9|K>>>32-9,K=ce+Me|0,be^=K<<13|K>>>32-13,K=be+ce|0,wt^=K<<18|K>>>32-18,K=Ue+Me|0,ze^=K<<7|K>>>32-7,K=ze+Ue|0,Pe^=K<<9|K>>>32-9,K=Pe+ze|0,Me^=K<<13|K>>>32-13,K=Me+Pe|0,Ue^=K<<18|K>>>32-18,K=$e+De|0,ae^=K<<7|K>>>32-7,K=ae+$e|0,ce^=K<<9|K>>>32-9,K=ce+ae|0,De^=K<<13|K>>>32-13,K=De+ce|0,$e^=K<<18|K>>>32-18,K=ge+fe|0,be^=K<<7|K>>>32-7,K=be+ge|0,me^=K<<9|K>>>32-9,K=me+be|0,fe^=K<<13|K>>>32-13,K=fe+me|0,ge^=K<<18|K>>>32-18,K=wt+vt|0,Xe^=K<<7|K>>>32-7,K=Xe+wt|0,mt^=K<<9|K>>>32-9,K=mt+Xe|0,vt^=K<<13|K>>>32-13,K=vt+mt|0,wt^=K<<18|K>>>32-18;Ue=Ue+M|0,ze=ze+ne|0,Pe=Pe+Q|0,Me=Me+de|0,De=De+ve|0,$e=$e+Ae|0,ae=ae+xe|0,ce=ce+$t|0,me=me+Oe|0,fe=fe+Je|0,ge=ge+Qe|0,be=be+ot|0,Xe=Xe+it|0,mt=mt+et|0,vt=vt+nt|0,wt=wt+tt|0,A[0]=Ue>>>0&255,A[1]=Ue>>>8&255,A[2]=Ue>>>16&255,A[3]=Ue>>>24&255,A[4]=ze>>>0&255,A[5]=ze>>>8&255,A[6]=ze>>>16&255,A[7]=ze>>>24&255,A[8]=Pe>>>0&255,A[9]=Pe>>>8&255,A[10]=Pe>>>16&255,A[11]=Pe>>>24&255,A[12]=Me>>>0&255,A[13]=Me>>>8&255,A[14]=Me>>>16&255,A[15]=Me>>>24&255,A[16]=De>>>0&255,A[17]=De>>>8&255,A[18]=De>>>16&255,A[19]=De>>>24&255,A[20]=$e>>>0&255,A[21]=$e>>>8&255,A[22]=$e>>>16&255,A[23]=$e>>>24&255,A[24]=ae>>>0&255,A[25]=ae>>>8&255,A[26]=ae>>>16&255,A[27]=ae>>>24&255,A[28]=ce>>>0&255,A[29]=ce>>>8&255,A[30]=ce>>>16&255,A[31]=ce>>>24&255,A[32]=me>>>0&255,A[33]=me>>>8&255,A[34]=me>>>16&255,A[35]=me>>>24&255,A[36]=fe>>>0&255,A[37]=fe>>>8&255,A[38]=fe>>>16&255,A[39]=fe>>>24&255,A[40]=ge>>>0&255,A[41]=ge>>>8&255,A[42]=ge>>>16&255,A[43]=ge>>>24&255,A[44]=be>>>0&255,A[45]=be>>>8&255,A[46]=be>>>16&255,A[47]=be>>>24&255,A[48]=Xe>>>0&255,A[49]=Xe>>>8&255,A[50]=Xe>>>16&255,A[51]=Xe>>>24&255,A[52]=mt>>>0&255,A[53]=mt>>>8&255,A[54]=mt>>>16&255,A[55]=mt>>>24&255,A[56]=vt>>>0&255,A[57]=vt>>>8&255,A[58]=vt>>>16&255,A[59]=vt>>>24&255,A[60]=wt>>>0&255,A[61]=wt>>>8&255,A[62]=wt>>>16&255,A[63]=wt>>>24&255}function b(A,P,C,y){for(var M=y[0]&255|(y[1]&255)<<8|(y[2]&255)<<16|(y[3]&255)<<24,ne=C[0]&255|(C[1]&255)<<8|(C[2]&255)<<16|(C[3]&255)<<24,Q=C[4]&255|(C[5]&255)<<8|(C[6]&255)<<16|(C[7]&255)<<24,de=C[8]&255|(C[9]&255)<<8|(C[10]&255)<<16|(C[11]&255)<<24,ve=C[12]&255|(C[13]&255)<<8|(C[14]&255)<<16|(C[15]&255)<<24,Ae=y[4]&255|(y[5]&255)<<8|(y[6]&255)<<16|(y[7]&255)<<24,xe=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,$t=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,Oe=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,Je=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,Qe=y[8]&255|(y[9]&255)<<8|(y[10]&255)<<16|(y[11]&255)<<24,ot=C[16]&255|(C[17]&255)<<8|(C[18]&255)<<16|(C[19]&255)<<24,it=C[20]&255|(C[21]&255)<<8|(C[22]&255)<<16|(C[23]&255)<<24,et=C[24]&255|(C[25]&255)<<8|(C[26]&255)<<16|(C[27]&255)<<24,nt=C[28]&255|(C[29]&255)<<8|(C[30]&255)<<16|(C[31]&255)<<24,tt=y[12]&255|(y[13]&255)<<8|(y[14]&255)<<16|(y[15]&255)<<24,Ue=M,ze=ne,Pe=Q,Me=de,De=ve,$e=Ae,ae=xe,ce=$t,me=Oe,fe=Je,ge=Qe,be=ot,Xe=it,mt=et,vt=nt,wt=tt,K,Bt=0;Bt<20;Bt+=2)K=Ue+Xe|0,De^=K<<7|K>>>32-7,K=De+Ue|0,me^=K<<9|K>>>32-9,K=me+De|0,Xe^=K<<13|K>>>32-13,K=Xe+me|0,Ue^=K<<18|K>>>32-18,K=$e+ze|0,fe^=K<<7|K>>>32-7,K=fe+$e|0,mt^=K<<9|K>>>32-9,K=mt+fe|0,ze^=K<<13|K>>>32-13,K=ze+mt|0,$e^=K<<18|K>>>32-18,K=ge+ae|0,vt^=K<<7|K>>>32-7,K=vt+ge|0,Pe^=K<<9|K>>>32-9,K=Pe+vt|0,ae^=K<<13|K>>>32-13,K=ae+Pe|0,ge^=K<<18|K>>>32-18,K=wt+be|0,Me^=K<<7|K>>>32-7,K=Me+wt|0,ce^=K<<9|K>>>32-9,K=ce+Me|0,be^=K<<13|K>>>32-13,K=be+ce|0,wt^=K<<18|K>>>32-18,K=Ue+Me|0,ze^=K<<7|K>>>32-7,K=ze+Ue|0,Pe^=K<<9|K>>>32-9,K=Pe+ze|0,Me^=K<<13|K>>>32-13,K=Me+Pe|0,Ue^=K<<18|K>>>32-18,K=$e+De|0,ae^=K<<7|K>>>32-7,K=ae+$e|0,ce^=K<<9|K>>>32-9,K=ce+ae|0,De^=K<<13|K>>>32-13,K=De+ce|0,$e^=K<<18|K>>>32-18,K=ge+fe|0,be^=K<<7|K>>>32-7,K=be+ge|0,me^=K<<9|K>>>32-9,K=me+be|0,fe^=K<<13|K>>>32-13,K=fe+me|0,ge^=K<<18|K>>>32-18,K=wt+vt|0,Xe^=K<<7|K>>>32-7,K=Xe+wt|0,mt^=K<<9|K>>>32-9,K=mt+Xe|0,vt^=K<<13|K>>>32-13,K=vt+mt|0,wt^=K<<18|K>>>32-18;A[0]=Ue>>>0&255,A[1]=Ue>>>8&255,A[2]=Ue>>>16&255,A[3]=Ue>>>24&255,A[4]=$e>>>0&255,A[5]=$e>>>8&255,A[6]=$e>>>16&255,A[7]=$e>>>24&255,A[8]=ge>>>0&255,A[9]=ge>>>8&255,A[10]=ge>>>16&255,A[11]=ge>>>24&255,A[12]=wt>>>0&255,A[13]=wt>>>8&255,A[14]=wt>>>16&255,A[15]=wt>>>24&255,A[16]=ae>>>0&255,A[17]=ae>>>8&255,A[18]=ae>>>16&255,A[19]=ae>>>24&255,A[20]=ce>>>0&255,A[21]=ce>>>8&255,A[22]=ce>>>16&255,A[23]=ce>>>24&255,A[24]=me>>>0&255,A[25]=me>>>8&255,A[26]=me>>>16&255,A[27]=me>>>24&255,A[28]=fe>>>0&255,A[29]=fe>>>8&255,A[30]=fe>>>16&255,A[31]=fe>>>24&255}function x(A,P,C,y){E(A,P,C,y)}function T(A,P,C,y){b(A,P,C,y)}var $=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function L(A,P,C,y,M,ne,Q){var de=new Uint8Array(16),ve=new Uint8Array(64),Ae,xe;for(xe=0;xe<16;xe++)de[xe]=0;for(xe=0;xe<8;xe++)de[xe]=ne[xe];for(;M>=64;){for(x(ve,de,Q,$),xe=0;xe<64;xe++)A[P+xe]=C[y+xe]^ve[xe];for(Ae=1,xe=8;xe<16;xe++)Ae=Ae+(de[xe]&255)|0,de[xe]=Ae&255,Ae>>>=8;M-=64,P+=64,y+=64}if(M>0)for(x(ve,de,Q,$),xe=0;xe<M;xe++)A[P+xe]=C[y+xe]^ve[xe];return 0}function z(A,P,C,y,M){var ne=new Uint8Array(16),Q=new Uint8Array(64),de,ve;for(ve=0;ve<16;ve++)ne[ve]=0;for(ve=0;ve<8;ve++)ne[ve]=y[ve];for(;C>=64;){for(x(Q,ne,M,$),ve=0;ve<64;ve++)A[P+ve]=Q[ve];for(de=1,ve=8;ve<16;ve++)de=de+(ne[ve]&255)|0,ne[ve]=de&255,de>>>=8;C-=64,P+=64}if(C>0)for(x(Q,ne,M,$),ve=0;ve<C;ve++)A[P+ve]=Q[ve];return 0}function J(A,P,C,y,M){var ne=new Uint8Array(32);T(ne,y,M,$);for(var Q=new Uint8Array(8),de=0;de<8;de++)Q[de]=y[de+16];return z(A,P,C,Q,ne)}function Z(A,P,C,y,M,ne,Q){var de=new Uint8Array(32);T(de,ne,Q,$);for(var ve=new Uint8Array(8),Ae=0;Ae<8;Ae++)ve[Ae]=ne[Ae+16];return L(A,P,C,y,M,ve,de)}var U=function(A){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var P,C,y,M,ne,Q,de,ve;P=A[0]&255|(A[1]&255)<<8,this.r[0]=P&8191,C=A[2]&255|(A[3]&255)<<8,this.r[1]=(P>>>13|C<<3)&8191,y=A[4]&255|(A[5]&255)<<8,this.r[2]=(C>>>10|y<<6)&7939,M=A[6]&255|(A[7]&255)<<8,this.r[3]=(y>>>7|M<<9)&8191,ne=A[8]&255|(A[9]&255)<<8,this.r[4]=(M>>>4|ne<<12)&255,this.r[5]=ne>>>1&8190,Q=A[10]&255|(A[11]&255)<<8,this.r[6]=(ne>>>14|Q<<2)&8191,de=A[12]&255|(A[13]&255)<<8,this.r[7]=(Q>>>11|de<<5)&8065,ve=A[14]&255|(A[15]&255)<<8,this.r[8]=(de>>>8|ve<<8)&8191,this.r[9]=ve>>>5&127,this.pad[0]=A[16]&255|(A[17]&255)<<8,this.pad[1]=A[18]&255|(A[19]&255)<<8,this.pad[2]=A[20]&255|(A[21]&255)<<8,this.pad[3]=A[22]&255|(A[23]&255)<<8,this.pad[4]=A[24]&255|(A[25]&255)<<8,this.pad[5]=A[26]&255|(A[27]&255)<<8,this.pad[6]=A[28]&255|(A[29]&255)<<8,this.pad[7]=A[30]&255|(A[31]&255)<<8};U.prototype.blocks=function(A,P,C){for(var y=this.fin?0:2048,M,ne,Q,de,ve,Ae,xe,$t,Oe,Je,Qe,ot,it,et,nt,tt,Ue,ze,Pe,Me=this.h[0],De=this.h[1],$e=this.h[2],ae=this.h[3],ce=this.h[4],me=this.h[5],fe=this.h[6],ge=this.h[7],be=this.h[8],Xe=this.h[9],mt=this.r[0],vt=this.r[1],wt=this.r[2],K=this.r[3],Bt=this.r[4],Lt=this.r[5],Ht=this.r[6],Tt=this.r[7],qt=this.r[8],Dt=this.r[9];C>=16;)M=A[P+0]&255|(A[P+1]&255)<<8,Me+=M&8191,ne=A[P+2]&255|(A[P+3]&255)<<8,De+=(M>>>13|ne<<3)&8191,Q=A[P+4]&255|(A[P+5]&255)<<8,$e+=(ne>>>10|Q<<6)&8191,de=A[P+6]&255|(A[P+7]&255)<<8,ae+=(Q>>>7|de<<9)&8191,ve=A[P+8]&255|(A[P+9]&255)<<8,ce+=(de>>>4|ve<<12)&8191,me+=ve>>>1&8191,Ae=A[P+10]&255|(A[P+11]&255)<<8,fe+=(ve>>>14|Ae<<2)&8191,xe=A[P+12]&255|(A[P+13]&255)<<8,ge+=(Ae>>>11|xe<<5)&8191,$t=A[P+14]&255|(A[P+15]&255)<<8,be+=(xe>>>8|$t<<8)&8191,Xe+=$t>>>5|y,Oe=0,Je=Oe,Je+=Me*mt,Je+=De*(5*Dt),Je+=$e*(5*qt),Je+=ae*(5*Tt),Je+=ce*(5*Ht),Oe=Je>>>13,Je&=8191,Je+=me*(5*Lt),Je+=fe*(5*Bt),Je+=ge*(5*K),Je+=be*(5*wt),Je+=Xe*(5*vt),Oe+=Je>>>13,Je&=8191,Qe=Oe,Qe+=Me*vt,Qe+=De*mt,Qe+=$e*(5*Dt),Qe+=ae*(5*qt),Qe+=ce*(5*Tt),Oe=Qe>>>13,Qe&=8191,Qe+=me*(5*Ht),Qe+=fe*(5*Lt),Qe+=ge*(5*Bt),Qe+=be*(5*K),Qe+=Xe*(5*wt),Oe+=Qe>>>13,Qe&=8191,ot=Oe,ot+=Me*wt,ot+=De*vt,ot+=$e*mt,ot+=ae*(5*Dt),ot+=ce*(5*qt),Oe=ot>>>13,ot&=8191,ot+=me*(5*Tt),ot+=fe*(5*Ht),ot+=ge*(5*Lt),ot+=be*(5*Bt),ot+=Xe*(5*K),Oe+=ot>>>13,ot&=8191,it=Oe,it+=Me*K,it+=De*wt,it+=$e*vt,it+=ae*mt,it+=ce*(5*Dt),Oe=it>>>13,it&=8191,it+=me*(5*qt),it+=fe*(5*Tt),it+=ge*(5*Ht),it+=be*(5*Lt),it+=Xe*(5*Bt),Oe+=it>>>13,it&=8191,et=Oe,et+=Me*Bt,et+=De*K,et+=$e*wt,et+=ae*vt,et+=ce*mt,Oe=et>>>13,et&=8191,et+=me*(5*Dt),et+=fe*(5*qt),et+=ge*(5*Tt),et+=be*(5*Ht),et+=Xe*(5*Lt),Oe+=et>>>13,et&=8191,nt=Oe,nt+=Me*Lt,nt+=De*Bt,nt+=$e*K,nt+=ae*wt,nt+=ce*vt,Oe=nt>>>13,nt&=8191,nt+=me*mt,nt+=fe*(5*Dt),nt+=ge*(5*qt),nt+=be*(5*Tt),nt+=Xe*(5*Ht),Oe+=nt>>>13,nt&=8191,tt=Oe,tt+=Me*Ht,tt+=De*Lt,tt+=$e*Bt,tt+=ae*K,tt+=ce*wt,Oe=tt>>>13,tt&=8191,tt+=me*vt,tt+=fe*mt,tt+=ge*(5*Dt),tt+=be*(5*qt),tt+=Xe*(5*Tt),Oe+=tt>>>13,tt&=8191,Ue=Oe,Ue+=Me*Tt,Ue+=De*Ht,Ue+=$e*Lt,Ue+=ae*Bt,Ue+=ce*K,Oe=Ue>>>13,Ue&=8191,Ue+=me*wt,Ue+=fe*vt,Ue+=ge*mt,Ue+=be*(5*Dt),Ue+=Xe*(5*qt),Oe+=Ue>>>13,Ue&=8191,ze=Oe,ze+=Me*qt,ze+=De*Tt,ze+=$e*Ht,ze+=ae*Lt,ze+=ce*Bt,Oe=ze>>>13,ze&=8191,ze+=me*K,ze+=fe*wt,ze+=ge*vt,ze+=be*mt,ze+=Xe*(5*Dt),Oe+=ze>>>13,ze&=8191,Pe=Oe,Pe+=Me*Dt,Pe+=De*qt,Pe+=$e*Tt,Pe+=ae*Ht,Pe+=ce*Lt,Oe=Pe>>>13,Pe&=8191,Pe+=me*Bt,Pe+=fe*K,Pe+=ge*wt,Pe+=be*vt,Pe+=Xe*mt,Oe+=Pe>>>13,Pe&=8191,Oe=(Oe<<2)+Oe|0,Oe=Oe+Je|0,Je=Oe&8191,Oe=Oe>>>13,Qe+=Oe,Me=Je,De=Qe,$e=ot,ae=it,ce=et,me=nt,fe=tt,ge=Ue,be=ze,Xe=Pe,P+=16,C-=16;this.h[0]=Me,this.h[1]=De,this.h[2]=$e,this.h[3]=ae,this.h[4]=ce,this.h[5]=me,this.h[6]=fe,this.h[7]=ge,this.h[8]=be,this.h[9]=Xe},U.prototype.finish=function(A,P){var C=new Uint16Array(10),y,M,ne,Q;if(this.leftover){for(Q=this.leftover,this.buffer[Q++]=1;Q<16;Q++)this.buffer[Q]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(y=this.h[1]>>>13,this.h[1]&=8191,Q=2;Q<10;Q++)this.h[Q]+=y,y=this.h[Q]>>>13,this.h[Q]&=8191;for(this.h[0]+=y*5,y=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=y,y=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=y,C[0]=this.h[0]+5,y=C[0]>>>13,C[0]&=8191,Q=1;Q<10;Q++)C[Q]=this.h[Q]+y,y=C[Q]>>>13,C[Q]&=8191;for(C[9]-=1<<13,M=(y^1)-1,Q=0;Q<10;Q++)C[Q]&=M;for(M=~M,Q=0;Q<10;Q++)this.h[Q]=this.h[Q]&M|C[Q];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,ne=this.h[0]+this.pad[0],this.h[0]=ne&65535,Q=1;Q<8;Q++)ne=(this.h[Q]+this.pad[Q]|0)+(ne>>>16)|0,this.h[Q]=ne&65535;A[P+0]=this.h[0]>>>0&255,A[P+1]=this.h[0]>>>8&255,A[P+2]=this.h[1]>>>0&255,A[P+3]=this.h[1]>>>8&255,A[P+4]=this.h[2]>>>0&255,A[P+5]=this.h[2]>>>8&255,A[P+6]=this.h[3]>>>0&255,A[P+7]=this.h[3]>>>8&255,A[P+8]=this.h[4]>>>0&255,A[P+9]=this.h[4]>>>8&255,A[P+10]=this.h[5]>>>0&255,A[P+11]=this.h[5]>>>8&255,A[P+12]=this.h[6]>>>0&255,A[P+13]=this.h[6]>>>8&255,A[P+14]=this.h[7]>>>0&255,A[P+15]=this.h[7]>>>8&255},U.prototype.update=function(A,P,C){var y,M;if(this.leftover){for(M=16-this.leftover,M>C&&(M=C),y=0;y<M;y++)this.buffer[this.leftover+y]=A[P+y];if(C-=M,P+=M,this.leftover+=M,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(C>=16&&(M=C-C%16,this.blocks(A,P,M),P+=M,C-=M),C){for(y=0;y<C;y++)this.buffer[this.leftover+y]=A[P+y];this.leftover+=C}};function D(A,P,C,y,M,ne){var Q=new U(ne);return Q.update(C,y,M),Q.finish(A,P),0}function B(A,P,C,y,M,ne){var Q=new Uint8Array(16);return D(Q,0,C,y,M,ne),v(A,P,Q,0)}function h(A,P,C,y,M){var ne;if(C<32)return-1;for(Z(A,0,P,0,C,y,M),D(A,16,A,32,C-32,A),ne=0;ne<16;ne++)A[ne]=0;return 0}function g(A,P,C,y,M){var ne,Q=new Uint8Array(32);if(C<32||(J(Q,0,32,y,M),B(P,16,P,32,C-32,Q)!==0))return-1;for(Z(A,0,P,0,C,y,M),ne=0;ne<32;ne++)A[ne]=0;return 0}function S(A,P){var C;for(C=0;C<16;C++)A[C]=P[C]|0}function I(A){var P,C,y=1;for(P=0;P<16;P++)C=A[P]+y+65535,y=Math.floor(C/65536),A[P]=C-y*65536;A[0]+=y-1+37*(y-1)}function N(A,P,C){for(var y,M=~(C-1),ne=0;ne<16;ne++)y=M&(A[ne]^P[ne]),A[ne]^=y,P[ne]^=y}function H(A,P){var C,y,M,ne=n(),Q=n();for(C=0;C<16;C++)Q[C]=P[C];for(I(Q),I(Q),I(Q),y=0;y<2;y++){for(ne[0]=Q[0]-65517,C=1;C<15;C++)ne[C]=Q[C]-65535-(ne[C-1]>>16&1),ne[C-1]&=65535;ne[15]=Q[15]-32767-(ne[14]>>16&1),M=ne[15]>>16&1,ne[14]&=65535,N(Q,ne,1-M)}for(C=0;C<16;C++)A[2*C]=Q[C]&255,A[2*C+1]=Q[C]>>8}function X(A,P){var C=new Uint8Array(32),y=new Uint8Array(32);return H(C,A),H(y,P),k(C,0,y,0)}function O(A){var P=new Uint8Array(32);return H(P,A),P[0]&1}function _(A,P){var C;for(C=0;C<16;C++)A[C]=P[2*C]+(P[2*C+1]<<8);A[15]&=32767}function q(A,P,C){for(var y=0;y<16;y++)A[y]=P[y]+C[y]}function ye(A,P,C){for(var y=0;y<16;y++)A[y]=P[y]-C[y]}function _e(A,P,C){var y,M,ne=0,Q=0,de=0,ve=0,Ae=0,xe=0,$t=0,Oe=0,Je=0,Qe=0,ot=0,it=0,et=0,nt=0,tt=0,Ue=0,ze=0,Pe=0,Me=0,De=0,$e=0,ae=0,ce=0,me=0,fe=0,ge=0,be=0,Xe=0,mt=0,vt=0,wt=0,K=C[0],Bt=C[1],Lt=C[2],Ht=C[3],Tt=C[4],qt=C[5],Dt=C[6],Un=C[7],sn=C[8],Rn=C[9],$n=C[10],Pn=C[11],jn=C[12],gr=C[13],yr=C[14],mr=C[15];y=P[0],ne+=y*K,Q+=y*Bt,de+=y*Lt,ve+=y*Ht,Ae+=y*Tt,xe+=y*qt,$t+=y*Dt,Oe+=y*Un,Je+=y*sn,Qe+=y*Rn,ot+=y*$n,it+=y*Pn,et+=y*jn,nt+=y*gr,tt+=y*yr,Ue+=y*mr,y=P[1],Q+=y*K,de+=y*Bt,ve+=y*Lt,Ae+=y*Ht,xe+=y*Tt,$t+=y*qt,Oe+=y*Dt,Je+=y*Un,Qe+=y*sn,ot+=y*Rn,it+=y*$n,et+=y*Pn,nt+=y*jn,tt+=y*gr,Ue+=y*yr,ze+=y*mr,y=P[2],de+=y*K,ve+=y*Bt,Ae+=y*Lt,xe+=y*Ht,$t+=y*Tt,Oe+=y*qt,Je+=y*Dt,Qe+=y*Un,ot+=y*sn,it+=y*Rn,et+=y*$n,nt+=y*Pn,tt+=y*jn,Ue+=y*gr,ze+=y*yr,Pe+=y*mr,y=P[3],ve+=y*K,Ae+=y*Bt,xe+=y*Lt,$t+=y*Ht,Oe+=y*Tt,Je+=y*qt,Qe+=y*Dt,ot+=y*Un,it+=y*sn,et+=y*Rn,nt+=y*$n,tt+=y*Pn,Ue+=y*jn,ze+=y*gr,Pe+=y*yr,Me+=y*mr,y=P[4],Ae+=y*K,xe+=y*Bt,$t+=y*Lt,Oe+=y*Ht,Je+=y*Tt,Qe+=y*qt,ot+=y*Dt,it+=y*Un,et+=y*sn,nt+=y*Rn,tt+=y*$n,Ue+=y*Pn,ze+=y*jn,Pe+=y*gr,Me+=y*yr,De+=y*mr,y=P[5],xe+=y*K,$t+=y*Bt,Oe+=y*Lt,Je+=y*Ht,Qe+=y*Tt,ot+=y*qt,it+=y*Dt,et+=y*Un,nt+=y*sn,tt+=y*Rn,Ue+=y*$n,ze+=y*Pn,Pe+=y*jn,Me+=y*gr,De+=y*yr,$e+=y*mr,y=P[6],$t+=y*K,Oe+=y*Bt,Je+=y*Lt,Qe+=y*Ht,ot+=y*Tt,it+=y*qt,et+=y*Dt,nt+=y*Un,tt+=y*sn,Ue+=y*Rn,ze+=y*$n,Pe+=y*Pn,Me+=y*jn,De+=y*gr,$e+=y*yr,ae+=y*mr,y=P[7],Oe+=y*K,Je+=y*Bt,Qe+=y*Lt,ot+=y*Ht,it+=y*Tt,et+=y*qt,nt+=y*Dt,tt+=y*Un,Ue+=y*sn,ze+=y*Rn,Pe+=y*$n,Me+=y*Pn,De+=y*jn,$e+=y*gr,ae+=y*yr,ce+=y*mr,y=P[8],Je+=y*K,Qe+=y*Bt,ot+=y*Lt,it+=y*Ht,et+=y*Tt,nt+=y*qt,tt+=y*Dt,Ue+=y*Un,ze+=y*sn,Pe+=y*Rn,Me+=y*$n,De+=y*Pn,$e+=y*jn,ae+=y*gr,ce+=y*yr,me+=y*mr,y=P[9],Qe+=y*K,ot+=y*Bt,it+=y*Lt,et+=y*Ht,nt+=y*Tt,tt+=y*qt,Ue+=y*Dt,ze+=y*Un,Pe+=y*sn,Me+=y*Rn,De+=y*$n,$e+=y*Pn,ae+=y*jn,ce+=y*gr,me+=y*yr,fe+=y*mr,y=P[10],ot+=y*K,it+=y*Bt,et+=y*Lt,nt+=y*Ht,tt+=y*Tt,Ue+=y*qt,ze+=y*Dt,Pe+=y*Un,Me+=y*sn,De+=y*Rn,$e+=y*$n,ae+=y*Pn,ce+=y*jn,me+=y*gr,fe+=y*yr,ge+=y*mr,y=P[11],it+=y*K,et+=y*Bt,nt+=y*Lt,tt+=y*Ht,Ue+=y*Tt,ze+=y*qt,Pe+=y*Dt,Me+=y*Un,De+=y*sn,$e+=y*Rn,ae+=y*$n,ce+=y*Pn,me+=y*jn,fe+=y*gr,ge+=y*yr,be+=y*mr,y=P[12],et+=y*K,nt+=y*Bt,tt+=y*Lt,Ue+=y*Ht,ze+=y*Tt,Pe+=y*qt,Me+=y*Dt,De+=y*Un,$e+=y*sn,ae+=y*Rn,ce+=y*$n,me+=y*Pn,fe+=y*jn,ge+=y*gr,be+=y*yr,Xe+=y*mr,y=P[13],nt+=y*K,tt+=y*Bt,Ue+=y*Lt,ze+=y*Ht,Pe+=y*Tt,Me+=y*qt,De+=y*Dt,$e+=y*Un,ae+=y*sn,ce+=y*Rn,me+=y*$n,fe+=y*Pn,ge+=y*jn,be+=y*gr,Xe+=y*yr,mt+=y*mr,y=P[14],tt+=y*K,Ue+=y*Bt,ze+=y*Lt,Pe+=y*Ht,Me+=y*Tt,De+=y*qt,$e+=y*Dt,ae+=y*Un,ce+=y*sn,me+=y*Rn,fe+=y*$n,ge+=y*Pn,be+=y*jn,Xe+=y*gr,mt+=y*yr,vt+=y*mr,y=P[15],Ue+=y*K,ze+=y*Bt,Pe+=y*Lt,Me+=y*Ht,De+=y*Tt,$e+=y*qt,ae+=y*Dt,ce+=y*Un,me+=y*sn,fe+=y*Rn,ge+=y*$n,be+=y*Pn,Xe+=y*jn,mt+=y*gr,vt+=y*yr,wt+=y*mr,ne+=38*ze,Q+=38*Pe,de+=38*Me,ve+=38*De,Ae+=38*$e,xe+=38*ae,$t+=38*ce,Oe+=38*me,Je+=38*fe,Qe+=38*ge,ot+=38*be,it+=38*Xe,et+=38*mt,nt+=38*vt,tt+=38*wt,M=1,y=ne+M+65535,M=Math.floor(y/65536),ne=y-M*65536,y=Q+M+65535,M=Math.floor(y/65536),Q=y-M*65536,y=de+M+65535,M=Math.floor(y/65536),de=y-M*65536,y=ve+M+65535,M=Math.floor(y/65536),ve=y-M*65536,y=Ae+M+65535,M=Math.floor(y/65536),Ae=y-M*65536,y=xe+M+65535,M=Math.floor(y/65536),xe=y-M*65536,y=$t+M+65535,M=Math.floor(y/65536),$t=y-M*65536,y=Oe+M+65535,M=Math.floor(y/65536),Oe=y-M*65536,y=Je+M+65535,M=Math.floor(y/65536),Je=y-M*65536,y=Qe+M+65535,M=Math.floor(y/65536),Qe=y-M*65536,y=ot+M+65535,M=Math.floor(y/65536),ot=y-M*65536,y=it+M+65535,M=Math.floor(y/65536),it=y-M*65536,y=et+M+65535,M=Math.floor(y/65536),et=y-M*65536,y=nt+M+65535,M=Math.floor(y/65536),nt=y-M*65536,y=tt+M+65535,M=Math.floor(y/65536),tt=y-M*65536,y=Ue+M+65535,M=Math.floor(y/65536),Ue=y-M*65536,ne+=M-1+37*(M-1),M=1,y=ne+M+65535,M=Math.floor(y/65536),ne=y-M*65536,y=Q+M+65535,M=Math.floor(y/65536),Q=y-M*65536,y=de+M+65535,M=Math.floor(y/65536),de=y-M*65536,y=ve+M+65535,M=Math.floor(y/65536),ve=y-M*65536,y=Ae+M+65535,M=Math.floor(y/65536),Ae=y-M*65536,y=xe+M+65535,M=Math.floor(y/65536),xe=y-M*65536,y=$t+M+65535,M=Math.floor(y/65536),$t=y-M*65536,y=Oe+M+65535,M=Math.floor(y/65536),Oe=y-M*65536,y=Je+M+65535,M=Math.floor(y/65536),Je=y-M*65536,y=Qe+M+65535,M=Math.floor(y/65536),Qe=y-M*65536,y=ot+M+65535,M=Math.floor(y/65536),ot=y-M*65536,y=it+M+65535,M=Math.floor(y/65536),it=y-M*65536,y=et+M+65535,M=Math.floor(y/65536),et=y-M*65536,y=nt+M+65535,M=Math.floor(y/65536),nt=y-M*65536,y=tt+M+65535,M=Math.floor(y/65536),tt=y-M*65536,y=Ue+M+65535,M=Math.floor(y/65536),Ue=y-M*65536,ne+=M-1+37*(M-1),A[0]=ne,A[1]=Q,A[2]=de,A[3]=ve,A[4]=Ae,A[5]=xe,A[6]=$t,A[7]=Oe,A[8]=Je,A[9]=Qe,A[10]=ot,A[11]=it,A[12]=et,A[13]=nt,A[14]=tt,A[15]=Ue}function Ie(A,P){_e(A,P,P)}function pt(A,P){var C=n(),y;for(y=0;y<16;y++)C[y]=P[y];for(y=253;y>=0;y--)Ie(C,C),y!==2&&y!==4&&_e(C,C,P);for(y=0;y<16;y++)A[y]=C[y]}function te(A,P){var C=n(),y;for(y=0;y<16;y++)C[y]=P[y];for(y=250;y>=0;y--)Ie(C,C),y!==1&&_e(C,C,P);for(y=0;y<16;y++)A[y]=C[y]}function F(A,P,C){var y=new Uint8Array(32),M=new Float64Array(80),ne,Q,de=n(),ve=n(),Ae=n(),xe=n(),$t=n(),Oe=n();for(Q=0;Q<31;Q++)y[Q]=P[Q];for(y[31]=P[31]&127|64,y[0]&=248,_(M,C),Q=0;Q<16;Q++)ve[Q]=M[Q],xe[Q]=de[Q]=Ae[Q]=0;for(de[0]=xe[0]=1,Q=254;Q>=0;--Q)ne=y[Q>>>3]>>>(Q&7)&1,N(de,ve,ne),N(Ae,xe,ne),q($t,de,Ae),ye(de,de,Ae),q(Ae,ve,xe),ye(ve,ve,xe),Ie(xe,$t),Ie(Oe,de),_e(de,Ae,de),_e(Ae,ve,$t),q($t,de,Ae),ye(de,de,Ae),Ie(ve,de),ye(Ae,xe,Oe),_e(de,Ae,c),q(de,de,xe),_e(Ae,Ae,de),_e(de,xe,Oe),_e(xe,ve,M),Ie(ve,$t),N(de,ve,ne),N(Ae,xe,ne);for(Q=0;Q<16;Q++)M[Q+16]=de[Q],M[Q+32]=Ae[Q],M[Q+48]=ve[Q],M[Q+64]=xe[Q];var Je=M.subarray(32),Qe=M.subarray(16);return pt(Je,Je),_e(Qe,Qe,Je),H(A,Qe),0}function Y(A,P){return F(A,P,s)}function ee(A,P){return r(P,32),Y(A,P)}function ie(A,P,C){var y=new Uint8Array(32);return F(y,C,P),T(A,i,y,$)}var le=h,oe=g;function pe(A,P,C,y,M,ne){var Q=new Uint8Array(32);return ie(Q,M,ne),le(A,P,C,y,Q)}function Ee(A,P,C,y,M,ne){var Q=new Uint8Array(32);return ie(Q,M,ne),oe(A,P,C,y,Q)}var Re=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Te(A,P,C,y){for(var M=new Int32Array(16),ne=new Int32Array(16),Q,de,ve,Ae,xe,$t,Oe,Je,Qe,ot,it,et,nt,tt,Ue,ze,Pe,Me,De,$e,ae,ce,me,fe,ge,be,Xe=A[0],mt=A[1],vt=A[2],wt=A[3],K=A[4],Bt=A[5],Lt=A[6],Ht=A[7],Tt=P[0],qt=P[1],Dt=P[2],Un=P[3],sn=P[4],Rn=P[5],$n=P[6],Pn=P[7],jn=0;y>=128;){for(De=0;De<16;De++)$e=8*De+jn,M[De]=C[$e+0]<<24|C[$e+1]<<16|C[$e+2]<<8|C[$e+3],ne[De]=C[$e+4]<<24|C[$e+5]<<16|C[$e+6]<<8|C[$e+7];for(De=0;De<80;De++)if(Q=Xe,de=mt,ve=vt,Ae=wt,xe=K,$t=Bt,Oe=Lt,Je=Ht,Qe=Tt,ot=qt,it=Dt,et=Un,nt=sn,tt=Rn,Ue=$n,ze=Pn,ae=Ht,ce=Pn,me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=(K>>>14|sn<<32-14)^(K>>>18|sn<<32-18)^(sn>>>41-32|K<<32-(41-32)),ce=(sn>>>14|K<<32-14)^(sn>>>18|K<<32-18)^(K>>>41-32|sn<<32-(41-32)),me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,ae=K&Bt^~K&Lt,ce=sn&Rn^~sn&$n,me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,ae=Re[De*2],ce=Re[De*2+1],me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,ae=M[De%16],ce=ne[De%16],me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,Pe=ge&65535|be<<16,Me=me&65535|fe<<16,ae=Pe,ce=Me,me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=(Xe>>>28|Tt<<32-28)^(Tt>>>34-32|Xe<<32-(34-32))^(Tt>>>39-32|Xe<<32-(39-32)),ce=(Tt>>>28|Xe<<32-28)^(Xe>>>34-32|Tt<<32-(34-32))^(Xe>>>39-32|Tt<<32-(39-32)),me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,ae=Xe&mt^Xe&vt^mt&vt,ce=Tt&qt^Tt&Dt^qt&Dt,me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,Je=ge&65535|be<<16,ze=me&65535|fe<<16,ae=Ae,ce=et,me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=Pe,ce=Me,me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,Ae=ge&65535|be<<16,et=me&65535|fe<<16,mt=Q,vt=de,wt=ve,K=Ae,Bt=xe,Lt=$t,Ht=Oe,Xe=Je,qt=Qe,Dt=ot,Un=it,sn=et,Rn=nt,$n=tt,Pn=Ue,Tt=ze,De%16===15)for($e=0;$e<16;$e++)ae=M[$e],ce=ne[$e],me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=M[($e+9)%16],ce=ne[($e+9)%16],me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,Pe=M[($e+1)%16],Me=ne[($e+1)%16],ae=(Pe>>>1|Me<<32-1)^(Pe>>>8|Me<<32-8)^Pe>>>7,ce=(Me>>>1|Pe<<32-1)^(Me>>>8|Pe<<32-8)^(Me>>>7|Pe<<32-7),me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,Pe=M[($e+14)%16],Me=ne[($e+14)%16],ae=(Pe>>>19|Me<<32-19)^(Me>>>61-32|Pe<<32-(61-32))^Pe>>>6,ce=(Me>>>19|Pe<<32-19)^(Pe>>>61-32|Me<<32-(61-32))^(Me>>>6|Pe<<32-6),me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,M[$e]=ge&65535|be<<16,ne[$e]=me&65535|fe<<16;ae=Xe,ce=Tt,me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=A[0],ce=P[0],me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,A[0]=Xe=ge&65535|be<<16,P[0]=Tt=me&65535|fe<<16,ae=mt,ce=qt,me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=A[1],ce=P[1],me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,A[1]=mt=ge&65535|be<<16,P[1]=qt=me&65535|fe<<16,ae=vt,ce=Dt,me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=A[2],ce=P[2],me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,A[2]=vt=ge&65535|be<<16,P[2]=Dt=me&65535|fe<<16,ae=wt,ce=Un,me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=A[3],ce=P[3],me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,A[3]=wt=ge&65535|be<<16,P[3]=Un=me&65535|fe<<16,ae=K,ce=sn,me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=A[4],ce=P[4],me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,A[4]=K=ge&65535|be<<16,P[4]=sn=me&65535|fe<<16,ae=Bt,ce=Rn,me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=A[5],ce=P[5],me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,A[5]=Bt=ge&65535|be<<16,P[5]=Rn=me&65535|fe<<16,ae=Lt,ce=$n,me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=A[6],ce=P[6],me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,A[6]=Lt=ge&65535|be<<16,P[6]=$n=me&65535|fe<<16,ae=Ht,ce=Pn,me=ce&65535,fe=ce>>>16,ge=ae&65535,be=ae>>>16,ae=A[7],ce=P[7],me+=ce&65535,fe+=ce>>>16,ge+=ae&65535,be+=ae>>>16,fe+=me>>>16,ge+=fe>>>16,be+=ge>>>16,A[7]=Ht=ge&65535|be<<16,P[7]=Pn=me&65535|fe<<16,jn+=128,y-=128}return y}function Fe(A,P,C){var y=new Int32Array(8),M=new Int32Array(8),ne=new Uint8Array(256),Q,de=C;for(y[0]=1779033703,y[1]=3144134277,y[2]=1013904242,y[3]=2773480762,y[4]=1359893119,y[5]=2600822924,y[6]=528734635,y[7]=1541459225,M[0]=4089235720,M[1]=2227873595,M[2]=4271175723,M[3]=1595750129,M[4]=2917565137,M[5]=725511199,M[6]=4215389547,M[7]=327033209,Te(y,M,P,C),C%=128,Q=0;Q<C;Q++)ne[Q]=P[de-C+Q];for(ne[C]=128,C=256-128*(C<112?1:0),ne[C-9]=0,w(ne,C-8,de/536870912|0,de<<3),Te(y,M,ne,C),Q=0;Q<8;Q++)w(A,8*Q,y[Q],M[Q]);return 0}function Se(A,P){var C=n(),y=n(),M=n(),ne=n(),Q=n(),de=n(),ve=n(),Ae=n(),xe=n();ye(C,A[1],A[0]),ye(xe,P[1],P[0]),_e(C,C,xe),q(y,A[0],A[1]),q(xe,P[0],P[1]),_e(y,y,xe),_e(M,A[3],P[3]),_e(M,M,l),_e(ne,A[2],P[2]),q(ne,ne,ne),ye(Q,y,C),ye(de,ne,M),q(ve,ne,M),q(Ae,y,C),_e(A[0],Q,de),_e(A[1],Ae,ve),_e(A[2],ve,de),_e(A[3],Q,Ae)}function ke(A,P,C){var y;for(y=0;y<4;y++)N(A[y],P[y],C)}function Ze(A,P){var C=n(),y=n(),M=n();pt(M,P[2]),_e(C,P[0],M),_e(y,P[1],M),H(A,y),A[31]^=O(C)<<7}function qe(A,P,C){var y,M;for(S(A[0],o),S(A[1],a),S(A[2],a),S(A[3],o),M=255;M>=0;--M)y=C[M/8|0]>>(M&7)&1,ke(A,P,y),Se(P,A),Se(A,A),ke(A,P,y)}function He(A,P){var C=[n(),n(),n(),n()];S(C[0],d),S(C[1],f),S(C[2],a),_e(C[3],d,f),qe(A,C,P)}function an(A,P,C){var y=new Uint8Array(64),M=[n(),n(),n(),n()],ne;for(C||r(P,32),Fe(y,P,32),y[0]&=248,y[31]&=127,y[31]|=64,He(M,y),Ze(A,M),ne=0;ne<32;ne++)P[ne+32]=A[ne];return 0}var ct=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function St(A,P){var C,y,M,ne;for(y=63;y>=32;--y){for(C=0,M=y-32,ne=y-12;M<ne;++M)P[M]+=C-16*P[y]*ct[M-(y-32)],C=Math.floor((P[M]+128)/256),P[M]-=C*256;P[M]+=C,P[y]=0}for(C=0,M=0;M<32;M++)P[M]+=C-(P[31]>>4)*ct[M],C=P[M]>>8,P[M]&=255;for(M=0;M<32;M++)P[M]-=C*ct[M];for(y=0;y<32;y++)P[y+1]+=P[y]>>8,A[y]=P[y]&255}function _n(A){var P=new Float64Array(64),C;for(C=0;C<64;C++)P[C]=A[C];for(C=0;C<64;C++)A[C]=0;St(A,P)}function yt(A,P,C,y){var M=new Uint8Array(64),ne=new Uint8Array(64),Q=new Uint8Array(64),de,ve,Ae=new Float64Array(64),xe=[n(),n(),n(),n()];Fe(M,y,32),M[0]&=248,M[31]&=127,M[31]|=64;var $t=C+64;for(de=0;de<C;de++)A[64+de]=P[de];for(de=0;de<32;de++)A[32+de]=M[32+de];for(Fe(Q,A.subarray(32),C+32),_n(Q),He(xe,Q),Ze(A,xe),de=32;de<64;de++)A[de]=y[de];for(Fe(ne,A,C+64),_n(ne),de=0;de<64;de++)Ae[de]=0;for(de=0;de<32;de++)Ae[de]=Q[de];for(de=0;de<32;de++)for(ve=0;ve<32;ve++)Ae[de+ve]+=ne[de]*M[ve];return St(A.subarray(32),Ae),$t}function Mt(A,P){var C=n(),y=n(),M=n(),ne=n(),Q=n(),de=n(),ve=n();return S(A[2],a),_(A[1],P),Ie(M,A[1]),_e(ne,M,u),ye(M,M,A[2]),q(ne,A[2],ne),Ie(Q,ne),Ie(de,Q),_e(ve,de,Q),_e(C,ve,M),_e(C,C,ne),te(C,C),_e(C,C,M),_e(C,C,ne),_e(C,C,ne),_e(A[0],C,ne),Ie(y,A[0]),_e(y,y,ne),X(y,M)&&_e(A[0],A[0],p),Ie(y,A[0]),_e(y,y,ne),X(y,M)?-1:(O(A[0])===P[31]>>7&&ye(A[0],o,A[0]),_e(A[3],A[0],A[1]),0)}function Ti(A,P,C,y){var M,ne=new Uint8Array(32),Q=new Uint8Array(64),de=[n(),n(),n(),n()],ve=[n(),n(),n(),n()];if(C<64||Mt(ve,y))return-1;for(M=0;M<C;M++)A[M]=P[M];for(M=0;M<32;M++)A[M+32]=y[M];if(Fe(Q,A,C),_n(Q),qe(de,ve,Q),He(ve,P.subarray(32)),Se(de,ve),Ze(ne,de),C-=64,k(P,0,ne,0)){for(M=0;M<C;M++)A[M]=0;return-1}for(M=0;M<C;M++)A[M]=P[M+64];return C}var rn=32,cn=24,Ai=32,Kt=16,jt=32,co=32,pn=32,gn=32,oa=32,Sn=cn,Bn=Ai,ol=Kt,Xt=64,un=32,Ji=64,bn=32,vn=64;e.lowlevel={crypto_core_hsalsa20:T,crypto_stream_xor:Z,crypto_stream:J,crypto_stream_salsa20_xor:L,crypto_stream_salsa20:z,crypto_onetimeauth:D,crypto_onetimeauth_verify:B,crypto_verify_16:v,crypto_verify_32:k,crypto_secretbox:h,crypto_secretbox_open:g,crypto_scalarmult:F,crypto_scalarmult_base:Y,crypto_box_beforenm:ie,crypto_box_afternm:le,crypto_box:pe,crypto_box_open:Ee,crypto_box_keypair:ee,crypto_hash:Fe,crypto_sign:yt,crypto_sign_keypair:an,crypto_sign_open:Ti,crypto_secretbox_KEYBYTES:rn,crypto_secretbox_NONCEBYTES:cn,crypto_secretbox_ZEROBYTES:Ai,crypto_secretbox_BOXZEROBYTES:Kt,crypto_scalarmult_BYTES:jt,crypto_scalarmult_SCALARBYTES:co,crypto_box_PUBLICKEYBYTES:pn,crypto_box_SECRETKEYBYTES:gn,crypto_box_BEFORENMBYTES:oa,crypto_box_NONCEBYTES:Sn,crypto_box_ZEROBYTES:Bn,crypto_box_BOXZEROBYTES:ol,crypto_sign_BYTES:Xt,crypto_sign_PUBLICKEYBYTES:un,crypto_sign_SECRETKEYBYTES:Ji,crypto_sign_SEEDBYTES:bn,crypto_hash_BYTES:vn,gf:n,D:u,L:ct,pack25519:H,unpack25519:_,M:_e,A:q,S:Ie,Z:ye,pow2523:te,add:Se,set25519:S,modL:St,scalarmult:qe,scalarbase:He};function Pc(A,P){if(A.length!==rn)throw new Error("bad key size");if(P.length!==cn)throw new Error("bad nonce size")}function In(A,P){if(A.length!==pn)throw new Error("bad public key size");if(P.length!==gn)throw new Error("bad secret key size")}function Nt(){for(var A=0;A<arguments.length;A++)if(!(arguments[A]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Cc(A){for(var P=0;P<A.length;P++)A[P]=0}e.randomBytes=function(A){var P=new Uint8Array(A);return r(P,A),P},e.secretbox=function(A,P,C){Nt(A,P,C),Pc(C,P);for(var y=new Uint8Array(Ai+A.length),M=new Uint8Array(y.length),ne=0;ne<A.length;ne++)y[ne+Ai]=A[ne];return h(M,y,y.length,P,C),M.subarray(Kt)},e.secretbox.open=function(A,P,C){Nt(A,P,C),Pc(C,P);for(var y=new Uint8Array(Kt+A.length),M=new Uint8Array(y.length),ne=0;ne<A.length;ne++)y[ne+Kt]=A[ne];return y.length<32||g(M,y,y.length,P,C)!==0?null:M.subarray(Ai)},e.secretbox.keyLength=rn,e.secretbox.nonceLength=cn,e.secretbox.overheadLength=Kt,e.scalarMult=function(A,P){if(Nt(A,P),A.length!==co)throw new Error("bad n size");if(P.length!==jt)throw new Error("bad p size");var C=new Uint8Array(jt);return F(C,A,P),C},e.scalarMult.base=function(A){if(Nt(A),A.length!==co)throw new Error("bad n size");var P=new Uint8Array(jt);return Y(P,A),P},e.scalarMult.scalarLength=co,e.scalarMult.groupElementLength=jt,e.box=function(A,P,C,y){var M=e.box.before(C,y);return e.secretbox(A,P,M)},e.box.before=function(A,P){Nt(A,P),In(A,P);var C=new Uint8Array(oa);return ie(C,A,P),C},e.box.after=e.secretbox,e.box.open=function(A,P,C,y){var M=e.box.before(C,y);return e.secretbox.open(A,P,M)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var A=new Uint8Array(pn),P=new Uint8Array(gn);return ee(A,P),{publicKey:A,secretKey:P}},e.box.keyPair.fromSecretKey=function(A){if(Nt(A),A.length!==gn)throw new Error("bad secret key size");var P=new Uint8Array(pn);return Y(P,A),{publicKey:P,secretKey:new Uint8Array(A)}},e.box.publicKeyLength=pn,e.box.secretKeyLength=gn,e.box.sharedKeyLength=oa,e.box.nonceLength=Sn,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(A,P){if(Nt(A,P),P.length!==Ji)throw new Error("bad secret key size");var C=new Uint8Array(Xt+A.length);return yt(C,A,A.length,P),C},e.sign.open=function(A,P){if(Nt(A,P),P.length!==un)throw new Error("bad public key size");var C=new Uint8Array(A.length),y=Ti(C,A,A.length,P);if(y<0)return null;for(var M=new Uint8Array(y),ne=0;ne<M.length;ne++)M[ne]=C[ne];return M},e.sign.detached=function(A,P){for(var C=e.sign(A,P),y=new Uint8Array(Xt),M=0;M<y.length;M++)y[M]=C[M];return y},e.sign.detached.verify=function(A,P,C){if(Nt(A,P,C),P.length!==Xt)throw new Error("bad signature size");if(C.length!==un)throw new Error("bad public key size");var y=new Uint8Array(Xt+A.length),M=new Uint8Array(Xt+A.length),ne;for(ne=0;ne<Xt;ne++)y[ne]=P[ne];for(ne=0;ne<A.length;ne++)y[ne+Xt]=A[ne];return Ti(M,y,y.length,C)>=0},e.sign.keyPair=function(){var A=new Uint8Array(un),P=new Uint8Array(Ji);return an(A,P),{publicKey:A,secretKey:P}},e.sign.keyPair.fromSecretKey=function(A){if(Nt(A),A.length!==Ji)throw new Error("bad secret key size");for(var P=new Uint8Array(un),C=0;C<P.length;C++)P[C]=A[32+C];return{publicKey:P,secretKey:new Uint8Array(A)}},e.sign.keyPair.fromSeed=function(A){if(Nt(A),A.length!==bn)throw new Error("bad seed size");for(var P=new Uint8Array(un),C=new Uint8Array(Ji),y=0;y<32;y++)C[y]=A[y];return an(P,C,!0),{publicKey:P,secretKey:C}},e.sign.publicKeyLength=un,e.sign.secretKeyLength=Ji,e.sign.seedLength=bn,e.sign.signatureLength=Xt,e.hash=function(A){Nt(A);var P=new Uint8Array(vn);return Fe(P,A,A.length),P},e.hash.hashLength=vn,e.verify=function(A,P){return Nt(A,P),A.length===0||P.length===0||A.length!==P.length?!1:m(A,0,P,0,A.length)===0},e.setPRNG=function(A){r=A},function(){var A=typeof self<"u"?self.crypto||self.msCrypto:null;if(A&&A.getRandomValues){var P=65536;e.setPRNG(function(C,y){var M,ne=new Uint8Array(y);for(M=0;M<y;M+=P)A.getRandomValues(ne.subarray(M,M+Math.min(y-M,P)));for(M=0;M<y;M++)C[M]=ne[M];Cc(ne)})}else typeof Qm<"u"&&(A=pp,A&&A.randomBytes&&e.setPRNG(function(C,y){var M,ne=A.randomBytes(y);for(M=0;M<y;M++)C[M]=ne[M];Cc(ne)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(hx);var zr={},Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.output=Jn.exists=Jn.hash=Jn.bytes=Jn.bool=Jn.number=void 0;function ld(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Jn.number=ld;function tw(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Jn.bool=tw;function gp(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Jn.bytes=gp;function nw(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ld(t.outputLen),ld(t.blockLen)}Jn.hash=nw;function rw(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Jn.exists=rw;function iw(t,e){gp(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Jn.output=iw;const gx={number:ld,bool:tw,bytes:gp,hash:nw,exists:rw,output:iw};Jn.default=gx;var La={},sw={},Ho={},Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});Xd.crypto=void 0;Xd.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=Xd,n=x=>new Uint8Array(x.buffer,x.byteOffset,x.byteLength);t.u8=n;const r=x=>new Uint32Array(x.buffer,x.byteOffset,Math.floor(x.byteLength/4));t.u32=r;const i=x=>new DataView(x.buffer,x.byteOffset,x.byteLength);t.createView=i;const s=(x,T)=>x<<32-T|x>>>T;if(t.rotr=s,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(x,T)=>T.toString(16).padStart(2,"0"));function a(x){if(!(x instanceof Uint8Array))throw new Error("Uint8Array expected");let T="";for(let $=0;$<x.length;$++)T+=o[x[$]];return T}t.bytesToHex=a;function c(x){if(typeof x!="string")throw new TypeError("hexToBytes: expected string, got "+typeof x);if(x.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const T=new Uint8Array(x.length/2);for(let $=0;$<T.length;$++){const L=$*2,z=x.slice(L,L+2),J=Number.parseInt(z,16);if(Number.isNaN(J)||J<0)throw new Error("Invalid byte sequence");T[$]=J}return T}t.hexToBytes=c;const u=async()=>{};t.nextTick=u;async function l(x,T,$){let L=Date.now();for(let z=0;z<x;z++){$(z);const J=Date.now()-L;J>=0&&J<T||(await(0,t.nextTick)(),L+=J)}}t.asyncLoop=l;function d(x){if(typeof x!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof x}`);return new TextEncoder().encode(x)}t.utf8ToBytes=d;function f(x){if(typeof x=="string"&&(x=d(x)),!(x instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof x})`);return x}t.toBytes=f;function p(...x){if(!x.every(L=>L instanceof Uint8Array))throw new Error("Uint8Array list expected");if(x.length===1)return x[0];const T=x.reduce((L,z)=>L+z.length,0),$=new Uint8Array(T);for(let L=0,z=0;L<x.length;L++){const J=x[L];$.set(J,z),z+=J.length}return $}t.concatBytes=p;class w{clone(){return this._cloneInto()}}t.Hash=w;const m=x=>Object.prototype.toString.call(x)==="[object Object]"&&x.constructor===Object;function v(x,T){if(T!==void 0&&(typeof T!="object"||!m(T)))throw new TypeError("Options should be object or undefined");return Object.assign(x,T)}t.checkOpts=v;function k(x){const T=L=>x().update(f(L)).digest(),$=x();return T.outputLen=$.outputLen,T.blockLen=$.blockLen,T.create=()=>x(),T}t.wrapConstructor=k;function E(x){const T=(L,z)=>x(z).update(f(L)).digest(),$=x({});return T.outputLen=$.outputLen,T.blockLen=$.blockLen,T.create=L=>x(L),T}t.wrapConstructorWithOpts=E;function b(x=32){if(e.crypto.web)return e.crypto.web.getRandomValues(new Uint8Array(x));if(e.crypto.node)return new Uint8Array(e.crypto.node.randomBytes(x).buffer);throw new Error("The environment doesn't have randomBytes function")}t.randomBytes=b})(Ho);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const e=Jn,n=Ho;class r extends n.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,e.default.hash(o);const c=(0,n.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let d=0;d<l.length;d++)l[d]^=54;this.iHash.update(l),this.oHash=o.create();for(let d=0;d<l.length;d++)l[d]^=106;this.oHash.update(l),l.fill(0)}update(o){return e.default.exists(this),this.iHash.update(o),this}digestInto(o){e.default.exists(this),e.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:d,outputLen:f}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=d,o.outputLen=f,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i=(s,o,a)=>new r(s,o).update(a).digest();t.hmac=i,t.hmac.create=(s,o)=>new r(s,o)})(sw);Object.defineProperty(La,"__esModule",{value:!0});La.pbkdf2Async=La.pbkdf2=void 0;const al=Jn,yx=sw,ka=Ho;function ow(t,e,n,r){al.default.hash(t);const i=(0,ka.checkOpts)({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(al.default.number(s),al.default.number(o),al.default.number(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,ka.toBytes)(e),u=(0,ka.toBytes)(n),l=new Uint8Array(o),d=yx.hmac.create(t,c),f=d._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:d,PRFSalt:f}}function aw(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function mx(t,e,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=ow(t,e,n,r);let u;const l=new Uint8Array(4),d=(0,ka.createView)(l),f=new Uint8Array(a.outputLen);for(let p=1,w=0;w<s;p++,w+=a.outputLen){const m=o.subarray(w,w+a.outputLen);d.setInt32(0,p,!1),(u=c._cloneInto(u)).update(l).digestInto(f),m.set(f.subarray(0,m.length));for(let v=1;v<i;v++){a._cloneInto(u).update(f).digestInto(f);for(let k=0;k<m.length;k++)m[k]^=f[k]}}return aw(a,c,o,u,f)}La.pbkdf2=mx;async function wx(t,e,n,r){const{c:i,dkLen:s,asyncTick:o,DK:a,PRF:c,PRFSalt:u}=ow(t,e,n,r);let l;const d=new Uint8Array(4),f=(0,ka.createView)(d),p=new Uint8Array(c.outputLen);for(let w=1,m=0;m<s;w++,m+=c.outputLen){const v=a.subarray(m,m+c.outputLen);f.setInt32(0,w,!1),(l=u._cloneInto(l)).update(d).digestInto(p),v.set(p.subarray(0,v.length)),await(0,ka.asyncLoop)(i-1,o,k=>{c._cloneInto(l).update(p).digestInto(p);for(let E=0;E<v.length;E++)v[E]^=p[E]})}return aw(c,u,a,l,p)}La.pbkdf2Async=wx;var Ha={},Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.SHA2=void 0;const v0=Jn,Oc=Ho;function _x(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let bx=class extends Oc.Hash{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Oc.createView)(this.buffer)}update(e){v0.default.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=(0,Oc.toBytes)(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=(0,Oc.createView)(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){v0.default.exists(this),v0.default.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;_x(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=(0,Oc.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};Pu.SHA2=bx;Object.defineProperty(Ha,"__esModule",{value:!0});Ha.sha224=Ha.sha256=void 0;const vx=Pu,ci=Ho,xx=(t,e,n)=>t&e^~t&n,Sx=(t,e,n)=>t&e^t&n^e&n,Tx=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ps=new Uint32Array(64);let cw=class extends vx.SHA2{constructor(){super(64,32,8,!1),this.A=hs[0]|0,this.B=hs[1]|0,this.C=hs[2]|0,this.D=hs[3]|0,this.E=hs[4]|0,this.F=hs[5]|0,this.G=hs[6]|0,this.H=hs[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ps[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=ps[d-15],p=ps[d-2],w=(0,ci.rotr)(f,7)^(0,ci.rotr)(f,18)^f>>>3,m=(0,ci.rotr)(p,17)^(0,ci.rotr)(p,19)^p>>>10;ps[d]=m+ps[d-7]+w+ps[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=(0,ci.rotr)(a,6)^(0,ci.rotr)(a,11)^(0,ci.rotr)(a,25),p=l+f+xx(a,c,u)+Tx[d]+ps[d]|0,m=((0,ci.rotr)(r,2)^(0,ci.rotr)(r,13)^(0,ci.rotr)(r,22))+Sx(r,i,s)|0;l=u,u=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){ps.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Ax=class extends cw{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Ha.sha256=(0,ci.wrapConstructor)(()=>new cw);Ha.sha224=(0,ci.wrapConstructor)(()=>new Ax);var wi={},uw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const e=BigInt(2**32-1),n=BigInt(32);function r(Z,U=!1){return U?{h:Number(Z&e),l:Number(Z>>n&e)}:{h:Number(Z>>n&e)|0,l:Number(Z&e)|0}}t.fromBig=r;function i(Z,U=!1){let D=new Uint32Array(Z.length),B=new Uint32Array(Z.length);for(let h=0;h<Z.length;h++){const{h:g,l:S}=r(Z[h],U);[D[h],B[h]]=[g,S]}return[D,B]}t.split=i;const s=(Z,U)=>BigInt(Z>>>0)<<n|BigInt(U>>>0);t.toBig=s;const o=(Z,U,D)=>Z>>>D,a=(Z,U,D)=>Z<<32-D|U>>>D,c=(Z,U,D)=>Z>>>D|U<<32-D,u=(Z,U,D)=>Z<<32-D|U>>>D,l=(Z,U,D)=>Z<<64-D|U>>>D-32,d=(Z,U,D)=>Z>>>D-32|U<<64-D,f=(Z,U)=>U,p=(Z,U)=>Z,w=(Z,U,D)=>Z<<D|U>>>32-D,m=(Z,U,D)=>U<<D|Z>>>32-D,v=(Z,U,D)=>U<<D-32|Z>>>64-D,k=(Z,U,D)=>Z<<D-32|U>>>64-D;function E(Z,U,D,B){const h=(U>>>0)+(B>>>0);return{h:Z+D+(h/2**32|0)|0,l:h|0}}t.add=E;const b=(Z,U,D)=>(Z>>>0)+(U>>>0)+(D>>>0),x=(Z,U,D,B)=>U+D+B+(Z/2**32|0)|0,T=(Z,U,D,B)=>(Z>>>0)+(U>>>0)+(D>>>0)+(B>>>0),$=(Z,U,D,B,h)=>U+D+B+h+(Z/2**32|0)|0,L=(Z,U,D,B,h)=>(Z>>>0)+(U>>>0)+(D>>>0)+(B>>>0)+(h>>>0),z=(Z,U,D,B,h,g)=>U+D+B+h+g+(Z/2**32|0)|0,J={fromBig:r,split:i,toBig:t.toBig,shrSH:o,shrSL:a,rotrSH:c,rotrSL:u,rotrBH:l,rotrBL:d,rotr32H:f,rotr32L:p,rotlSH:w,rotlSL:m,rotlBH:v,rotlBL:k,add:E,add3L:b,add3H:x,add4L:T,add4H:$,add5H:z,add5L:L};t.default=J})(uw);Object.defineProperty(wi,"__esModule",{value:!0});wi.sha384=wi.sha512_256=wi.sha512_224=wi.sha512=wi.SHA512=void 0;const Ex=Pu,At=uw,Zd=Ho,[kx,Bx]=At.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),gs=new Uint32Array(80),ys=new Uint32Array(80);let Cu=class extends Ex.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:p,Gl:w,Hh:m,Hl:v}=this;return[e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v]}set(e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=w|0,this.Hh=m|0,this.Hl=v|0}process(e,n){for(let b=0;b<16;b++,n+=4)gs[b]=e.getUint32(n),ys[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const x=gs[b-15]|0,T=ys[b-15]|0,$=At.default.rotrSH(x,T,1)^At.default.rotrSH(x,T,8)^At.default.shrSH(x,T,7),L=At.default.rotrSL(x,T,1)^At.default.rotrSL(x,T,8)^At.default.shrSL(x,T,7),z=gs[b-2]|0,J=ys[b-2]|0,Z=At.default.rotrSH(z,J,19)^At.default.rotrBH(z,J,61)^At.default.shrSH(z,J,6),U=At.default.rotrSL(z,J,19)^At.default.rotrBL(z,J,61)^At.default.shrSL(z,J,6),D=At.default.add4L(L,U,ys[b-7],ys[b-16]),B=At.default.add4H(D,$,Z,gs[b-7],gs[b-16]);gs[b]=B|0,ys[b]=D|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:p,Fl:w,Gh:m,Gl:v,Hh:k,Hl:E}=this;for(let b=0;b<80;b++){const x=At.default.rotrSH(d,f,14)^At.default.rotrSH(d,f,18)^At.default.rotrBH(d,f,41),T=At.default.rotrSL(d,f,14)^At.default.rotrSL(d,f,18)^At.default.rotrBL(d,f,41),$=d&p^~d&m,L=f&w^~f&v,z=At.default.add5L(E,T,L,Bx[b],ys[b]),J=At.default.add5H(z,k,x,$,kx[b],gs[b]),Z=z|0,U=At.default.rotrSH(r,i,28)^At.default.rotrBH(r,i,34)^At.default.rotrBH(r,i,39),D=At.default.rotrSL(r,i,28)^At.default.rotrBL(r,i,34)^At.default.rotrBL(r,i,39),B=r&s^r&a^s&a,h=i&o^i&c^o&c;k=m|0,E=v|0,m=p|0,v=w|0,p=d|0,w=f|0,{h:d,l:f}=At.default.add(u|0,l|0,J|0,Z|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const g=At.default.add3L(Z,D,h);r=At.default.add3H(g,J,U,B),i=g|0}({h:r,l:i}=At.default.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=At.default.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=At.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=At.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=At.default.add(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:w}=At.default.add(this.Fh|0,this.Fl|0,p|0,w|0),{h:m,l:v}=At.default.add(this.Gh|0,this.Gl|0,m|0,v|0),{h:k,l:E}=At.default.add(this.Hh|0,this.Hl|0,k|0,E|0),this.set(r,i,s,o,a,c,u,l,d,f,p,w,m,v,k,E)}roundClean(){gs.fill(0),ys.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};wi.SHA512=Cu;let Ix=class extends Cu{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Rx=class extends Cu{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},$x=class extends Cu{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};wi.sha512=(0,Zd.wrapConstructor)(()=>new Cu);wi.sha512_224=(0,Zd.wrapConstructor)(()=>new Ix);wi.sha512_256=(0,Zd.wrapConstructor)(()=>new Rx);wi.sha384=(0,Zd.wrapConstructor)(()=>new $x);var Ou={};(function(t){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0;function e(U){if(!Number.isSafeInteger(U))throw new Error(`Wrong integer: ${U}`)}t.assertNumber=e;function n(...U){const D=(g,S)=>I=>g(S(I)),B=Array.from(U).reverse().reduce((g,S)=>g?D(g,S.encode):S.encode,void 0),h=U.reduce((g,S)=>g?D(g,S.decode):S.decode,void 0);return{encode:B,decode:h}}function r(U){return{encode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return D.map(B=>{if(e(B),B<0||B>=U.length)throw new Error(`Digit index outside alphabet: ${B} (alphabet: ${U.length})`);return U[B]})},decode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="string")throw new Error("alphabet.decode input should be array of strings");return D.map(B=>{if(typeof B!="string")throw new Error(`alphabet.decode: not string element=${B}`);const h=U.indexOf(B);if(h===-1)throw new Error(`Unknown letter: "${B}". Allowed: ${U}`);return h})}}}function i(U=""){if(typeof U!="string")throw new Error("join separator should be string");return{encode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="string")throw new Error("join.encode input should be array of strings");for(let B of D)if(typeof B!="string")throw new Error(`join.encode: non-string input=${B}`);return D.join(U)},decode:D=>{if(typeof D!="string")throw new Error("join.decode input should be string");return D.split(U)}}}function s(U,D="="){if(e(U),typeof D!="string")throw new Error("padding chr should be string");return{encode(B){if(!Array.isArray(B)||B.length&&typeof B[0]!="string")throw new Error("padding.encode input should be array of strings");for(let h of B)if(typeof h!="string")throw new Error(`padding.encode: non-string input=${h}`);for(;B.length*U%8;)B.push(D);return B},decode(B){if(!Array.isArray(B)||B.length&&typeof B[0]!="string")throw new Error("padding.encode input should be array of strings");for(let g of B)if(typeof g!="string")throw new Error(`padding.decode: non-string input=${g}`);let h=B.length;if(h*U%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;h>0&&B[h-1]===D;h--)if(!((h-1)*U%8))throw new Error("Invalid padding: string has too much padding");return B.slice(0,h)}}}function o(U){if(typeof U!="function")throw new Error("normalize fn should be function");return{encode:D=>D,decode:D=>U(D)}}function a(U,D,B){if(D<2)throw new Error(`convertRadix: wrong from=${D}, base cannot be less than 2`);if(B<2)throw new Error(`convertRadix: wrong to=${B}, base cannot be less than 2`);if(!Array.isArray(U))throw new Error("convertRadix: data should be array");if(!U.length)return[];let h=0;const g=[],S=Array.from(U);for(S.forEach(I=>{if(e(I),I<0||I>=D)throw new Error(`Wrong integer: ${I}`)});;){let I=0,N=!0;for(let H=h;H<S.length;H++){const X=S[H],O=D*I+X;if(!Number.isSafeInteger(O)||D*I/D!==I||O-X!==D*I)throw new Error("convertRadix: carry overflow");if(I=O%B,S[H]=Math.floor(O/B),!Number.isSafeInteger(S[H])||S[H]*B+I!==O)throw new Error("convertRadix: carry overflow");if(N)S[H]?N=!1:h=H;else continue}if(g.push(I),N)break}for(let I=0;I<U.length-1&&U[I]===0;I++)g.push(0);return g.reverse()}const c=(U,D)=>D?c(D,U%D):U,u=(U,D)=>U+(D-c(U,D));function l(U,D,B,h){if(!Array.isArray(U))throw new Error("convertRadix2: data should be array");if(D<=0||D>32)throw new Error(`convertRadix2: wrong from=${D}`);if(B<=0||B>32)throw new Error(`convertRadix2: wrong to=${B}`);if(u(D,B)>32)throw new Error(`convertRadix2: carry overflow from=${D} to=${B} carryBits=${u(D,B)}`);let g=0,S=0;const I=2**B-1,N=[];for(const H of U){if(e(H),H>=2**D)throw new Error(`convertRadix2: invalid data word=${H} from=${D}`);if(g=g<<D|H,S+D>32)throw new Error(`convertRadix2: carry overflow pos=${S} from=${D}`);for(S+=D;S>=B;S-=B)N.push((g>>S-B&I)>>>0);g&=2**S-1}if(g=g<<B-S&I,!h&&S>=D)throw new Error("Excess padding");if(!h&&g)throw new Error(`Non-zero padding: ${g}`);return h&&S>0&&N.push(g>>>0),N}function d(U){return e(U),{encode:D=>{if(!(D instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return a(Array.from(D),2**8,U)},decode:D=>{if(!Array.isArray(D)||D.length&&typeof D[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(a(D,U,2**8))}}}function f(U,D=!1){if(e(U),U<=0||U>32)throw new Error("radix2: bits should be in (0..32]");if(u(8,U)>32||u(U,8)>32)throw new Error("radix2: carry overflow");return{encode:B=>{if(!(B instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return l(Array.from(B),8,U,!D)},decode:B=>{if(!Array.isArray(B)||B.length&&typeof B[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(l(B,U,8,D))}}}function p(U){if(typeof U!="function")throw new Error("unsafeWrapper fn should be function");return function(...D){try{return U.apply(null,D)}catch{}}}function w(U,D){if(e(U),typeof D!="function")throw new Error("checksum fn should be function");return{encode(B){if(!(B instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const h=D(B).slice(0,U),g=new Uint8Array(B.length+U);return g.set(B),g.set(h,B.length),g},decode(B){if(!(B instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const h=B.slice(0,-U),g=D(h).slice(0,U),S=B.slice(-U);for(let I=0;I<U;I++)if(g[I]!==S[I])throw new Error("Invalid checksum");return h}}}t.utils={alphabet:r,chain:n,checksum:w,radix:d,radix2:f,join:i,padding:s},t.base16=n(f(4),r("0123456789ABCDEF"),i("")),t.base32=n(f(5),r("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),i("")),t.base32hex=n(f(5),r("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),i("")),t.base32crockford=n(f(5),r("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),o(U=>U.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=n(f(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),i("")),t.base64url=n(f(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),i(""));const m=U=>n(d(58),r(U),i(""));t.base58=m("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=m("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=m("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const v=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(U){let D="";for(let B=0;B<U.length;B+=8){const h=U.subarray(B,B+8);D+=t.base58.encode(h).padStart(v[h.length],"1")}return D},decode(U){let D=[];for(let B=0;B<U.length;B+=11){const h=U.slice(B,B+11),g=v.indexOf(h.length),S=t.base58.decode(h);for(let I=0;I<S.length-g;I++)if(S[I]!==0)throw new Error("base58xmr: wrong padding");D=D.concat(Array.from(S.slice(S.length-g)))}return Uint8Array.from(D)}};const k=U=>n(w(4,D=>U(U(D))),t.base58);t.base58check=k;const E=n(r("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),b=[996825010,642813549,513874426,1027748829,705979059];function x(U){const D=U>>25;let B=(U&33554431)<<5;for(let h=0;h<b.length;h++)(D>>h&1)===1&&(B^=b[h]);return B}function T(U,D,B=1){const h=U.length;let g=1;for(let S=0;S<h;S++){const I=U.charCodeAt(S);if(I<33||I>126)throw new Error(`Invalid prefix (${U})`);g=x(g)^I>>5}g=x(g);for(let S=0;S<h;S++)g=x(g)^U.charCodeAt(S)&31;for(let S of D)g=x(g)^S;for(let S=0;S<6;S++)g=x(g);return g^=B,E.encode(l([g%2**30],30,5,!1))}function $(U){const D=U==="bech32"?1:734539939,B=f(5),h=B.decode,g=B.encode,S=p(h);function I(O,_,q=90){if(typeof O!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof O}`);if(!Array.isArray(_)||_.length&&typeof _[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof _}`);const ye=O.length+7+_.length;if(q!==!1&&ye>q)throw new TypeError(`Length ${ye} exceeds limit ${q}`);return O=O.toLowerCase(),`${O}1${E.encode(_)}${T(O,_,D)}`}function N(O,_=90){if(typeof O!="string")throw new Error(`bech32.decode input should be string, not ${typeof O}`);if(O.length<8||_!==!1&&O.length>_)throw new TypeError(`Wrong string length: ${O.length} (${O}). Expected (8..${_})`);const q=O.toLowerCase();if(O!==q&&O!==O.toUpperCase())throw new Error("String must be lowercase or uppercase");O=q;const ye=O.lastIndexOf("1");if(ye===0||ye===-1)throw new Error('Letter "1" must be present between prefix and data only');const _e=O.slice(0,ye),Ie=O.slice(ye+1);if(Ie.length<6)throw new Error("Data must be at least 6 characters long");const pt=E.decode(Ie).slice(0,-6),te=T(_e,pt,D);if(!Ie.endsWith(te))throw new Error(`Invalid checksum in ${O}: expected "${te}"`);return{prefix:_e,words:pt}}const H=p(N);function X(O){const{prefix:_,words:q}=N(O,!1);return{prefix:_,words:q,bytes:h(q)}}return{encode:I,decode:N,decodeToBytes:X,decodeUnsafe:H,fromWords:h,fromWordsUnsafe:S,toWords:g}}t.bech32=$("bech32"),t.bech32m=$("bech32m"),t.utf8={encode:U=>new TextDecoder().decode(U),decode:U=>new TextEncoder().encode(U)},t.hex=n(f(4),r("0123456789abcdef"),i(""),o(U=>{if(typeof U!="string"||U.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof U} with length ${U.length}`);return U.toLowerCase()}));const L={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},z=`Invalid encoding type. Available types: ${Object.keys(L).join(", ")}`,J=(U,D)=>{if(typeof U!="string"||!L.hasOwnProperty(U))throw new TypeError(z);if(!(D instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return L[U].encode(D)};t.bytesToString=J,t.str=t.bytesToString;const Z=(U,D)=>{if(!L.hasOwnProperty(U))throw new TypeError(z);if(typeof D!="string")throw new TypeError("stringToBytes() expects string");return L[U].decode(D)};t.stringToBytes=Z,t.bytes=t.stringToBytes})(Ou);Object.defineProperty(zr,"__esModule",{value:!0});var lw=zr.mnemonicToSeedSync=zr.mnemonicToSeed=zr.validateMnemonic=zr.entropyToMnemonic=zr.mnemonicToEntropy=zr.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const dw=Jn,fw=La,Px=Ha,hw=wi,Cx=Ho,cl=Ou,Ox=t=>t[0]==="あいこくしん";function pw(t){if(typeof t!="string")throw new TypeError(`Invalid mnemonic type: ${typeof t}`);return t.normalize("NFKD")}function yp(t){const e=pw(t),n=e.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:n}}function gw(t){dw.default.bytes(t,16,20,24,28,32)}function Ux(t,e=128){if(dw.default.number(e),e%32!==0||e>256)throw new TypeError("Invalid entropy");return ww((0,Cx.randomBytes)(e/8),t)}zr.generateMnemonic=Ux;const Mx=t=>{const e=8-t.length/4;return new Uint8Array([(0,Px.sha256)(t)[0]>>e<<e])};function yw(t){if(!Array.isArray(t)||t.length!==2**11||typeof t[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return t.forEach(e=>{if(typeof e!="string")throw new Error(`Wordlist: non-string element: ${e}`)}),cl.utils.chain(cl.utils.checksum(1,Mx),cl.utils.radix2(11,!0),cl.utils.alphabet(t))}function mw(t,e){const{words:n}=yp(t),r=yw(e).decode(n);return gw(r),r}zr.mnemonicToEntropy=mw;function ww(t,e){return gw(t),yw(e).encode(t).join(Ox(e)?"　":" ")}zr.entropyToMnemonic=ww;function Nx(t,e){try{mw(t,e)}catch{return!1}return!0}zr.validateMnemonic=Nx;const _w=t=>pw(`mnemonic${t}`);function qx(t,e=""){return(0,fw.pbkdf2Async)(hw.sha512,yp(t).nfkd,_w(e),{c:2048,dkLen:64})}zr.mnemonicToSeed=qx;function Dx(t,e=""){return(0,fw.pbkdf2)(hw.sha512,yp(t).nfkd,_w(e),{c:2048,dkLen:64})}lw=zr.mnemonicToSeedSync=Dx;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lx=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),x0=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Hx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Hx)throw new Error("Non little-endian hardware is not supported");const jx=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bw(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=jx[t[n]];return e}function vw(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,i=t.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}function zx(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Uu(t){if(typeof t=="string"&&(t=zx(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}let mp=class{clone(){return this._cloneInto()}};function Jd(t){const e=r=>t().update(Uu(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Fx(t){const e=(r,i)=>t(i).update(Uu(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function dh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Gx(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function xw(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Vx(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");dh(t.outputLen),dh(t.blockLen)}function Wx(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Kx(t,e){xw(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Fr={number:dh,bool:Gx,bytes:xw,hash:Vx,exists:Wx,output:Kx},ul=BigInt(2**32-1),fh=BigInt(32);function Sw(t,e=!1){return e?{h:Number(t&ul),l:Number(t>>fh&ul)}:{h:Number(t>>fh&ul)|0,l:Number(t&ul)|0}}function Xx(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Sw(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const Zx=(t,e)=>BigInt(t>>>0)<<fh|BigInt(e>>>0),Jx=(t,e,n)=>t>>>n,Yx=(t,e,n)=>t<<32-n|e>>>n,Qx=(t,e,n)=>t>>>n|e<<32-n,e3=(t,e,n)=>t<<32-n|e>>>n,t3=(t,e,n)=>t<<64-n|e>>>n-32,n3=(t,e,n)=>t>>>n-32|e<<64-n,r3=(t,e)=>e,i3=(t,e)=>t,s3=(t,e,n)=>t<<n|e>>>32-n,o3=(t,e,n)=>e<<n|t>>>32-n,a3=(t,e,n)=>e<<n-32|t>>>64-n,c3=(t,e,n)=>t<<n-32|e>>>64-n;function u3(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const l3=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),d3=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,f3=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),h3=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,p3=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),g3=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,ut={fromBig:Sw,split:Xx,toBig:Zx,shrSH:Jx,shrSL:Yx,rotrSH:Qx,rotrSL:e3,rotrBH:t3,rotrBL:n3,rotr32H:r3,rotr32L:i3,rotlSH:s3,rotlSL:o3,rotlBH:a3,rotlBL:c3,add:u3,add3L:l3,add3H:d3,add4L:f3,add4H:h3,add5H:g3,add5L:p3},[Tw,Aw,Ew]=[[],[],[]],y3=BigInt(0),Uc=BigInt(1),m3=BigInt(2),w3=BigInt(7),_3=BigInt(256),b3=BigInt(113);for(let t=0,e=Uc,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Tw.push(2*(5*r+n)),Aw.push((t+1)*(t+2)/2%64);let i=y3;for(let s=0;s<7;s++)e=(e<<Uc^(e>>w3)*b3)%_3,e&m3&&(i^=Uc<<(Uc<<BigInt(s))-Uc);Ew.push(i)}const[v3,x3]=ut.split(Ew,!0),my=(t,e,n)=>n>32?ut.rotlBH(t,e,n):ut.rotlSH(t,e,n),wy=(t,e,n)=>n>32?ut.rotlBL(t,e,n):ut.rotlSL(t,e,n);function S3(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],d=my(u,l,1)^n[a],f=wy(u,l,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=d,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Aw[o],c=my(i,s,a),u=wy(i,s,a),l=Tw[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=v3[r],t[1]^=x3[r]}n.fill(0)}let kw=class Bw extends mp{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Fr.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Lx(this.state)}keccak(){S3(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Fr.exists(this);const{blockLen:n,state:r}=this;e=Uu(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Fr.exists(this,!1),Fr.bytes(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Fr.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Fr.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Bw(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const no=(t,e,n)=>Jd(()=>new kw(e,t,n));no(6,144,224/8);const ja=no(6,136,256/8);no(6,104,384/8);no(6,72,512/8);no(1,144,224/8);no(1,136,256/8);no(1,104,384/8);no(1,72,512/8);const Iw=(t,e,n)=>Fx((r={})=>new kw(e,t,r.dkLen===void 0?n:r.dkLen,!0));Iw(31,168,128/8);Iw(31,136,256/8);let Rw=class extends mp{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Fr.hash(e);const r=Uu(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Fr.exists(this),this.iHash.update(e),this}digestInto(e){Fr.exists(this),Fr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const wp=(t,e,n)=>new Rw(t,e).update(n).digest();wp.create=(t,e)=>new Rw(t,e);function T3(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let A3=class extends mp{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=x0(this.buffer)}update(e){Fr.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=Uu(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=x0(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Fr.exists(this),Fr.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let c=o;c<i;c++)n[c]=0;T3(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=x0(e);this.get().forEach((c,u)=>a.setUint32(4*u,c,s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const[E3,k3]=ut.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ms=new Uint32Array(80),ws=new Uint32Array(80);let _p=class extends A3{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:p,Gl:w,Hh:m,Hl:v}=this;return[e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v]}set(e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=w|0,this.Hh=m|0,this.Hl=v|0}process(e,n){for(let b=0;b<16;b++,n+=4)ms[b]=e.getUint32(n),ws[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const x=ms[b-15]|0,T=ws[b-15]|0,$=ut.rotrSH(x,T,1)^ut.rotrSH(x,T,8)^ut.shrSH(x,T,7),L=ut.rotrSL(x,T,1)^ut.rotrSL(x,T,8)^ut.shrSL(x,T,7),z=ms[b-2]|0,J=ws[b-2]|0,Z=ut.rotrSH(z,J,19)^ut.rotrBH(z,J,61)^ut.shrSH(z,J,6),U=ut.rotrSL(z,J,19)^ut.rotrBL(z,J,61)^ut.shrSL(z,J,6),D=ut.add4L(L,U,ws[b-7],ws[b-16]),B=ut.add4H(D,$,Z,ms[b-7],ms[b-16]);ms[b]=B|0,ws[b]=D|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:p,Fl:w,Gh:m,Gl:v,Hh:k,Hl:E}=this;for(let b=0;b<80;b++){const x=ut.rotrSH(d,f,14)^ut.rotrSH(d,f,18)^ut.rotrBH(d,f,41),T=ut.rotrSL(d,f,14)^ut.rotrSL(d,f,18)^ut.rotrBL(d,f,41),$=d&p^~d&m,L=f&w^~f&v,z=ut.add5L(E,T,L,k3[b],ws[b]),J=ut.add5H(z,k,x,$,E3[b],ms[b]),Z=z|0,U=ut.rotrSH(r,i,28)^ut.rotrBH(r,i,34)^ut.rotrBH(r,i,39),D=ut.rotrSL(r,i,28)^ut.rotrBL(r,i,34)^ut.rotrBL(r,i,39),B=r&s^r&a^s&a,h=i&o^i&c^o&c;k=m|0,E=v|0,m=p|0,v=w|0,p=d|0,w=f|0,{h:d,l:f}=ut.add(u|0,l|0,J|0,Z|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const g=ut.add3L(Z,D,h);r=ut.add3H(g,J,U,B),i=g|0}({h:r,l:i}=ut.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=ut.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=ut.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=ut.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=ut.add(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:w}=ut.add(this.Fh|0,this.Fl|0,p|0,w|0),{h:m,l:v}=ut.add(this.Gh|0,this.Gl|0,m|0,v|0),{h:k,l:E}=ut.add(this.Hh|0,this.Hl|0,k|0,E|0),this.set(r,i,s,o,a,c,u,l,d,f,p,w,m,v,k,E)}roundClean(){ms.fill(0),ws.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},B3=class extends _p{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},I3=class extends _p{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};const $w=Jd(()=>new _p);Jd(()=>new B3);Jd(()=>new I3);var hh={},R3={get exports(){return hh},set exports(t){hh=t}},dd={},$3={get exports(){return dd},set exports(t){dd=t}},Pw=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}},P3=Pw,bp=Object.prototype.toString,vp=function(t){return function(e){var n=bp.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function jo(t){return t=t.toLowerCase(),function(n){return vp(n)===t}}function xp(t){return Array.isArray(t)}function fd(t){return typeof t>"u"}function C3(t){return t!==null&&!fd(t)&&t.constructor!==null&&!fd(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var Cw=jo("ArrayBuffer");function O3(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Cw(t.buffer),e}function U3(t){return typeof t=="string"}function M3(t){return typeof t=="number"}function Ow(t){return t!==null&&typeof t=="object"}function Dl(t){if(vp(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var N3=jo("Date"),q3=jo("File"),D3=jo("Blob"),L3=jo("FileList");function Sp(t){return bp.call(t)==="[object Function]"}function H3(t){return Ow(t)&&Sp(t.pipe)}function j3(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||bp.call(t)===e||Sp(t.toString)&&t.toString()===e)}var z3=jo("URLSearchParams");function F3(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G3(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Tp(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),xp(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function ph(){var t={};function e(i,s){Dl(t[s])&&Dl(i)?t[s]=ph(t[s],i):Dl(i)?t[s]=ph({},i):xp(i)?t[s]=i.slice():t[s]=i}for(var n=0,r=arguments.length;n<r;n++)Tp(arguments[n],e);return t}function V3(t,e,n){return Tp(e,function(i,s){n&&typeof i=="function"?t[s]=P3(i,n):t[s]=i}),t}function W3(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function K3(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)}function X3(t,e,n){var r,i,s,o={};e=e||{};do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)s=r[i],o[s]||(e[s]=t[s],o[s]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e}function Z3(t,e,n){t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return r!==-1&&r===n}function J3(t){if(!t)return null;var e=t.length;if(fd(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n}var Y3=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),pr={isArray:xp,isArrayBuffer:Cw,isBuffer:C3,isFormData:j3,isArrayBufferView:O3,isString:U3,isNumber:M3,isObject:Ow,isPlainObject:Dl,isUndefined:fd,isDate:N3,isFile:q3,isBlob:D3,isFunction:Sp,isStream:H3,isURLSearchParams:z3,isStandardBrowserEnv:G3,forEach:Tp,merge:ph,extend:V3,trim:F3,stripBOM:W3,inherits:K3,toFlatObject:X3,kindOf:vp,kindOfTest:jo,endsWith:Z3,toArray:J3,isTypedArray:Y3,isFileList:L3},aa=pr;function _y(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Uw=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(aa.isURLSearchParams(n))i=n.toString();else{var s=[];aa.forEach(n,function(c,u){c===null||typeof c>"u"||(aa.isArray(c)?u=u+"[]":c=[c],aa.forEach(c,function(d){aa.isDate(d)?d=d.toISOString():aa.isObject(d)&&(d=JSON.stringify(d)),s.push(_y(u)+"="+_y(d))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Q3=pr;function Yd(){this.handlers=[]}Yd.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Yd.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Yd.prototype.forEach=function(e){Q3.forEach(this.handlers,function(r){r!==null&&e(r)})};var eS=Yd,tS=pr,nS=function(e,n){tS.forEach(e,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[s])})},Mw=pr;function za(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Mw.inherits(za,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Nw=za.prototype,qw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){qw[t]={value:t}});Object.defineProperties(za,qw);Object.defineProperty(Nw,"isAxiosError",{value:!0});za.from=function(t,e,n,r,i,s){var o=Object.create(Nw);return Mw.toFlatObject(t,o,function(c){return c!==Error.prototype}),za.call(o,t.message,e,n,r,i),o.name=t.name,s&&Object.assign(o,s),o};var yc=za,Dw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ei=pr;function rS(t,e){e=e||new FormData;var n=[];function r(s){return s===null?"":Ei.isDate(s)?s.toISOString():Ei.isArrayBuffer(s)||Ei.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function i(s,o){if(Ei.isPlainObject(s)||Ei.isArray(s)){if(n.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);n.push(s),Ei.forEach(s,function(c,u){if(!Ei.isUndefined(c)){var l=o?o+"."+u:u,d;if(c&&!o&&typeof c=="object"){if(Ei.endsWith(u,"{}"))c=JSON.stringify(c);else if(Ei.endsWith(u,"[]")&&(d=Ei.toArray(c))){d.forEach(function(f){!Ei.isUndefined(f)&&e.append(l,r(f))});return}}i(c,l)}}),n.pop()}else e.append(o,r(s))}return i(t),e}var Lw=rS,S0,by;function iS(){if(by)return S0;by=1;var t=yc;return S0=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},S0}var T0,vy;function sS(){if(vy)return T0;vy=1;var t=pr;return T0=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,c){var u=[];u.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),t.isString(o)&&u.push("path="+o),t.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),T0}var oS=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},aS=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},cS=oS,uS=aS,Hw=function(e,n){return e&&!cS(n)?uS(e,n):n},A0,xy;function lS(){if(xy)return A0;xy=1;var t=pr,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return A0=function(r){var i={},s,o,a;return r&&t.forEach(r.split(`
`),function(u){if(a=u.indexOf(":"),s=t.trim(u.substr(0,a)).toLowerCase(),o=t.trim(u.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},A0}var E0,Sy;function dS(){if(Sy)return E0;Sy=1;var t=pr;return E0=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var c=t.isString(a)?s(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),E0}var k0,Ty;function Qd(){if(Ty)return k0;Ty=1;var t=yc,e=pr;function n(r){t.call(this,r??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),k0=n,k0}var B0,Ay;function fS(){return Ay||(Ay=1,B0=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),B0}var I0,Ey;function ky(){if(Ey)return I0;Ey=1;var t=pr,e=iS(),n=sS(),r=Uw,i=Hw,s=lS(),o=dS(),a=Dw,c=yc,u=Qd(),l=fS();return I0=function(f){return new Promise(function(w,m){var v=f.data,k=f.headers,E=f.responseType,b;function x(){f.cancelToken&&f.cancelToken.unsubscribe(b),f.signal&&f.signal.removeEventListener("abort",b)}t.isFormData(v)&&t.isStandardBrowserEnv()&&delete k["Content-Type"];var T=new XMLHttpRequest;if(f.auth){var $=f.auth.username||"",L=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";k.Authorization="Basic "+btoa($+":"+L)}var z=i(f.baseURL,f.url);T.open(f.method.toUpperCase(),r(z,f.params,f.paramsSerializer),!0),T.timeout=f.timeout;function J(){if(T){var D="getAllResponseHeaders"in T?s(T.getAllResponseHeaders()):null,B=!E||E==="text"||E==="json"?T.responseText:T.response,h={data:B,status:T.status,statusText:T.statusText,headers:D,config:f,request:T};e(function(S){w(S),x()},function(S){m(S),x()},h),T=null}}if("onloadend"in T?T.onloadend=J:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(J)},T.onabort=function(){T&&(m(new c("Request aborted",c.ECONNABORTED,f,T)),T=null)},T.onerror=function(){m(new c("Network Error",c.ERR_NETWORK,f,T,T)),T=null},T.ontimeout=function(){var B=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",h=f.transitional||a;f.timeoutErrorMessage&&(B=f.timeoutErrorMessage),m(new c(B,h.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,f,T)),T=null},t.isStandardBrowserEnv()){var Z=(f.withCredentials||o(z))&&f.xsrfCookieName?n.read(f.xsrfCookieName):void 0;Z&&(k[f.xsrfHeaderName]=Z)}"setRequestHeader"in T&&t.forEach(k,function(B,h){typeof v>"u"&&h.toLowerCase()==="content-type"?delete k[h]:T.setRequestHeader(h,B)}),t.isUndefined(f.withCredentials)||(T.withCredentials=!!f.withCredentials),E&&E!=="json"&&(T.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&T.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&T.upload&&T.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(b=function(D){T&&(m(!D||D&&D.type?new u:D),T.abort(),T=null)},f.cancelToken&&f.cancelToken.subscribe(b),f.signal&&(f.signal.aborted?b():f.signal.addEventListener("abort",b))),v||(v=null);var U=l(z);if(U&&["http","https","file"].indexOf(U)===-1){m(new c("Unsupported protocol "+U+":",c.ERR_BAD_REQUEST,f));return}T.send(v)})},I0}var R0,By;function hS(){return By||(By=1,R0=null),R0}var Kn=pr,Iy=nS,Ry=yc,pS=Dw,gS=Lw,yS={"Content-Type":"application/x-www-form-urlencoded"};function $y(t,e){!Kn.isUndefined(t)&&Kn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function mS(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=ky()),t}function wS(t,e,n){if(Kn.isString(t))try{return(e||JSON.parse)(t),Kn.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var ef={transitional:pS,adapter:mS(),transformRequest:[function(e,n){if(Iy(n,"Accept"),Iy(n,"Content-Type"),Kn.isFormData(e)||Kn.isArrayBuffer(e)||Kn.isBuffer(e)||Kn.isStream(e)||Kn.isFile(e)||Kn.isBlob(e))return e;if(Kn.isArrayBufferView(e))return e.buffer;if(Kn.isURLSearchParams(e))return $y(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=Kn.isObject(e),i=n&&n["Content-Type"],s;if((s=Kn.isFileList(e))||r&&i==="multipart/form-data"){var o=this.env&&this.env.FormData;return gS(s?{"files[]":e}:e,o&&new o)}else if(r||i==="application/json")return $y(n,"application/json"),wS(e);return e}],transformResponse:[function(e){var n=this.transitional||ef.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&Kn.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?Ry.from(o,Ry.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hS()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Kn.forEach(["delete","get","head"],function(e){ef.headers[e]={}});Kn.forEach(["post","put","patch"],function(e){ef.headers[e]=Kn.merge(yS)});var Ap=ef,_S=pr,bS=Ap,vS=function(e,n,r){var i=this||bS;return _S.forEach(r,function(o){e=o.call(i,e,n)}),e},$0,Py;function jw(){return Py||(Py=1,$0=function(e){return!!(e&&e.__CANCEL__)}),$0}var Cy=pr,P0=vS,xS=jw(),SS=Ap,TS=Qd();function C0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new TS}var AS=function(e){C0(e),e.headers=e.headers||{},e.data=P0.call(e,e.data,e.headers,e.transformRequest),e.headers=Cy.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Cy.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||SS.adapter;return n(e).then(function(i){return C0(e),i.data=P0.call(e,i.data,i.headers,e.transformResponse),i},function(i){return xS(i)||(C0(e),i&&i.response&&(i.response.data=P0.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Lr=pr,zw=function(e,n){n=n||{};var r={};function i(l,d){return Lr.isPlainObject(l)&&Lr.isPlainObject(d)?Lr.merge(l,d):Lr.isPlainObject(d)?Lr.merge({},d):Lr.isArray(d)?d.slice():d}function s(l){if(Lr.isUndefined(n[l])){if(!Lr.isUndefined(e[l]))return i(void 0,e[l])}else return i(e[l],n[l])}function o(l){if(!Lr.isUndefined(n[l]))return i(void 0,n[l])}function a(l){if(Lr.isUndefined(n[l])){if(!Lr.isUndefined(e[l]))return i(void 0,e[l])}else return i(void 0,n[l])}function c(l){if(l in n)return i(e[l],n[l]);if(l in e)return i(void 0,e[l])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return Lr.forEach(Object.keys(e).concat(Object.keys(n)),function(d){var f=u[d]||s,p=f(d);Lr.isUndefined(p)&&f!==c||(r[d]=p)}),r},O0,Oy;function Fw(){return Oy||(Oy=1,O0={version:"0.27.2"}),O0}var ES=Fw().version,Us=yc,Ep={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Ep[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var Uy={};Ep.transitional=function(e,n,r){function i(s,o){return"[Axios v"+ES+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,a){if(e===!1)throw new Us(i(o," has been removed"+(n?" in "+n:"")),Us.ERR_DEPRECATED);return n&&!Uy[o]&&(Uy[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function kS(t,e,n){if(typeof t!="object")throw new Us("options must be an object",Us.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var a=t[s],c=a===void 0||o(a,s,t);if(c!==!0)throw new Us("option "+s+" must be "+c,Us.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Us("Unknown option "+s,Us.ERR_BAD_OPTION)}}var BS={assertOptions:kS,validators:Ep},Gw=pr,IS=Uw,My=eS,Ny=AS,tf=zw,RS=Hw,Vw=BS,ca=Vw.validators;function Fa(t){this.defaults=t,this.interceptors={request:new My,response:new My}}Fa.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=tf(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&Vw.assertOptions(r,{silentJSONParsing:ca.transitional(ca.boolean),forcedJSONParsing:ca.transitional(ca.boolean),clarifyTimeoutError:ca.transitional(ca.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(s=s&&p.synchronous,i.unshift(p.fulfilled,p.rejected))});var o=[];this.interceptors.response.forEach(function(p){o.push(p.fulfilled,p.rejected)});var a;if(!s){var c=[Ny,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(o),a=Promise.resolve(n);c.length;)a=a.then(c.shift(),c.shift());return a}for(var u=n;i.length;){var l=i.shift(),d=i.shift();try{u=l(u)}catch(f){d(f);break}}try{a=Ny(u)}catch(f){return Promise.reject(f)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};Fa.prototype.getUri=function(e){e=tf(this.defaults,e);var n=RS(e.baseURL,e.url);return IS(n,e.params,e.paramsSerializer)};Gw.forEach(["delete","get","head","options"],function(e){Fa.prototype[e]=function(n,r){return this.request(tf(r||{},{method:e,url:n,data:(r||{}).data}))}});Gw.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(tf(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Fa.prototype[e]=n(),Fa.prototype[e+"Form"]=n(!0)});var $S=Fa,U0,qy;function PS(){if(qy)return U0;qy=1;var t=Qd();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(c){i.subscribe(c),o=c}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},U0=e,U0}var M0,Dy;function CS(){return Dy||(Dy=1,M0=function(e){return function(r){return e.apply(null,r)}}),M0}var N0,Ly;function OS(){if(Ly)return N0;Ly=1;var t=pr;return N0=function(n){return t.isObject(n)&&n.isAxiosError===!0},N0}var Hy=pr,US=Pw,Ll=$S,MS=zw,NS=Ap;function Ww(t){var e=new Ll(t),n=US(Ll.prototype.request,e);return Hy.extend(n,Ll.prototype,e),Hy.extend(n,e),n.create=function(i){return Ww(MS(t,i))},n}var Mr=Ww(NS);Mr.Axios=Ll;Mr.CanceledError=Qd();Mr.CancelToken=PS();Mr.isCancel=jw();Mr.VERSION=Fw().version;Mr.toFormData=Lw;Mr.AxiosError=yc;Mr.Cancel=Mr.CanceledError;Mr.all=function(e){return Promise.all(e)};Mr.spread=CS();Mr.isAxiosError=OS();$3.exports=Mr;dd.default=Mr;(function(t){t.exports=dd})(R3);const Ui=cx(hh);var nf=typeof self=="object"?self.FormData:window.FormData,Kw=Object.defineProperty,qS=Object.getOwnPropertyDescriptor,rf=(t,e)=>{for(var n in e)Kw(t,n,{get:e[n],enumerable:!0})},tn=(t,e,n,r)=>{for(var i=r>1?void 0:r?qS(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(r?o(e,n,i):o(i))||i);return r&&i&&Kw(e,n,i),i},DS=/^m(\/[0-9]+')+$/,Xw=t=>t.replace("'",""),LS="ed25519 seed",HS=2147483648,jS=t=>{const n=wp.create($w,LS).update(vw(t)).digest(),r=n.slice(0,32),i=n.slice(32);return{key:r,chainCode:i}},zS=({key:t,chainCode:e},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const i=new Uint8Array(r),s=new Uint8Array([0]),o=new Uint8Array([...s,...t,...i]),a=wp.create($w,e).update(o).digest(),c=a.slice(0,32),u=a.slice(32);return{key:c,chainCode:u}},FS=t=>DS.test(t)?!t.split("/").slice(1).map(Xw).some(Number.isNaN):!1,Zw=(t,e,n=HS)=>{if(!FS(t))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=jS(e);return t.split("/").slice(1).map(Xw).map(o=>parseInt(o,10)).reduce((o,a)=>zS(o,a+n),{key:r,chainCode:i})};async function GS(t){return new Promise(e=>{setTimeout(e,t)})}var jy="/v1";function VS(t){let e=`${t}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith(jy)||(e=`${e}${jy}`),e}var Jw=2e5,Yw=20,Qw=20,gh="0x1::aptos_coin::AptosCoin";function sf(t){let e,n,r;return typeof t=="object"?(e=t.hashFunction,n=t.ttlMs,r=t.tags):e=t,(i,s,o)=>{if(o.value!=null)o.value=zy(o.value,e,n,r);else if(o.get!=null)o.get=zy(o.get,e,n,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function WS(t,e){return sf({ttlMs:t,hashFunction:e})}var Hl=new Map;function KS(t){const e=new Set;for(const n of t){const r=Hl.get(n);if(r)for(const i of r)e.has(i)||(i.clear(),e.add(i))}return e.size}function zy(t,e,n=0,r){const i=Symbol("__memoized_map__");return function(...s){let o;const a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const c=a[i];if(Array.isArray(r))for(const u of r)Hl.has(u)?Hl.get(u).push(c):Hl.set(u,[c]);if(e||s.length>0||n>0){let u;e===!0?u=s.map(f=>f.toString()).join("!"):e?u=e.apply(a,s):u=s[0];const l=`${u}__timestamp`;let d=!1;if(n>0)if(!c.has(l))d=!0;else{const f=c.get(l);d=Date.now()-f>n}c.has(u)&&!d?o=c.get(u):(o=t.apply(a,s),c.set(u,o),n>0&&c.set(l,Date.now()))}else{const u=a;c.has(u)?o=c.get(u):(o=t.apply(a,s),c.set(u,o))}return o}}var bt=class{static fromBuffer(e){return bt.fromUint8Array(e)}static fromUint8Array(e){return new bt(bw(e))}static ensure(e){return typeof e=="string"?new bt(e):e}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(vw(this.noPrefix()))}};async function Fy(t,e,n,r){var i;const s=[];let o;for(;;){const a=await t(bt.ensure(e).hex(),(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString(),o,n);if(o=a.__headers["x-aptos-cursor"],delete a.__headers,s.push(...a),o==null)break}return s}var XS={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},ZS={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},e_=(t=>(t.MAINNET="mainnet",t.TESTNET="testnet",t.DEVNET="devnet",t))(e_||{}),Gt={};rf(Gt,{AccountAddress:()=>En,AccountAuthenticator:()=>uu,AccountAuthenticatorEd25519:()=>Ip,AccountAuthenticatorMultiEd25519:()=>Rp,ArgumentABI:()=>zu,AuthenticationKey:()=>Oo,ChainId:()=>df,ChangeSet:()=>cT,Ed25519PublicKey:()=>hi,Ed25519Signature:()=>zi,EntryFunction:()=>Bo,EntryFunctionABI:()=>Xa,Identifier:()=>Rr,Module:()=>r_,ModuleId:()=>Co,MultiAgentRawTransaction:()=>uf,MultiEd25519PublicKey:()=>Mu,MultiEd25519Signature:()=>of,MultiSig:()=>Cp,MultiSigTransactionPayload:()=>Pp,RawTransaction:()=>vc,RawTransactionWithData:()=>i_,RotationProofChallenge:()=>lT,Script:()=>qu,ScriptABI:()=>wf,SignedTransaction:()=>Du,StructTag:()=>Ga,Transaction:()=>s_,TransactionArgument:()=>Di,TransactionArgumentAddress:()=>Wa,TransactionArgumentBool:()=>mf,TransactionArgumentU128:()=>gf,TransactionArgumentU16:()=>hf,TransactionArgumentU256:()=>yf,TransactionArgumentU32:()=>pf,TransactionArgumentU64:()=>Va,TransactionArgumentU8:()=>ff,TransactionArgumentU8Vector:()=>Ka,TransactionAuthenticator:()=>Nu,TransactionAuthenticatorEd25519:()=>af,TransactionAuthenticatorMultiAgent:()=>Bp,TransactionAuthenticatorMultiEd25519:()=>cf,TransactionPayload:()=>Lu,TransactionPayloadEntryFunction:()=>lf,TransactionPayloadMultisig:()=>Op,TransactionPayloadScript:()=>Hu,TransactionScriptABI:()=>_f,TypeArgumentABI:()=>ju,TypeTag:()=>lr,TypeTagAddress:()=>Wo,TypeTagBool:()=>Fo,TypeTagSigner:()=>$p,TypeTagStruct:()=>Ko,TypeTagU128:()=>Vo,TypeTagU16:()=>mc,TypeTagU256:()=>_c,TypeTagU32:()=>wc,TypeTagU64:()=>Go,TypeTagU8:()=>us,TypeTagVector:()=>bc,UserTransaction:()=>Up,WriteSet:()=>uT});var t_={};rf(t_,{Deserializer:()=>kp,Serializer:()=>Cn,bcsSerializeBool:()=>sT,bcsSerializeBytes:()=>da,bcsSerializeFixedBytes:()=>aT,bcsSerializeStr:()=>oT,bcsSerializeU128:()=>iT,bcsSerializeU16:()=>nT,bcsSerializeU32:()=>rT,bcsSerializeU8:()=>yh,bcsSerializeUint64:()=>tT,bcsToBytes:()=>ds,deserializeVector:()=>vi,serializeVector:()=>Qr,serializeVectorWithFunc:()=>eT});var JS=2**8-1,YS=2**16-1,cu=2**32-1,nu=BigInt(2**64)-BigInt(1),n_=BigInt(2**128)-BigInt(1),QS=BigInt(2**256)-BigInt(1),Cn=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const n=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,n,r){this.ensureBufferWillHandleSize(n);const i=new DataView(this.buffer,this.offset);e.apply(i,[0,r,!0]),this.offset+=n}serializeStr(e){const n=new TextEncoder;this.serializeBytes(n.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if(typeof e!="boolean")throw new Error("Value needs to be a boolean");const n=e?1:0;this.serialize(new Uint8Array([n]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const n=BigInt(e.toString())&BigInt(cu),r=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(n)),this.serializeU32(Number(r))}serializeU128(e){const n=BigInt(e.toString())&nu,r=BigInt(e.toString())>>BigInt(64);this.serializeU64(n),this.serializeU64(r)}serializeU256(e){const n=BigInt(e.toString())&n_,r=BigInt(e.toString())>>BigInt(128);this.serializeU128(n),this.serializeU128(r)}serializeU32AsUleb128(e){let n=e;const r=[];for(;n>>>7;)r.push(n&127|128),n>>>=7;r.push(n),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};tn([zo(0,JS)],Cn.prototype,"serializeU8",1);tn([zo(0,YS)],Cn.prototype,"serializeU16",1);tn([zo(0,cu)],Cn.prototype,"serializeU32",1);tn([zo(BigInt(0),nu)],Cn.prototype,"serializeU64",1);tn([zo(BigInt(0),n_)],Cn.prototype,"serializeU128",1);tn([zo(BigInt(0),QS)],Cn.prototype,"serializeU256",1);tn([zo(0,cu)],Cn.prototype,"serializeU32AsUleb128",1);function zo(t,e,n){return(r,i,s)=>{const o=s.value;return s.value=function(c){const u=BigInt(c.toString());if(u>BigInt(e.toString())||u<BigInt(t.toString()))throw new Error(n||"Value is out of range");o.apply(this,[c])},s}}var kp=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const n=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,n}deserializeStr(){const e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(e!==1&&e!==0)throw new Error("Invalid boolean value");return e===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),n=this.deserializeU32();return BigInt(BigInt(n)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),n=this.deserializeU64();return BigInt(n<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),n=this.deserializeU128();return BigInt(n<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),n=0;for(;e<cu;){const r=this.deserializeU8();if(e|=BigInt(r&127)<<BigInt(n),!(r&128))break;n+=7}if(e>cu)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function Qr(t,e){e.serializeU32AsUleb128(t.length),t.forEach(n=>{n.serialize(e)})}function eT(t,e){const n=new Cn;n.serializeU32AsUleb128(t.length);const r=n[e];return t.forEach(i=>{r.call(n,i)}),n.getBytes()}function vi(t,e){const n=t.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push(e.deserialize(t));return r}function ds(t){const e=new Cn;return t.serialize(e),e.getBytes()}function tT(t){const e=new Cn;return e.serializeU64(t),e.getBytes()}function yh(t){const e=new Cn;return e.serializeU8(t),e.getBytes()}function nT(t){const e=new Cn;return e.serializeU16(t),e.getBytes()}function rT(t){const e=new Cn;return e.serializeU32(t),e.getBytes()}function iT(t){const e=new Cn;return e.serializeU128(t),e.getBytes()}function sT(t){const e=new Cn;return e.serializeBool(t),e.getBytes()}function oT(t){const e=new Cn;return e.serializeStr(t),e.getBytes()}function da(t){const e=new Cn;return e.serializeBytes(t),e.getBytes()}function aT(t){const e=new Cn;return e.serializeFixedBytes(t),e.getBytes()}var ui=class{constructor(e){if(e.length!==ui.LENGTH)throw new Error("Expected address of length 32");this.address=e}static fromHex(e){let n=bt.ensure(e);n.noPrefix().length%2!==0&&(n=new bt(`0${n.noPrefix()}`));const r=n.toUint8Array();if(r.length>ui.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===ui.LENGTH)return new ui(r);const i=new Uint8Array(ui.LENGTH);return i.set(r,ui.LENGTH-r.length),new ui(i)}static isValid(e){if(e==="")return!1;let n=bt.ensure(e);return n.noPrefix().length%2!==0&&(n=new bt(`0${n.noPrefix()}`)),n.toUint8Array().length<=ui.LENGTH}toHexString(){return bt.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(e){return new ui(e.deserializeFixedBytes(ui.LENGTH))}},En=ui;En.LENGTH=32;En.CORE_CODE_ADDRESS=ui.fromHex("0x1");var jl=class{constructor(e){if(e.length!==jl.LENGTH)throw new Error(`Ed25519PublicKey length should be ${jl.LENGTH}`);this.value=e}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const n=e.deserializeBytes();return new jl(n)}},hi=jl;hi.LENGTH=32;var zl=class{constructor(e){if(this.value=e,e.length!==zl.LENGTH)throw new Error(`Ed25519Signature length should be ${zl.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const n=e.deserializeBytes();return new zl(n)}},zi=zl;zi.LENGTH=64;var mh=32,Mu=class{constructor(e,n){if(this.public_keys=e,this.threshold=n,n>mh)throw new Error(`"threshold" cannot be larger than ${mh}`)}toBytes(){const e=new Uint8Array(this.public_keys.length*hi.LENGTH+1);return this.public_keys.forEach((n,r)=>{e.set(n.value,r*hi.LENGTH)}),e[this.public_keys.length*hi.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const n=e.deserializeBytes(),r=n[n.length-1],i=[];for(let s=0;s<n.length-1;s+=hi.LENGTH){const o=s;i.push(new hi(n.subarray(o,o+hi.LENGTH)))}return new Mu(i,r)}},Hc=class{constructor(e,n){if(this.signatures=e,this.bitmap=n,n.length!==Hc.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Hc.BITMAP_LEN}`)}toBytes(){const e=new Uint8Array(this.signatures.length*zi.LENGTH+Hc.BITMAP_LEN);return this.signatures.forEach((n,r)=>{e.set(n.value,r*zi.LENGTH)}),e.set(this.bitmap,this.signatures.length*zi.LENGTH),e}static createBitmap(e){const r=new Uint8Array([0,0,0,0]),i=new Set;return e.forEach(s=>{if(s>=mh)throw new Error(`Invalid bit value ${s}.`);if(i.has(s))throw new Error("Duplicated bits detected.");i.add(s);const o=Math.floor(s/8);let a=r[o];a|=128>>s%8,r[o]=a}),r}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const n=e.deserializeBytes(),r=n.subarray(n.length-4),i=[];for(let s=0;s<n.length-r.length;s+=zi.LENGTH){const o=s;i.push(new zi(n.subarray(o,o+zi.LENGTH)))}return new Hc(i,r)}},of=Hc;of.BITMAP_LEN=4;var Nu=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return af.load(e);case 1:return cf.load(e);case 2:return Bp.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${n}`)}}},af=class extends Nu{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=hi.deserialize(e),r=zi.deserialize(e);return new af(n,r)}},cf=class extends Nu{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=Mu.deserialize(e),r=of.deserialize(e);return new cf(n,r)}},Bp=class extends Nu{constructor(e,n,r){super(),this.sender=e,this.secondary_signer_addresses=n,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),Qr(this.secondary_signer_addresses,e),Qr(this.secondary_signers,e)}static load(e){const n=uu.deserialize(e),r=vi(e,En),i=vi(e,uu);return new Bp(n,r,i)}},uu=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return Ip.load(e);case 1:return Rp.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${n}`)}}},Ip=class extends uu{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=hi.deserialize(e),r=zi.deserialize(e);return new Ip(n,r)}},Rp=class extends uu{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=Mu.deserialize(e),r=of.deserialize(e);return new Rp(n,r)}},Rr=class{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(e){const n=e.deserializeStr();return new Rr(n)}},lr=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return Fo.load(e);case 1:return us.load(e);case 2:return Go.load(e);case 3:return Vo.load(e);case 4:return Wo.load(e);case 5:return $p.load(e);case 6:return bc.load(e);case 7:return Ko.load(e);case 8:return mc.load(e);case 9:return wc.load(e);case 10:return _c.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${n}`)}}},Fo=class extends lr{serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new Fo}},us=class extends lr{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new us}},mc=class extends lr{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new mc}},wc=class extends lr{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new wc}},Go=class extends lr{serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new Go}},Vo=class extends lr{serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new Vo}},_c=class extends lr{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new _c}},Wo=class extends lr{serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new Wo}},$p=class extends lr{serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new $p}},bc=class extends lr{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){const n=lr.deserialize(e);return new bc(n)}},Ko=class extends lr{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){const n=Ga.deserialize(e);return new Ko(n)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===En.fromHex("0x1").toHexString()}},Ga=class{constructor(e,n,r,i){this.address=e,this.module_name=n,this.name=r,this.type_args=i}static fromString(e){if(e.includes("<"))throw new Error("Not implemented");const n=e.split("::");if(n.length!==3)throw new Error("Invalid struct tag string literal.");return new Ga(En.fromHex(n[0]),new Rr(n[1]),new Rr(n[2]),[])}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),Qr(this.type_args,e)}static deserialize(e){const n=En.deserialize(e),r=Rr.deserialize(e),i=Rr.deserialize(e),s=vi(e,lr);return new Ga(n,r,i,s)}},vc=class{constructor(e,n,r,i,s,o,a){this.sender=e,this.sequence_number=n,this.payload=r,this.max_gas_amount=i,this.gas_unit_price=s,this.expiration_timestamp_secs=o,this.chain_id=a}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){const n=En.deserialize(e),r=e.deserializeU64(),i=Lu.deserialize(e),s=e.deserializeU64(),o=e.deserializeU64(),a=e.deserializeU64(),c=df.deserialize(e);return new vc(n,r,i,s,o,a,c)}},qu=class{constructor(e,n,r){this.code=e,this.ty_args=n,this.args=r}serialize(e){e.serializeBytes(this.code),Qr(this.ty_args,e),Qr(this.args,e)}static deserialize(e){const n=e.deserializeBytes(),r=vi(e,lr),i=vi(e,Di);return new qu(n,r,i)}},Bo=class{constructor(e,n,r,i){this.module_name=e,this.function_name=n,this.ty_args=r,this.args=i}static natural(e,n,r,i){return new Bo(Co.fromStr(e),new Rr(n),r,i)}static natual(e,n,r,i){return Bo.natural(e,n,r,i)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),Qr(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach(n=>{e.serializeBytes(n)})}static deserialize(e){const n=Co.deserialize(e),r=Rr.deserialize(e),i=vi(e,lr),s=e.deserializeUleb128AsU32(),o=[];for(let c=0;c<s;c+=1)o.push(e.deserializeBytes());const a=o;return new Bo(n,r,i,a)}},Pp=class{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return new Pp(Bo.deserialize(e))}},Cp=class{constructor(e,n){this.multisig_address=e,this.transaction_payload=n}serialize(e){this.multisig_address.serialize(e),this.transaction_payload===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){const n=En.deserialize(e),r=e.deserializeBool();let i;return r&&(i=Pp.deserialize(e)),new Cp(n,i)}},r_=class{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(e){const n=e.deserializeBytes();return new r_(n)}},Co=class{constructor(e,n){this.address=e,this.name=n}static fromStr(e){const n=e.split("::");if(n.length!==2)throw new Error("Invalid module id.");return new Co(En.fromHex(new bt(n[0])),new Rr(n[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){const n=En.deserialize(e),r=Rr.deserialize(e);return new Co(n,r)}},cT=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},uT=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},Du=class{constructor(e,n){this.raw_txn=e,this.authenticator=n}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){const n=vc.deserialize(e),r=Nu.deserialize(e);return new Du(n,r)}},i_=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return uf.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${n}`)}}},uf=class extends i_{constructor(e,n){super(),this.raw_txn=e,this.secondary_signer_addresses=n}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),Qr(this.secondary_signer_addresses,e)}static load(e){const n=vc.deserialize(e),r=vi(e,En);return new uf(n,r)}},Lu=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return Hu.load(e);case 2:return lf.load(e);case 3:return Op.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${n}`)}}},Hu=class extends Lu{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){const n=qu.deserialize(e);return new Hu(n)}},lf=class extends Lu{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(e){const n=Bo.deserialize(e);return new lf(n)}},Op=class extends Lu{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const n=Cp.deserialize(e);return new Op(n)}},df=class{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(e){const n=e.deserializeU8();return new df(n)}},Di=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return ff.load(e);case 1:return Va.load(e);case 2:return gf.load(e);case 3:return Wa.load(e);case 4:return Ka.load(e);case 5:return mf.load(e);case 6:return hf.load(e);case 7:return pf.load(e);case 8:return yf.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${n}`)}}},ff=class extends Di{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(e){const n=e.deserializeU8();return new ff(n)}},hf=class extends Di{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(e){const n=e.deserializeU16();return new hf(n)}},pf=class extends Di{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(e){const n=e.deserializeU32();return new pf(n)}},Va=class extends Di{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(e){const n=e.deserializeU64();return new Va(n)}},gf=class extends Di{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(e){const n=e.deserializeU128();return new gf(n)}},yf=class extends Di{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(e){const n=e.deserializeU256();return new yf(n)}},Wa=class extends Di{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const n=En.deserialize(e);return new Wa(n)}},Ka=class extends Di{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(e){const n=e.deserializeBytes();return new Ka(n)}},mf=class extends Di{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(e){const n=e.deserializeBool();return new mf(n)}},s_=class{getHashSalt(){const e=ja.create();return e.update("APTOS::Transaction"),e.digest()}static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return Up.load(e);default:throw new Error(`Unknown variant index for Transaction: ${n}`)}}},Up=class extends s_{constructor(e){super(),this.value=e}hash(){const e=ja.create();return e.update(this.getHashSalt()),e.update(ds(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){return new Up(Du.deserialize(e))}},ju=class{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(e){const n=e.deserializeStr();return new ju(n)}},zu=class{constructor(e,n){this.name=e,this.type_tag=n}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(e){const n=e.deserializeStr(),r=lr.deserialize(e);return new zu(n,r)}},wf=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return _f.load(e);case 1:return Xa.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${n}`)}}},_f=class extends wf{constructor(e,n,r,i,s){super(),this.name=e,this.doc=n,this.code=r,this.ty_args=i,this.args=s}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),Qr(this.ty_args,e),Qr(this.args,e)}static load(e){const n=e.deserializeStr(),r=e.deserializeStr(),i=e.deserializeBytes(),s=vi(e,ju),o=vi(e,zu);return new _f(n,r,i,s,o)}},Xa=class extends wf{constructor(e,n,r,i,s){super(),this.name=e,this.module_name=n,this.doc=r,this.ty_args=i,this.args=s}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),Qr(this.ty_args,e),Qr(this.args,e)}static load(e){const n=e.deserializeStr(),r=Co.deserialize(e),i=e.deserializeStr(),s=vi(e,ju),o=vi(e,zu);return new Xa(n,r,i,s,o)}},fa=class{constructor(e){if(e.length!==fa.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=e}static fromMultiEd25519PublicKey(e){const n=e.toBytes(),r=new Uint8Array(n.length+1);r.set(n),r.set([fa.MULTI_ED25519_SCHEME],n.length);const i=ja.create();return i.update(r),new fa(i.digest())}static fromEd25519PublicKey(e){const n=e.value,r=new Uint8Array(n.length+1);r.set(n),r.set([fa.ED25519_SCHEME],n.length);const i=ja.create();return i.update(r),new fa(i.digest())}derivedAddress(){return bt.fromUint8Array(this.bytes)}},Oo=fa;Oo.LENGTH=32;Oo.MULTI_ED25519_SCHEME=1;Oo.ED25519_SCHEME=0;Oo.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var lT=class{constructor(e,n,r,i,s,o,a){this.accountAddress=e,this.moduleName=n,this.structName=r,this.sequenceNumber=i,this.originator=s,this.currentAuthKey=o,this.newPublicKey=a}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},Fl=class{static fromAptosAccountObject(e){return new Fl(bt.ensure(e.privateKeyHex).toUint8Array(),e.address)}static fromDerivePath(e,n){if(!Fl.isValidPath(e))throw new Error("Invalid derivation path");const r=n.trim().split(/\s+/).map(s=>s.toLowerCase()).join(" "),{key:i}=Zw(e,bw(lw(r)));return new Fl(i)}constructor(e,n){e?this.signingKey=Ks.sign.keyPair.fromSeed(e.slice(0,32)):this.signingKey=Ks.sign.keyPair(),this.accountAddress=bt.ensure(n||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new hi(this.signingKey.publicKey);return Oo.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,n){const r=ds(En.fromHex(e)),i=new Uint8Array([...r,...n,Oo.DERIVE_RESOURCE_ACCOUNT_SCHEME]),s=ja.create();return s.update(i),bt.fromUint8Array(s.digest())}pubKey(){return bt.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const n=Ks.sign(e,this.signingKey.secretKey);return bt.fromUint8Array(n.slice(0,64))}signHexString(e){const n=bt.ensure(e).toUint8Array();return this.signBuffer(n)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:bt.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},Za=Fl;Za.isValidPath=t=>!!/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(t);tn([sf()],Za.prototype,"authKey",1);function ts(t){return t instanceof Za?t.address():bt.ensure(t)}var dT=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,fT=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,hT=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${dT}
${fT}`,pT=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,gT=`
    query getTokenActivities($idHash: String!) {
  token_activities(where: {token_data_id_hash: {_eq: $idHash}}) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,Mp=class{constructor(e){this.endpoint=e}async queryIndexer(e){const{data:n}=await Ui.post(this.endpoint,e);if(n.errors)throw new Error(`Indexer data error ${JSON.stringify(n.errors,null," ")}`);return n.data}async getIndexerLedgerInfo(){const e={query:pT};return this.queryIndexer(e)}async getAccountNFTs(e,n){const r={query:hT,variables:{address:e,offset:n==null?void 0:n.offset,limit:n==null?void 0:n.limit}};return this.queryIndexer(r)}async getTokenActivities(e){const n={query:gT,variables:{idHash:e}};return this.queryIndexer(n)}},o_={};rf(o_,{$AccountData:()=>RT,$AccountSignature:()=>$T,$AccountSignature_Ed25519Signature:()=>PT,$AccountSignature_MultiEd25519Signature:()=>CT,$Address:()=>OT,$AptosError:()=>UT,$AptosErrorCode:()=>MT,$Block:()=>NT,$BlockMetadataTransaction:()=>qT,$DecodedTableData:()=>DT,$DeleteModule:()=>HT,$DeleteResource:()=>jT,$DeleteTableItem:()=>zT,$DeletedTableData:()=>LT,$DirectWriteSet:()=>FT,$Ed25519Signature:()=>GT,$EncodeSubmissionRequest:()=>VT,$EntryFunctionId:()=>WT,$EntryFunctionPayload:()=>KT,$Event:()=>XT,$EventGuid:()=>ZT,$GasEstimation:()=>JT,$GenesisPayload:()=>YT,$GenesisPayload_WriteSetPayload:()=>QT,$GenesisTransaction:()=>e5,$HashValue:()=>t5,$HealthCheckSuccess:()=>n5,$HexEncodedBytes:()=>r5,$IdentifierWrapper:()=>i5,$IndexResponse:()=>s5,$ModuleBundlePayload:()=>o5,$MoveAbility:()=>a5,$MoveFunction:()=>c5,$MoveFunctionGenericTypeParam:()=>u5,$MoveFunctionVisibility:()=>l5,$MoveModule:()=>d5,$MoveModuleBytecode:()=>f5,$MoveModuleId:()=>h5,$MoveResource:()=>p5,$MoveScriptBytecode:()=>g5,$MoveStruct:()=>y5,$MoveStructField:()=>m5,$MoveStructGenericTypeParam:()=>w5,$MoveStructTag:()=>_5,$MoveStructValue:()=>b5,$MoveType:()=>v5,$MoveValue:()=>x5,$MultiAgentSignature:()=>S5,$MultiEd25519Signature:()=>T5,$MultisigPayload:()=>A5,$MultisigTransactionPayload:()=>E5,$PendingTransaction:()=>k5,$RawTableItemRequest:()=>B5,$RoleType:()=>I5,$ScriptPayload:()=>R5,$ScriptWriteSet:()=>$5,$StateCheckpointTransaction:()=>P5,$StateKeyWrapper:()=>C5,$SubmitTransactionRequest:()=>O5,$TableItemRequest:()=>U5,$Transaction:()=>M5,$TransactionPayload:()=>j5,$TransactionPayload_EntryFunctionPayload:()=>z5,$TransactionPayload_ModuleBundlePayload:()=>F5,$TransactionPayload_MultisigPayload:()=>G5,$TransactionPayload_ScriptPayload:()=>V5,$TransactionSignature:()=>X5,$TransactionSignature_Ed25519Signature:()=>Z5,$TransactionSignature_MultiAgentSignature:()=>J5,$TransactionSignature_MultiEd25519Signature:()=>Y5,$Transaction_BlockMetadataTransaction:()=>N5,$Transaction_GenesisTransaction:()=>q5,$Transaction_PendingTransaction:()=>D5,$Transaction_StateCheckpointTransaction:()=>L5,$Transaction_UserTransaction:()=>H5,$TransactionsBatchSingleSubmissionFailure:()=>W5,$TransactionsBatchSubmissionResult:()=>K5,$U128:()=>Q5,$U256:()=>e4,$U64:()=>t4,$UserTransaction:()=>n4,$VersionedEvent:()=>r4,$ViewRequest:()=>i4,$WriteModule:()=>s4,$WriteResource:()=>o4,$WriteSet:()=>a4,$WriteSetChange:()=>l4,$WriteSetChange_DeleteModule:()=>d4,$WriteSetChange_DeleteResource:()=>f4,$WriteSetChange_DeleteTableItem:()=>h4,$WriteSetChange_WriteModule:()=>p4,$WriteSetChange_WriteResource:()=>g4,$WriteSetChange_WriteTableItem:()=>y4,$WriteSetPayload:()=>m4,$WriteSet_DirectWriteSet:()=>c4,$WriteSet_ScriptWriteSet:()=>u4,$WriteTableItem:()=>w4,AccountsService:()=>p_,ApiError:()=>lu,AptosErrorCode:()=>x_,AptosGeneratedClient:()=>v_,BaseHttpRequest:()=>a_,BlocksService:()=>g_,CancelError:()=>c_,CancelablePromise:()=>u_,EventsService:()=>y_,GeneralService:()=>m_,MoveFunctionVisibility:()=>S_,OpenAPI:()=>IT,RoleType:()=>T_,TablesService:()=>w_,TransactionsService:()=>__,ViewService:()=>b_});var a_=class{constructor(e){this.config=e}},lu=class extends Error{constructor(e,n,r){super(r),this.name="ApiError",this.url=n.url,this.status=n.status,this.statusText=n.statusText,this.body=n.body,this.request=e}},c_=class extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}},u_=class{constructor(e){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((n,r)=>{this._resolve=n,this._reject=r;const i=a=>{var c;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(c=this._resolve)==null||c.call(this,a))},s=a=>{var c;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(c=this._reject)==null||c.call(this,a))},o=a=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(a)};return Object.defineProperty(o,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(o,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(o,"isCancelled",{get:()=>this._isCancelled}),e(i,s,o)})}then(e,n){return this._promise.then(e,n)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const n of this._cancelHandlers)n()}catch(n){console.warn("Cancellation threw an error",n);return}this._cancelHandlers.length=0,(e=this._reject)==null||e.call(this,new c_("Request aborted"))}}get isCancelled(){return this._isCancelled}},l_=class{constructor(e=new Map){this.jar=e}setCookie(e,n){var r;const i=e.origin.toLowerCase();this.jar.has(i)||this.jar.set(i,[]);const s=l_.parse(n);this.jar.set(i,[...((r=this.jar.get(i))==null?void 0:r.filter(o=>o.name!==s.name))||[],s])}getCookies(e){var n;const r=e.origin.toLowerCase();return this.jar.get(r)?((n=this.jar.get(r))==null?void 0:n.filter(i=>!i.expires||i.expires>new Date))||[]:[]}static parse(e){if(typeof e!="string")throw new Error("argument str must be a string");const n=e.split(";").map(i=>i.trim());let r;if(n.length>0){const[i,s]=n[0].split("=");if(!i||!s)throw new Error("Invalid cookie");r={name:i,value:s}}else throw new Error("Invalid cookie");return n.slice(1).forEach(i=>{const[s,o]=i.split("=");if(!s.trim())throw new Error("Invalid cookie");const a=s.toLowerCase(),c=(o==null?void 0:o.charAt(0))==="'"||(o==null?void 0:o.charAt(0))==='"'?o==null?void 0:o.slice(1,-1):o;if(a==="expires"&&(r.expires=new Date(c)),a==="path"&&(r.path=c),a==="samesite"){if(c!=="Lax"&&c!=="None"&&c!=="Strict")throw new Error("Invalid cookie SameSite value");r.sameSite=c}a==="secure"&&(r.secure=!0)}),r}},d_=new l_;Ui.interceptors.response.use(t=>(Array.isArray(t.headers["set-cookie"])&&t.headers["set-cookie"].forEach(e=>{d_.setCookie(new URL(t.config.url),e)}),t));Ui.interceptors.request.use(function(t){const e=d_.getCookies(new URL(t.url));return(e==null?void 0:e.length)>0&&t.headers&&(t.headers.cookie=e.map(n=>`${n.name}=${n.value}`).join("; ")),t});var Np=t=>t!=null,bf=t=>typeof t=="string",q0=t=>bf(t)&&t!=="",f_=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),yT=t=>t instanceof nf,mT=t=>t>=200&&t<300,wT=t=>btoa(t),_T=t=>{const e=[],n=(i,s)=>{e.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},r=(i,s)=>{Np(s)&&(Array.isArray(s)?s.forEach(o=>{r(i,o)}):typeof s=="object"?Object.entries(s).forEach(([o,a])=>{r(`${i}[${o}]`,a)}):n(i,s))};return Object.entries(t).forEach(([i,s])=>{r(i,s)}),e.length>0?`?${e.join("&")}`:""},bT=(t,e)=>{const n=t.ENCODE_PATH||encodeURI,r=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(s,o)=>{var a;return(a=e.path)!=null&&a.hasOwnProperty(o)?n(String(e.path[o])):s}),i=`${t.BASE}${r}`;return e.query?`${i}${_T(e.query)}`:i},vT=t=>{if(t.formData){const e=new nf,n=(r,i)=>{bf(i)||f_(i)?e.append(r,i):e.append(r,JSON.stringify(i))};return Object.entries(t.formData).filter(([r,i])=>Np(i)).forEach(([r,i])=>{Array.isArray(i)?i.forEach(s=>n(r,s)):n(r,i)}),e}},ll=async(t,e)=>typeof e=="function"?e(t):e,xT=async(t,e,n)=>{const r=await ll(e,t.TOKEN),i=await ll(e,t.USERNAME),s=await ll(e,t.PASSWORD),o=await ll(e,t.HEADERS),a=typeof(n==null?void 0:n.getHeaders)=="function"&&(n==null?void 0:n.getHeaders())||{},c=Object.entries({Accept:"application/json",...o,...e.headers,...a}).filter(([u,l])=>Np(l)).reduce((u,[l,d])=>({...u,[l]:String(d)}),{});if(q0(r)&&(c.Authorization=`Bearer ${r}`),q0(i)&&q0(s)){const u=wT(`${i}:${s}`);c.Authorization=`Basic ${u}`}return e.body&&(e.mediaType?c["Content-Type"]=e.mediaType:f_(e.body)?c["Content-Type"]=e.body.type||"application/octet-stream":bf(e.body)?c["Content-Type"]="text/plain":yT(e.body)||(c["Content-Type"]="application/json")),c},ST=t=>{if(t.body)return t.body},TT=async(t,e,n,r,i,s,o)=>{const a=Ui.CancelToken.source(),c={url:n,headers:s,data:r??i,method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:a.token};Object.keys(t.HEADERS||{}).filter(l=>l.toLowerCase()==="accept").map(l=>t.HEADERS[l]).includes("application/x-bcs")&&(c.responseType="arraybuffer"),o(()=>a.cancel("The user aborted a request."));try{return await Ui.request(c)}catch(l){const d=l;if(d.response)return d.response;throw l}},AT=(t,e)=>{if(e){const n=t.headers[e];if(bf(n))return n}},ET=t=>{if(t.status!==204)return t.data},kT=(t,e)=>{const r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(r)throw new lu(t,e,r);if(!e.ok)throw new lu(t,e,"Generic Error")},BT=(t,e)=>new u_(async(n,r,i)=>{try{const s=bT(t,e),o=vT(e),a=ST(e),c=await xT(t,e,o);if(!i.isCancelled){const u=await TT(t,e,s,a,o,c,i),l=ET(u),d=AT(u,e.responseHeader),f={url:s,ok:mT(u.status),status:u.status,statusText:u.statusText,body:d??l};kT(e,f);const p=f.body;try{p.__headers=u.headers}catch{}n(p)}}catch(s){r(s)}}),h_=class extends a_{constructor(e){super(e)}request(e){return BT(this.config,e)}},p_=class{constructor(e){this.httpRequest=e}getAccount(e,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:e},query:{ledger_version:n}})}getAccountResources(e,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:e},query:{ledger_version:n,start:r,limit:i}})}getAccountModules(e,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:e},query:{ledger_version:n,start:r,limit:i}})}getAccountResource(e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:e,resource_type:n},query:{ledger_version:r}})}getAccountModule(e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:e,module_name:n},query:{ledger_version:r}})}},g_=class{constructor(e){this.httpRequest=e}getBlockByHeight(e,n){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:e},query:{with_transactions:n}})}getBlockByVersion(e,n){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:e},query:{with_transactions:n}})}},y_=class{constructor(e){this.httpRequest=e}getEventsByCreationNumber(e,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:e,creation_number:n},query:{start:r,limit:i}})}getEventsByEventHandle(e,n,r,i,s){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:e,event_handle:n,field_name:r},query:{start:i,limit:s}})}},m_=class{constructor(e){this.httpRequest=e}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(e){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:e}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},w_=class{constructor(e){this.httpRequest=e}getTableItem(e,n,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:e},query:{ledger_version:r},body:n,mediaType:"application/json"})}getRawTableItem(e,n,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:e},query:{ledger_version:r},body:n,mediaType:"application/json"})}},__=class{constructor(e){this.httpRequest=e}getTransactions(e,n){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:e,limit:n}})}submitTransaction(e){return this.httpRequest.request({method:"POST",url:"/transactions",body:e,mediaType:"application/json"})}getTransactionByHash(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:e}})}getTransactionByVersion(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:e}})}getAccountTransactions(e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:e},query:{start:n,limit:r}})}submitBatchTransactions(e){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:e,mediaType:"application/json"})}simulateTransaction(e,n,r,i){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:n,estimate_gas_unit_price:r,estimate_prioritized_gas_unit_price:i},body:e,mediaType:"application/json"})}encodeSubmission(e){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:e,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},b_=class{constructor(e){this.httpRequest=e}view(e,n){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:n},body:e,mediaType:"application/json"})}},v_=class{constructor(e,n=h_){var r,i,s,o;this.request=new n({BASE:(r=e==null?void 0:e.BASE)!=null?r:"/v1",VERSION:(i=e==null?void 0:e.VERSION)!=null?i:"1.2.0",WITH_CREDENTIALS:(s=e==null?void 0:e.WITH_CREDENTIALS)!=null?s:!1,CREDENTIALS:(o=e==null?void 0:e.CREDENTIALS)!=null?o:"include",TOKEN:e==null?void 0:e.TOKEN,USERNAME:e==null?void 0:e.USERNAME,PASSWORD:e==null?void 0:e.PASSWORD,HEADERS:e==null?void 0:e.HEADERS,ENCODE_PATH:e==null?void 0:e.ENCODE_PATH}),this.accounts=new p_(this.request),this.blocks=new g_(this.request),this.events=new y_(this.request),this.general=new m_(this.request),this.tables=new w_(this.request),this.transactions=new __(this.request),this.view=new b_(this.request)}},IT={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},x_=(t=>(t.ACCOUNT_NOT_FOUND="account_not_found",t.RESOURCE_NOT_FOUND="resource_not_found",t.MODULE_NOT_FOUND="module_not_found",t.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",t.VERSION_NOT_FOUND="version_not_found",t.TRANSACTION_NOT_FOUND="transaction_not_found",t.TABLE_ITEM_NOT_FOUND="table_item_not_found",t.BLOCK_NOT_FOUND="block_not_found",t.VERSION_PRUNED="version_pruned",t.BLOCK_PRUNED="block_pruned",t.INVALID_INPUT="invalid_input",t.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",t.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",t.VM_ERROR="vm_error",t.HEALTH_CHECK_FAILED="health_check_failed",t.MEMPOOL_IS_FULL="mempool_is_full",t.INTERNAL_ERROR="internal_error",t.WEB_FRAMEWORK_ERROR="web_framework_error",t.BCS_NOT_SUPPORTED="bcs_not_supported",t.API_DISABLED="api_disabled",t))(x_||{}),S_=(t=>(t.PRIVATE="private",t.PUBLIC="public",t.FRIEND="friend",t))(S_||{}),T_=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(T_||{}),RT={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},$T={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},PT={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},CT={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},OT={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},UT={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},MT={type:"Enum"},NT={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},qT={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},DT={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},LT={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},HT={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},jT={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},zT={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},FT={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},GT={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},VT={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},WT={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},KT={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},XT={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},ZT={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},JT={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},YT={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},QT={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},e5={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},t5={type:"string"},n5={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},r5={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},i5={type:"string"},s5={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},o5={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},a5={type:"string"},c5={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},u5={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},l5={type:"Enum"},d5={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},f5={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},h5={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},p5={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},g5={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},y5={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},m5={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},w5={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},_5={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},b5={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},v5={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},x5={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},S5={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},T5={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},A5={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},E5={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},k5={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},B5={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},I5={type:"Enum"},R5={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},$5={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},P5={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},C5={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},O5={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},U5={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},M5={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},N5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},q5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},D5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},L5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},H5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},j5={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},z5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},F5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},G5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},V5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},W5={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},K5={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},X5={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},Z5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},J5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},Y5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Q5={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},e4={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},t4={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},n4={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},r4={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},i4={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},s4={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},o4={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},a4={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},c4={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},u4={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},l4={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},d4={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},f4={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},h4={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},p4={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},g4={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},y4={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},m4={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},w4={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}},_4=new Ga(En.fromHex("0x1"),new Rr("string"),new Rr("String"),[]);function vf(t,e,n){if(!(e!=null&&e.includes(typeof t)))throw new Error(n||`Invalid arg: ${t} type should be ${e instanceof Array?e.join(" or "):e}`)}function ho(t){throw new Error(t)}function Gy(t){return!!t.match(/\s/)}function Vy(t){return!!t.match(/[_A-Za-z0-9]/g)}function b4(t,e){const n=t[e];if(n===":"){if(t.slice(e,e+2)==="::")return[["COLON","::"],2];ho("Unrecognized token.")}else{if(n==="<")return[["LT","<"],1];if(n===">")return[["GT",">"],1];if(n===",")return[["COMMA",","],1];if(Gy(n)){let r="";for(let i=e;i<t.length;i+=1){const s=t[i];if(Gy(s))r=`${r}${s}`;else break}return[["SPACE",r],r.length]}else if(Vy(n)){let r="";for(let i=e;i<t.length;i+=1){const s=t[i];if(Vy(s))r=`${r}${s}`;else break}return[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function v4(t){let e=0;const n=[];for(;e<t.length;){const[r,i]=b4(t,e);r[0]!=="SPACE"&&n.push(r),e+=i}return n}var xf=class{constructor(e){this.tokens=v4(e)}consume(e){const n=this.tokens.shift();(!n||n[1]!==e)&&ho("Invalid type tag.")}parseCommaList(e,n){const r=[];for(this.tokens.length<=0&&ho("Invalid type tag.");this.tokens[0][1]!==e&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===e||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&n)));)this.tokens.length<=0&&ho("Invalid type tag.");return r}parseTypeTag(){this.tokens.length===0&&ho("Invalid type tag.");const[e,n]=this.tokens.shift();if(n==="u8")return new us;if(n==="u16")return new mc;if(n==="u32")return new wc;if(n==="u64")return new Go;if(n==="u128")return new Vo;if(n==="u256")return new _c;if(n==="bool")return new Fo;if(n==="address")return new Wo;if(n==="vector"){this.consume("<");const r=this.parseTypeTag();return this.consume(">"),new bc(r)}if(e==="IDENT"&&(n.startsWith("0x")||n.startsWith("0X"))){const r=n;this.consume("::");const[i,s]=this.tokens.shift();i!=="IDENT"&&ho("Invalid type tag."),this.consume("::");const[o,a]=this.tokens.shift();o!=="IDENT"&&ho("Invalid type tag.");let c=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),c=this.parseCommaList(">",!0),this.consume(">"));const u=new Ga(En.fromHex(r),new Rr(s),new Rr(a),c);return new Ko(u)}throw new Error("Invalid type tag.")}};function A_(t){if(vf(t,["boolean","string"]),typeof t=="boolean")return t;if(t==="true")return!0;if(t==="false")return!1;throw new Error("Invalid boolean string.")}function Ba(t){if(vf(t,["number","string"]),typeof t=="number")return t;const e=Number.parseInt(t,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function Ia(t){return vf(t,["number","bigint","string"]),BigInt(t)}function qp(t,e,n){if(e instanceof Fo){n.serializeBool(A_(t));return}if(e instanceof us){n.serializeU8(Ba(t));return}if(e instanceof mc){n.serializeU16(Ba(t));return}if(e instanceof wc){n.serializeU32(Ba(t));return}if(e instanceof Go){n.serializeU64(Ia(t));return}if(e instanceof Vo){n.serializeU128(Ia(t));return}if(e instanceof _c){n.serializeU256(Ia(t));return}if(e instanceof Wo){let r;if(typeof t=="string"||t instanceof bt)r=En.fromHex(t);else if(t instanceof En)r=t;else throw new Error("Invalid account address.");r.serialize(n);return}if(e instanceof bc){if(e.value instanceof us){if(t instanceof Uint8Array){n.serializeBytes(t);return}if(typeof t=="string"){n.serializeStr(t);return}}if(!Array.isArray(t))throw new Error("Invalid vector args.");n.serializeU32AsUleb128(t.length),t.forEach(r=>qp(r,e.value,n));return}if(e instanceof Ko){const{address:r,module_name:i,name:s}=e.value;if(`${bt.fromUint8Array(r.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");vf(t,["string"]),n.serializeStr(t);return}throw new Error("Unsupported arg type.")}function x4(t,e){if(e instanceof Fo)return new mf(A_(t));if(e instanceof us)return new ff(Ba(t));if(e instanceof mc)return new hf(Ba(t));if(e instanceof wc)return new pf(Ba(t));if(e instanceof Go)return new Va(Ia(t));if(e instanceof Vo)return new gf(Ia(t));if(e instanceof _c)return new yf(Ia(t));if(e instanceof Wo){let n;if(typeof t=="string"||t instanceof bt)n=En.fromHex(t);else if(t instanceof En)n=t;else throw new Error("Invalid account address.");return new Wa(n)}if(e instanceof bc&&e.value instanceof us){if(!(t instanceof Uint8Array))throw new Error(`${t} should be an instance of Uint8Array`);return new Ka(t)}throw new Error("Unknown type for TransactionArgument.")}var S4="APTOS::RawTransaction",T4="APTOS::RawTransactionWithData",Uo=class{constructor(e,n){this.rawTxnBuilder=n,this.signingFunction=e}build(e,n,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,n,r)}static getSigningMessage(e){const n=ja.create();if(e instanceof vc)n.update(S4);else if(e instanceof uf)n.update(T4);else throw new Error("Unknown transaction type.");const r=n.digest(),i=ds(e),s=new Uint8Array(r.length+i.length);return s.set(r),s.set(i,r.length),s}},Gl=class extends Uo{constructor(e,n,r){super(e,r),this.publicKey=n}rawToSigned(e){const n=Uo.getSigningMessage(e),r=this.signingFunction(n),i=new af(new hi(this.publicKey),r);return new Du(e,i)}sign(e){return ds(this.rawToSigned(e))}},E_=class extends Uo{constructor(e,n){super(e),this.publicKey=n}rawToSigned(e){const n=Uo.getSigningMessage(e),r=this.signingFunction(n),i=new cf(this.publicKey,r);return new Du(e,i)}sign(e){return ds(this.rawToSigned(e))}},hd=class{constructor(e,n){this.abiMap=new Map,e.forEach(r=>{const i=new kp(r),s=wf.deserialize(i);let o;if(s instanceof Xa){const a=s,{address:c,name:u}=a.module_name;o=`${bt.fromUint8Array(c.address).toShortString()}::${u.value}::${a.name}`}else o=s.name;if(this.abiMap.has(o))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(o,s)}),this.builderConfig={maxGasAmount:BigInt(Jw),expSecFromNow:Yw,...n}}static toBCSArgs(e,n){if(e.length!==n.length)throw new Error("Wrong number of args provided.");return n.map((r,i)=>{const s=new Cn;return qp(r,e[i].type_tag,s),s.getBytes()})}static toTransactionArguments(e,n){if(e.length!==n.length)throw new Error("Wrong number of args provided.");return n.map((r,i)=>x4(r,e[i].type_tag))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(e,n,r){const i=n.map(a=>new xf(a).parseTypeTag());let s;if(!this.abiMap.has(e))throw new Error(`Cannot find function: ${e}`);const o=this.abiMap.get(e);if(o instanceof Xa){const a=o,c=hd.toBCSArgs(a.args,r);s=new lf(new Bo(a.module_name,new Rr(a.name),i,c))}else if(o instanceof _f){const a=o,c=hd.toTransactionArguments(a.args,r);s=new Hu(new qu(a.code,i,c))}else throw new Error("Unknown ABI format.");return s}build(e,n,r){const{sender:i,sequenceNumber:s,gasUnitPrice:o,maxGasAmount:a,expSecFromNow:c,chainId:u}=this.builderConfig;if(!o)throw new Error("No gasUnitPrice provided.");const l=i instanceof En?i:En.fromHex(i),d=BigInt(Math.floor(Date.now()/1e3)+Number(c)),f=this.buildTransactionPayload(e,n,r);if(f)return new vc(l,BigInt(s),f,BigInt(a),BigInt(o),d,new df(Number(u)));throw new Error("Invalid ABI.")}},Er=class{constructor(e,n){this.aptosClient=e,this.builderConfig=n}async fetchABI(e){const r=(await this.aptosClient.getAccountModules(e)).map(s=>s.abi).flatMap(s=>s.exposed_functions.filter(o=>o.is_entry).map(o=>({fullName:`${s.address}::${s.name}::${o.name}`,...o}))),i=new Map;return r.forEach(s=>{i.set(s.fullName,s)}),i}async build(e,n,r){if(e=(x=>x.replace(/^0[xX]0*/g,"0x"))(e),e.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[o,a]=e.split("::"),c=await this.fetchABI(o);if(!c.has(e))throw new Error(`${e} doesn't exist.`);const u=c.get(e),d=u.params.filter(x=>x!=="signer"&&x!=="&signer").map((x,T)=>new zu(`var${T}`,new xf(x).parseTypeTag())),f=new Xa(u.name,Co.fromStr(`${o}::${a}`),"",u.generic_type_params.map((x,T)=>new ju(`${T}`)),d),{sender:p,...w}=this.builderConfig,m=p instanceof En?bt.fromUint8Array(p.address):p,[{sequence_number:v},k,{gas_estimate:E}]=await Promise.all([w!=null&&w.sequenceNumber?Promise.resolve({sequence_number:w==null?void 0:w.sequenceNumber}):this.aptosClient.getAccount(m),w!=null&&w.chainId?Promise.resolve(w==null?void 0:w.chainId):this.aptosClient.getChainId(),w!=null&&w.gasUnitPrice?Promise.resolve({gas_estimate:w==null?void 0:w.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new hd([ds(f)],{sender:p,sequenceNumber:v,chainId:k,gasUnitPrice:BigInt(E),...w}).build(e,n,r)}};tn([WS(10*60*1e3)],Er.prototype,"fetchABI",1);var jc=class{constructor(e,n,r=!1){if(!e)throw new Error("Node URL cannot be empty.");const i=n==null?{}:{...n};r?this.nodeUrl=e:this.nodeUrl=VS(e),i.BASE=this.nodeUrl,(n==null?void 0:n.WITH_CREDENTIALS)===!1?i.WITH_CREDENTIALS=!1:i.WITH_CREDENTIALS=!0,this.client=new v_(i)}async getAccount(e){return this.client.accounts.getAccount(bt.ensure(e).hex())}async getAccountTransactions(e,n){var r;return this.client.transactions.getAccountTransactions(bt.ensure(e).hex(),(r=n==null?void 0:n.start)==null?void 0:r.toString(),n==null?void 0:n.limit)}async getAccountModules(e,n){const r=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await Fy(r,e,1e3,n)}async getAccountModule(e,n,r){var i;return this.client.accounts.getAccountModule(bt.ensure(e).hex(),n,(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString())}async getAccountResources(e,n){const r=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await Fy(r,e,9999,n)}async getAccountResource(e,n,r){var i;return this.client.accounts.getAccountResource(bt.ensure(e).hex(),n,(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString())}static generateBCSTransaction(e,n){return new Gl(i=>{const s=e.signBuffer(i);return new Gt.Ed25519Signature(s.toUint8Array())},e.pubKey().toUint8Array()).sign(n)}static generateBCSSimulation(e,n){return new Gl(i=>{const s=new Uint8Array(64);return new Gt.Ed25519Signature(s)},e.pubKey().toUint8Array()).sign(n)}async generateTransaction(e,n,r){const i={sender:e};if(r!=null&&r.sequence_number&&(i.sequenceNumber=r.sequence_number),r!=null&&r.gas_unit_price&&(i.gasUnitPrice=r.gas_unit_price),r!=null&&r.max_gas_amount&&(i.maxGasAmount=r.max_gas_amount),r!=null&&r.expiration_timestamp_secs){const o=Number.parseInt(r.expiration_timestamp_secs,10);i.expSecFromNow=o-Math.floor(Date.now()/1e3)}return new Er(this,i).build(n.function,n.type_arguments,n.arguments)}async signTransaction(e,n){return Promise.resolve(jc.generateBCSTransaction(e,n))}async getEventsByCreationNumber(e,n,r){var i;return this.client.events.getEventsByCreationNumber(bt.ensure(e).hex(),n.toString(),(i=r==null?void 0:r.start)==null?void 0:i.toString(),r==null?void 0:r.limit)}async getEventsByEventHandle(e,n,r,i){var s;return this.client.events.getEventsByEventHandle(bt.ensure(e).hex(),n,r,(s=i==null?void 0:i.start)==null?void 0:s.toString(),i==null?void 0:i.limit)}async submitTransaction(e){return this.submitSignedBCSTransaction(e)}async simulateTransaction(e,n,r){let i;return e instanceof Za?i=jc.generateBCSSimulation(e,n):e instanceof Mu?i=new E_(()=>{const{threshold:o}=e,a=[],c=[];for(let l=0;l<o;l+=1)a.push(l),c.push(new Gt.Ed25519Signature(new Uint8Array(64)));const u=Gt.MultiEd25519Signature.createBitmap(a);return new Gt.MultiEd25519Signature(c,u)},e).sign(n):i=new Gl(()=>{const o=new Uint8Array(64);return new Gt.Ed25519Signature(o)},e.toBytes()).sign(n),this.submitBCSSimulation(i,r)}async submitSignedBCSTransaction(e){return this.client.request.request({url:"/transactions",method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(e,n){var r,i,s;const o={estimate_gas_unit_price:(r=n==null?void 0:n.estimateGasUnitPrice)!=null?r:!1,estimate_max_gas_amount:(i=n==null?void 0:n.estimateMaxGasAmount)!=null?i:!1,estimate_prioritized_gas_unit_price:(s=n==null?void 0:n.estimatePrioritizedGasUnitPrice)!=null?s:!1};return this.client.request.request({url:"/transactions/simulate",query:o,method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(e){var n;return this.client.transactions.getTransactions((n=e==null?void 0:e.start)==null?void 0:n.toString(),e==null?void 0:e.limit)}async getTransactionByHash(e){return this.client.transactions.getTransactionByHash(e)}async getTransactionByVersion(e){return this.client.transactions.getTransactionByVersion(e.toString())}async transactionPending(e){try{return(await this.client.transactions.getTransactionByHash(e)).type==="pending_transaction"}catch(n){if((n==null?void 0:n.status)===404)return!0;throw n}}async waitForTransactionWithResult(e,n){var r,i;const s=(r=n==null?void 0:n.timeoutSecs)!=null?r:Qw,o=(i=n==null?void 0:n.checkSuccess)!=null?i:!1;let a=!0,c=0,u;for(;a&&!(c>=s);){try{if(u=await this.client.transactions.getTransactionByHash(e),a=u.type==="pending_transaction",!a)break}catch(l){const d=l instanceof lu,f=d&&l.status!==404&&l.status>=400&&l.status<500;if(!d||f)throw l}await GS(1e3),c+=1}if(u===void 0)throw new Error(`Waiting for transaction ${e} failed`);if(a)throw new B_(`Waiting for transaction ${e} timed out after ${s} seconds`,u);if(!o)return u;if(!(u!=null&&u.success))throw new I_(`Transaction ${e} committed to the blockchain but execution failed`,u);return u}async waitForTransaction(e,n){await this.waitForTransactionWithResult(e,n)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(e,n,r){var i;return await this.client.tables.getTableItem(e,n,(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString())}async generateRawTransaction(e,n,r){const[{sequence_number:i},s,{gas_estimate:o}]=await Promise.all([this.getAccount(e),this.getChainId(),r!=null&&r.gasUnitPrice?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:c,expireTimestamp:u}={maxGasAmount:BigInt(Jw),gasUnitPrice:BigInt(o),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+Yw),...r};return new Gt.RawTransaction(Gt.AccountAddress.fromHex(e),BigInt(i),n,a,c,u,new Gt.ChainId(s))}async generateSignSubmitTransaction(e,n,r){const i=await this.generateRawTransaction(e.address(),n,r),s=jc.generateBCSTransaction(e,i);return(await this.submitSignedBCSTransaction(s)).hash}async publishPackage(e,n,r,i){const s=new Cn;Qr(r,s);const o=new Gt.TransactionPayloadEntryFunction(Gt.EntryFunction.natural("0x1::code","publish_package_txn",[],[da(n),s.getBytes()]));return this.generateSignSubmitTransaction(e,o,i)}async generateSignSubmitWaitForTransaction(e,n,r){const i=await this.generateSignSubmitTransaction(e,n,r);return this.waitForTransactionWithResult(i,r)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(e){const n=`0x1::coin::CoinStore<${gh}>`,[{gas_estimate:r},i]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(e)]),s=i.find(a=>a.type===n);return BigInt(s.data.coin.value)/BigInt(r)}async rotateAuthKeyEd25519(e,n,r){const{sequence_number:i,authentication_key:s}=await this.getAccount(e.address()),o=new Za(n),a=new Gt.RotationProofChallenge(Gt.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(i),Gt.AccountAddress.fromHex(e.address()),new Gt.AccountAddress(new bt(s).toUint8Array()),o.pubKey().toUint8Array()),c=bt.fromUint8Array(ds(a)),u=e.signHexString(c),l=o.signHexString(c),d=new Gt.TransactionPayloadEntryFunction(Gt.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[yh(0),da(e.pubKey().toUint8Array()),yh(0),da(o.pubKey().toUint8Array()),da(u.toUint8Array()),da(l.toUint8Array())])),f=await this.generateRawTransaction(e.address(),d,r),p=jc.generateBCSTransaction(e,f);return this.submitSignedBCSTransaction(p)}async lookupOriginalAddress(e){const n=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=n.data,i=await this.getTableItem(r,{key_type:"address",value_type:"address",key:bt.ensure(e).hex()});return new bt(i)}async getBlockByHeight(e,n){return this.client.blocks.getBlockByHeight(e,n)}async getBlockByVersion(e,n){return this.client.blocks.getBlockByVersion(e,n)}async view(e,n){return this.client.view.view(e,n)}clearCache(e){KS(e)}},Ct=jc;tn([Ln],Ct.prototype,"getAccount",1);tn([Ln],Ct.prototype,"getAccountTransactions",1);tn([Ln],Ct.prototype,"getAccountModules",1);tn([Ln],Ct.prototype,"getAccountModule",1);tn([Ln],Ct.prototype,"getAccountResources",1);tn([Ln],Ct.prototype,"getAccountResource",1);tn([Ln],Ct.prototype,"getEventsByCreationNumber",1);tn([Ln],Ct.prototype,"getEventsByEventHandle",1);tn([Ln],Ct.prototype,"submitSignedBCSTransaction",1);tn([Ln],Ct.prototype,"submitBCSSimulation",1);tn([Ln],Ct.prototype,"getTransactions",1);tn([Ln],Ct.prototype,"getTransactionByHash",1);tn([Ln],Ct.prototype,"getTransactionByVersion",1);tn([Ln],Ct.prototype,"getLedgerInfo",1);tn([sf()],Ct.prototype,"getChainId",1);tn([Ln],Ct.prototype,"getTableItem",1);tn([Ln,sf({ttlMs:5*60*1e3,tags:["gas_estimates"]})],Ct.prototype,"estimateGasPrice",1);tn([Ln],Ct.prototype,"estimateMaxGasAmount",1);tn([Ln],Ct.prototype,"getBlockByHeight",1);tn([Ln],Ct.prototype,"getBlockByVersion",1);tn([Ln],Ct.prototype,"view",1);var k_=class extends Error{constructor(e,n,r,i){super(n),this.status=e,this.message=n,this.errorCode=r,this.vmErrorCode=i}},B_=class extends Error{constructor(e,n){super(e),this.lastSubmittedTransaction=n}},I_=class extends Error{constructor(e,n){super(e),this.transaction=n}};function Ln(t,e,n){const r=n.value;return n.value=async function(...s){var o,a;try{return await r.apply(this,[...s])}catch(c){throw c instanceof lu?new k_(c.status,JSON.stringify({message:c.message,...c.body}),(o=c.body)==null?void 0:o.error_code,(a=c.body)==null?void 0:a.vm_error_code):c}},n}var Dp=class{constructor(e,n,r=!1){let i=null,s=null;if(typeof e=="object"&&A4(e)?(i=e.fullnodeUrl,s=e.indexerUrl):(i=ZS[e],s=XS[e]),!i||!s)throw new Error("network is not provided");this.aptosClient=new Ct(i,n,r),this.indexerClient=new Mp(s)}};function R_(t,e,n){Object.getOwnPropertyNames(e.prototype).forEach(r=>{const i=Object.getOwnPropertyDescriptor(e.prototype,r);i&&(i.value=function(...s){return this[n][r](...s)},Object.defineProperty(t.prototype,r,i))})}R_(Dp,Ct,"aptosClient");R_(Dp,Mp,"indexerClient");function A4(t){return t.fullnodeUrl!==void 0&&typeof t.fullnodeUrl=="string"&&t.indexerUrl!==void 0&&typeof t.indexerUrl=="string"}var E4="a11ceb0b0500000006010004020408030c0a05161d073339086c400000010100020700010307000104030100010504020007060c0508000800030503010801000405080008000304060c0801050306737472696e6705746f6b656e06537472696e6707546f6b656e4964136372656174655f746f6b656e5f69645f726177087472616e73666572000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000010c0b010b020b030b0411000c070b000b070b050b06110102",$_=class{constructor(e,n){this.type=e,this.value=n}},Lp=class{constructor(){this.data={}}setProperty(e,n){this.data[e]=n}};function P_(t){let e;return t==="string"||t==="String"?e=new Ko(_4):e=new xf(t).parseTypeTag(),e}function C_(t,e){if(t.length!==e.length)throw new Error("Length of property values and types not match");const n=new Array;return e.forEach((r,i)=>{try{const s=P_(r),o=new Cn;qp(t[i],s,o),n.push(o.getBytes())}catch{n.push(new TextEncoder().encode(t[i]))}}),n}function Hp(t){const e=t.map.data,n=new Lp;return e.forEach(r=>{const{key:i}=r,s=r.value.value,o=r.value.type,a=P_(o),c=O_(a,s),u=new $_(o,c);n.setProperty(i,u)}),n}function O_(t,e){const n=new kp(new bt(e).toUint8Array());let r="";return t instanceof us?r=n.deserializeU8().toString():t instanceof Go?r=n.deserializeU64().toString():t instanceof Vo?r=n.deserializeU128().toString():t instanceof Fo?r=n.deserializeBool()?"true":"false":t instanceof Wo?r=bt.fromUint8Array(n.deserializeFixedBytes(32)).hex():t instanceof Ko&&t.isStringTypeTag()?r=n.deserializeStr():r=e,r}var U_={};rf(U_,{PropertyMap:()=>Lp,PropertyValue:()=>$_,Token:()=>N_,TokenData:()=>M_});var M_=class{constructor(e,n,r,i,s,o,a,c){this.collection=e,this.description=n,this.name=r,this.maximum=i,this.supply=s,this.uri=o,this.default_properties=Hp(a),this.mutability_config=c}},N_=class{constructor(e,n,r){this.id=e,this.amount=n,this.token_properties=Hp(r)}},k4=class{constructor(e){this.aptosClient=e}async createCollection(e,n,r,i,s=nu,o){const c=await new Er(this.aptosClient,{sender:e.address(),...o}).build("0x3::token::create_collection_script",[],[n,r,i,s,[!1,!1,!1]]),u=Ct.generateBCSTransaction(e,c);return(await this.aptosClient.submitSignedBCSTransaction(u)).hash}async createToken(e,n,r,i,s,o,a=nu,c=e.address(),u=0,l=0,d=[],f=[],p=[],w){const v=await new Er(this.aptosClient,{sender:e.address(),...w}).build("0x3::token::create_token_script",[],[n,r,i,s,a,o,c,u,l,[!1,!1,!1,!1,!1],d,C_(f,p),p]),k=Ct.generateBCSTransaction(e,v);return(await this.aptosClient.submitSignedBCSTransaction(k)).hash}async createTokenWithMutabilityConfig(e,n,r,i,s,o,a=nu,c=e.address(),u=0,l=0,d=[],f=[],p=[],w=[!1,!1,!1,!1,!1],m){const k=await new Er(this.aptosClient,{sender:e.address(),...m}).build("0x3::token::create_token_script",[],[n,r,i,s,a,o,c,u,l,w,d,f,p]),E=Ct.generateBCSTransaction(e,k);return(await this.aptosClient.submitSignedBCSTransaction(E)).hash}async offerToken(e,n,r,i,s,o,a=0,c){const l=await new Er(this.aptosClient,{sender:e.address(),...c}).build("0x3::token_transfers::offer_script",[],[n,r,i,s,a,o]),d=Ct.generateBCSTransaction(e,l);return(await this.aptosClient.submitSignedBCSTransaction(d)).hash}async claimToken(e,n,r,i,s,o=0,a){const u=await new Er(this.aptosClient,{sender:e.address(),...a}).build("0x3::token_transfers::claim_script",[],[n,r,i,s,o]),l=Ct.generateBCSTransaction(e,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async cancelTokenOffer(e,n,r,i,s,o=0,a){const u=await new Er(this.aptosClient,{sender:e.address(),...a}).build("0x3::token_transfers::cancel_offer_script",[],[n,r,i,s,o]),l=Ct.generateBCSTransaction(e,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async directTransferToken(e,n,r,i,s,o,a=0,c){const l=await new Er(this.aptosClient,{sender:e.address(),...c}).build("0x3::token::direct_transfer_script",[],[r,i,s,a,o]),d=new Gt.MultiAgentRawTransaction(l,[Gt.AccountAddress.fromHex(n.address())]),f=new Gt.Ed25519Signature(e.signBuffer(Uo.getSigningMessage(d)).toUint8Array()),p=new Gt.AccountAuthenticatorEd25519(new Gt.Ed25519PublicKey(e.signingKey.publicKey),f),w=new Gt.Ed25519Signature(n.signBuffer(Uo.getSigningMessage(d)).toUint8Array()),m=new Gt.AccountAuthenticatorEd25519(new Gt.Ed25519PublicKey(n.signingKey.publicKey),w),v=new Gt.TransactionAuthenticatorMultiAgent(p,[Gt.AccountAddress.fromHex(n.address())],[m]),k=ds(new Gt.SignedTransaction(l,v));return(await this.aptosClient.submitSignedBCSTransaction(k)).hash}async optInTokenTransfer(e,n,r){const s=await new Er(this.aptosClient,{sender:e.address(),...r}).build("0x3::token::opt_in_direct_transfer",[],[n]),o=Ct.generateBCSTransaction(e,s);return(await this.aptosClient.submitSignedBCSTransaction(o)).hash}async transferWithOptIn(e,n,r,i,s,o,a,c){const u=new Hu(new qu(new bt(E4).toUint8Array(),[],[new Wa(Gt.AccountAddress.fromHex(n)),new Ka(new TextEncoder().encode(r)),new Ka(new TextEncoder().encode(i)),new Va(BigInt(s)),new Wa(Gt.AccountAddress.fromHex(o)),new Va(BigInt(a))]));return this.aptosClient.generateSignSubmitTransaction(e,u,c)}async burnByCreator(e,n,r,i,s,o,a){const u=await new Er(this.aptosClient,{sender:e.address(),...a}).build("0x3::token::burn_by_creator",[],[n,r,i,s,o]),l=Ct.generateBCSTransaction(e,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async burnByOwner(e,n,r,i,s,o,a){const u=await new Er(this.aptosClient,{sender:e.address(),...a}).build("0x3::token::burn",[],[n,r,i,s,o]),l=Ct.generateBCSTransaction(e,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async mutateTokenProperties(e,n,r,i,s,o,a,c,u,l,d){const p=await new Er(this.aptosClient,{sender:e.address(),...d}).build("0x3::token::mutate_token_properties",[],[n,r,i,s,o,a,c,u,l]),w=Ct.generateBCSTransaction(e,p);return(await this.aptosClient.submitSignedBCSTransaction(w)).hash}async getCollectionData(e,n){const i=(await this.aptosClient.getAccountResources(e)).find(c=>c.type==="0x3::token::Collections"),{handle:s}=i.data.collection_data,o={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:n};return await this.aptosClient.getTableItem(s,o)}async getTokenData(e,n,r){const i=e instanceof bt?e.hex():e,s=await this.aptosClient.getAccountResource(i,"0x3::token::Collections"),{handle:o}=s.data.token_data,c={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:i,collection:n,name:r}},u=await this.aptosClient.getTableItem(o,c);return new M_(u.collection,u.description,u.name,u.maximum,u.supply,u.uri,u.default_properties,u.mutability_config)}async getToken(e,n,r,i="0"){const s={creator:e instanceof bt?e.hex():e,collection:n,name:r};return this.getTokenForAccount(e,{token_data_id:s,property_version:i})}async getTokenForAccount(e,n){const r=await this.aptosClient.getAccountResource(e instanceof bt?e.hex():e,"0x3::token::TokenStore"),{handle:i}=r.data.tokens,s={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:n};try{const o=await this.aptosClient.getTableItem(i,s);return new N_(o.id,o.amount,o.token_properties)}catch(o){return(o==null?void 0:o.status)===404?{id:n,amount:"0",token_properties:new Lp}:o}}},B4=class{constructor(t){this.aptosClient=t}async transfer(t,e,n,r){var i;const s=(i=r==null?void 0:r.coinType)!=null?i:gh,o=r!=null&&r.createReceiverIfMissing?"0x1::aptos_account::transfer":"0x1::coin::transfer",a=r!=null&&r.createReceiverIfMissing?[]:[s],c=ts(e),l=await new Er(this.aptosClient,{sender:t.address(),...r}).build(o,a,[c,n]),d=Ct.generateBCSTransaction(t,l);return(await this.aptosClient.submitSignedBCSTransaction(d)).hash}async checkBalance(t,e){var n;const i=`0x1::coin::CoinStore<${(n=e==null?void 0:e.coinType)!=null?n:gh}>`,s=ts(t),o=await this.aptosClient.getAccountResource(s,i);return BigInt(o.data.coin.value)}},I4=class extends Ct{constructor(t,e,n){var r,i,s;if(super(t,n),!e)throw new Error("Faucet URL cannot be empty.");this.faucetRequester=new h_({BASE:e,VERSION:(r=n==null?void 0:n.VERSION)!=null?r:"0.1.0",WITH_CREDENTIALS:(i=n==null?void 0:n.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=n==null?void 0:n.CREDENTIALS)!=null?s:"include",TOKEN:n==null?void 0:n.TOKEN,USERNAME:n==null?void 0:n.USERNAME,PASSWORD:n==null?void 0:n.PASSWORD,HEADERS:n==null?void 0:n.HEADERS,ENCODE_PATH:n==null?void 0:n.ENCODE_PATH})}async fundAccount(t,e,n=Qw){const r=await this.faucetRequester.request({method:"POST",url:"/mint",query:{address:bt.ensure(t).noPrefix(),amount:e}}),i=[];for(let s=0;s<r.length;s+=1){const o=r[s];i.push(this.waitForTransaction(o,{timeoutSecs:n}))}return await Promise.all(i),r}};const DL=Object.freeze(Object.defineProperty({__proto__:null,ApiError:k_,AptosAccount:Za,AptosClient:Ct,BCS:t_,CoinClient:B4,FailedTransactionError:I_,FaucetClient:I4,HexString:bt,IndexerClient:Mp,Network:e_,Provider:Dp,TokenClient:k4,TokenTypes:U_,TransactionBuilder:Uo,TransactionBuilderABI:hd,TransactionBuilderEd25519:Gl,TransactionBuilderMultiEd25519:E_,TransactionBuilderRemoteABI:Er,TxnBuilderTypes:Gt,TypeTagParser:xf,Types:o_,WaitForTransactionError:B_,derivePath:Zw,deserializePropertyMap:Hp,deserializeValueBasedOnTypeTag:O_,getAddressFromAccountOrAddress:ts,getPropertyValueRaw:C_},Symbol.toStringTag,{value:"Module"}));var Gr={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.output=Yn.exists=Yn.hash=Yn.bytes=Yn.bool=Yn.number=void 0;function pd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Yn.number=pd;function q_(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Yn.bool=q_;function jp(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Yn.bytes=jp;function D_(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");pd(t.outputLen),pd(t.blockLen)}Yn.hash=D_;function L_(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Yn.exists=L_;function H_(t,e){jp(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Yn.output=H_;const R4={number:pd,bool:q_,bytes:jp,hash:D_,exists:L_,output:H_};Yn.default=R4;var Ja={},j_={},Xo={},Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.crypto=void 0;Sf.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=Sf,n=x=>new Uint8Array(x.buffer,x.byteOffset,x.byteLength);t.u8=n;const r=x=>new Uint32Array(x.buffer,x.byteOffset,Math.floor(x.byteLength/4));t.u32=r;const i=x=>new DataView(x.buffer,x.byteOffset,x.byteLength);t.createView=i;const s=(x,T)=>x<<32-T|x>>>T;if(t.rotr=s,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(x,T)=>T.toString(16).padStart(2,"0"));function a(x){if(!(x instanceof Uint8Array))throw new Error("Uint8Array expected");let T="";for(let $=0;$<x.length;$++)T+=o[x[$]];return T}t.bytesToHex=a;function c(x){if(typeof x!="string")throw new TypeError("hexToBytes: expected string, got "+typeof x);if(x.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const T=new Uint8Array(x.length/2);for(let $=0;$<T.length;$++){const L=$*2,z=x.slice(L,L+2),J=Number.parseInt(z,16);if(Number.isNaN(J)||J<0)throw new Error("Invalid byte sequence");T[$]=J}return T}t.hexToBytes=c;const u=async()=>{};t.nextTick=u;async function l(x,T,$){let L=Date.now();for(let z=0;z<x;z++){$(z);const J=Date.now()-L;J>=0&&J<T||(await(0,t.nextTick)(),L+=J)}}t.asyncLoop=l;function d(x){if(typeof x!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof x}`);return new TextEncoder().encode(x)}t.utf8ToBytes=d;function f(x){if(typeof x=="string"&&(x=d(x)),!(x instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof x})`);return x}t.toBytes=f;function p(...x){if(!x.every(L=>L instanceof Uint8Array))throw new Error("Uint8Array list expected");if(x.length===1)return x[0];const T=x.reduce((L,z)=>L+z.length,0),$=new Uint8Array(T);for(let L=0,z=0;L<x.length;L++){const J=x[L];$.set(J,z),z+=J.length}return $}t.concatBytes=p;class w{clone(){return this._cloneInto()}}t.Hash=w;const m=x=>Object.prototype.toString.call(x)==="[object Object]"&&x.constructor===Object;function v(x,T){if(T!==void 0&&(typeof T!="object"||!m(T)))throw new TypeError("Options should be object or undefined");return Object.assign(x,T)}t.checkOpts=v;function k(x){const T=L=>x().update(f(L)).digest(),$=x();return T.outputLen=$.outputLen,T.blockLen=$.blockLen,T.create=()=>x(),T}t.wrapConstructor=k;function E(x){const T=(L,z)=>x(z).update(f(L)).digest(),$=x({});return T.outputLen=$.outputLen,T.blockLen=$.blockLen,T.create=L=>x(L),T}t.wrapConstructorWithOpts=E;function b(x=32){if(e.crypto.web)return e.crypto.web.getRandomValues(new Uint8Array(x));if(e.crypto.node)return new Uint8Array(e.crypto.node.randomBytes(x).buffer);throw new Error("The environment doesn't have randomBytes function")}t.randomBytes=b})(Xo);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const e=Yn,n=Xo;class r extends n.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,e.default.hash(o);const c=(0,n.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let d=0;d<l.length;d++)l[d]^=54;this.iHash.update(l),this.oHash=o.create();for(let d=0;d<l.length;d++)l[d]^=106;this.oHash.update(l),l.fill(0)}update(o){return e.default.exists(this),this.iHash.update(o),this}digestInto(o){e.default.exists(this),e.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:d,outputLen:f}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=d,o.outputLen=f,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i=(s,o,a)=>new r(s,o).update(a).digest();t.hmac=i,t.hmac.create=(s,o)=>new r(s,o)})(j_);Object.defineProperty(Ja,"__esModule",{value:!0});Ja.pbkdf2Async=Ja.pbkdf2=void 0;const dl=Yn,$4=j_,Ra=Xo;function z_(t,e,n,r){dl.default.hash(t);const i=(0,Ra.checkOpts)({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(dl.default.number(s),dl.default.number(o),dl.default.number(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,Ra.toBytes)(e),u=(0,Ra.toBytes)(n),l=new Uint8Array(o),d=$4.hmac.create(t,c),f=d._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:d,PRFSalt:f}}function F_(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function P4(t,e,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=z_(t,e,n,r);let u;const l=new Uint8Array(4),d=(0,Ra.createView)(l),f=new Uint8Array(a.outputLen);for(let p=1,w=0;w<s;p++,w+=a.outputLen){const m=o.subarray(w,w+a.outputLen);d.setInt32(0,p,!1),(u=c._cloneInto(u)).update(l).digestInto(f),m.set(f.subarray(0,m.length));for(let v=1;v<i;v++){a._cloneInto(u).update(f).digestInto(f);for(let k=0;k<m.length;k++)m[k]^=f[k]}}return F_(a,c,o,u,f)}Ja.pbkdf2=P4;async function C4(t,e,n,r){const{c:i,dkLen:s,asyncTick:o,DK:a,PRF:c,PRFSalt:u}=z_(t,e,n,r);let l;const d=new Uint8Array(4),f=(0,Ra.createView)(d),p=new Uint8Array(c.outputLen);for(let w=1,m=0;m<s;w++,m+=c.outputLen){const v=a.subarray(m,m+c.outputLen);f.setInt32(0,w,!1),(l=u._cloneInto(l)).update(d).digestInto(p),v.set(p.subarray(0,v.length)),await(0,Ra.asyncLoop)(i-1,o,k=>{c._cloneInto(l).update(p).digestInto(p);for(let E=0;E<v.length;E++)v[E]^=p[E]})}return F_(c,u,a,l,p)}Ja.pbkdf2Async=C4;var Ya={},Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.SHA2=void 0;const D0=Yn,Mc=Xo;function O4(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let U4=class extends Mc.Hash{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Mc.createView)(this.buffer)}update(e){D0.default.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=(0,Mc.toBytes)(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=(0,Mc.createView)(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){D0.default.exists(this),D0.default.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;O4(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=(0,Mc.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};Fu.SHA2=U4;Object.defineProperty(Ya,"__esModule",{value:!0});Ya.sha224=Ya.sha256=void 0;const M4=Fu,li=Xo,N4=(t,e,n)=>t&e^~t&n,q4=(t,e,n)=>t&e^t&n^e&n,D4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bs=new Uint32Array(64);let G_=class extends M4.SHA2{constructor(){super(64,32,8,!1),this.A=_s[0]|0,this.B=_s[1]|0,this.C=_s[2]|0,this.D=_s[3]|0,this.E=_s[4]|0,this.F=_s[5]|0,this.G=_s[6]|0,this.H=_s[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)bs[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=bs[d-15],p=bs[d-2],w=(0,li.rotr)(f,7)^(0,li.rotr)(f,18)^f>>>3,m=(0,li.rotr)(p,17)^(0,li.rotr)(p,19)^p>>>10;bs[d]=m+bs[d-7]+w+bs[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=(0,li.rotr)(a,6)^(0,li.rotr)(a,11)^(0,li.rotr)(a,25),p=l+f+N4(a,c,u)+D4[d]+bs[d]|0,m=((0,li.rotr)(r,2)^(0,li.rotr)(r,13)^(0,li.rotr)(r,22))+q4(r,i,s)|0;l=u,u=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){bs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},L4=class extends G_{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Ya.sha256=(0,li.wrapConstructor)(()=>new G_);Ya.sha224=(0,li.wrapConstructor)(()=>new L4);var _i={},V_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const e=BigInt(2**32-1),n=BigInt(32);function r(Z,U=!1){return U?{h:Number(Z&e),l:Number(Z>>n&e)}:{h:Number(Z>>n&e)|0,l:Number(Z&e)|0}}t.fromBig=r;function i(Z,U=!1){let D=new Uint32Array(Z.length),B=new Uint32Array(Z.length);for(let h=0;h<Z.length;h++){const{h:g,l:S}=r(Z[h],U);[D[h],B[h]]=[g,S]}return[D,B]}t.split=i;const s=(Z,U)=>BigInt(Z>>>0)<<n|BigInt(U>>>0);t.toBig=s;const o=(Z,U,D)=>Z>>>D,a=(Z,U,D)=>Z<<32-D|U>>>D,c=(Z,U,D)=>Z>>>D|U<<32-D,u=(Z,U,D)=>Z<<32-D|U>>>D,l=(Z,U,D)=>Z<<64-D|U>>>D-32,d=(Z,U,D)=>Z>>>D-32|U<<64-D,f=(Z,U)=>U,p=(Z,U)=>Z,w=(Z,U,D)=>Z<<D|U>>>32-D,m=(Z,U,D)=>U<<D|Z>>>32-D,v=(Z,U,D)=>U<<D-32|Z>>>64-D,k=(Z,U,D)=>Z<<D-32|U>>>64-D;function E(Z,U,D,B){const h=(U>>>0)+(B>>>0);return{h:Z+D+(h/2**32|0)|0,l:h|0}}t.add=E;const b=(Z,U,D)=>(Z>>>0)+(U>>>0)+(D>>>0),x=(Z,U,D,B)=>U+D+B+(Z/2**32|0)|0,T=(Z,U,D,B)=>(Z>>>0)+(U>>>0)+(D>>>0)+(B>>>0),$=(Z,U,D,B,h)=>U+D+B+h+(Z/2**32|0)|0,L=(Z,U,D,B,h)=>(Z>>>0)+(U>>>0)+(D>>>0)+(B>>>0)+(h>>>0),z=(Z,U,D,B,h,g)=>U+D+B+h+g+(Z/2**32|0)|0,J={fromBig:r,split:i,toBig:t.toBig,shrSH:o,shrSL:a,rotrSH:c,rotrSL:u,rotrBH:l,rotrBL:d,rotr32H:f,rotr32L:p,rotlSH:w,rotlSL:m,rotlBH:v,rotlBL:k,add:E,add3L:b,add3H:x,add4L:T,add4H:$,add5H:z,add5L:L};t.default=J})(V_);Object.defineProperty(_i,"__esModule",{value:!0});_i.sha384=_i.sha512_256=_i.sha512_224=_i.sha512=_i.SHA512=void 0;const H4=Fu,Et=V_,Tf=Xo,[j4,z4]=Et.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),vs=new Uint32Array(80),xs=new Uint32Array(80);let Gu=class extends H4.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:p,Gl:w,Hh:m,Hl:v}=this;return[e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v]}set(e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=w|0,this.Hh=m|0,this.Hl=v|0}process(e,n){for(let b=0;b<16;b++,n+=4)vs[b]=e.getUint32(n),xs[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const x=vs[b-15]|0,T=xs[b-15]|0,$=Et.default.rotrSH(x,T,1)^Et.default.rotrSH(x,T,8)^Et.default.shrSH(x,T,7),L=Et.default.rotrSL(x,T,1)^Et.default.rotrSL(x,T,8)^Et.default.shrSL(x,T,7),z=vs[b-2]|0,J=xs[b-2]|0,Z=Et.default.rotrSH(z,J,19)^Et.default.rotrBH(z,J,61)^Et.default.shrSH(z,J,6),U=Et.default.rotrSL(z,J,19)^Et.default.rotrBL(z,J,61)^Et.default.shrSL(z,J,6),D=Et.default.add4L(L,U,xs[b-7],xs[b-16]),B=Et.default.add4H(D,$,Z,vs[b-7],vs[b-16]);vs[b]=B|0,xs[b]=D|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:p,Fl:w,Gh:m,Gl:v,Hh:k,Hl:E}=this;for(let b=0;b<80;b++){const x=Et.default.rotrSH(d,f,14)^Et.default.rotrSH(d,f,18)^Et.default.rotrBH(d,f,41),T=Et.default.rotrSL(d,f,14)^Et.default.rotrSL(d,f,18)^Et.default.rotrBL(d,f,41),$=d&p^~d&m,L=f&w^~f&v,z=Et.default.add5L(E,T,L,z4[b],xs[b]),J=Et.default.add5H(z,k,x,$,j4[b],vs[b]),Z=z|0,U=Et.default.rotrSH(r,i,28)^Et.default.rotrBH(r,i,34)^Et.default.rotrBH(r,i,39),D=Et.default.rotrSL(r,i,28)^Et.default.rotrBL(r,i,34)^Et.default.rotrBL(r,i,39),B=r&s^r&a^s&a,h=i&o^i&c^o&c;k=m|0,E=v|0,m=p|0,v=w|0,p=d|0,w=f|0,{h:d,l:f}=Et.default.add(u|0,l|0,J|0,Z|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const g=Et.default.add3L(Z,D,h);r=Et.default.add3H(g,J,U,B),i=g|0}({h:r,l:i}=Et.default.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Et.default.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Et.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Et.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=Et.default.add(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:w}=Et.default.add(this.Fh|0,this.Fl|0,p|0,w|0),{h:m,l:v}=Et.default.add(this.Gh|0,this.Gl|0,m|0,v|0),{h:k,l:E}=Et.default.add(this.Hh|0,this.Hl|0,k|0,E|0),this.set(r,i,s,o,a,c,u,l,d,f,p,w,m,v,k,E)}roundClean(){vs.fill(0),xs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};_i.SHA512=Gu;let F4=class extends Gu{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},G4=class extends Gu{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},V4=class extends Gu{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};_i.sha512=(0,Tf.wrapConstructor)(()=>new Gu);_i.sha512_224=(0,Tf.wrapConstructor)(()=>new F4);_i.sha512_256=(0,Tf.wrapConstructor)(()=>new G4);_i.sha384=(0,Tf.wrapConstructor)(()=>new V4);Object.defineProperty(Gr,"__esModule",{value:!0});var W_=Gr.mnemonicToSeedSync=Gr.mnemonicToSeed=Gr.validateMnemonic=Gr.entropyToMnemonic=Gr.mnemonicToEntropy=Gr.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const K_=Yn,X_=Ja,W4=Ya,Z_=_i,K4=Xo,fl=Ou,X4=t=>t[0]==="あいこくしん";function J_(t){if(typeof t!="string")throw new TypeError(`Invalid mnemonic type: ${typeof t}`);return t.normalize("NFKD")}function zp(t){const e=J_(t),n=e.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:n}}function Y_(t){K_.default.bytes(t,16,20,24,28,32)}function Z4(t,e=128){if(K_.default.number(e),e%32!==0||e>256)throw new TypeError("Invalid entropy");return tb((0,K4.randomBytes)(e/8),t)}Gr.generateMnemonic=Z4;const J4=t=>{const e=8-t.length/4;return new Uint8Array([(0,W4.sha256)(t)[0]>>e<<e])};function Q_(t){if(!Array.isArray(t)||t.length!==2**11||typeof t[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return t.forEach(e=>{if(typeof e!="string")throw new Error(`Wordlist: non-string element: ${e}`)}),fl.utils.chain(fl.utils.checksum(1,J4),fl.utils.radix2(11,!0),fl.utils.alphabet(t))}function eb(t,e){const{words:n}=zp(t),r=Q_(e).decode(n);return Y_(r),r}Gr.mnemonicToEntropy=eb;function tb(t,e){return Y_(t),Q_(e).encode(t).join(X4(e)?"　":" ")}Gr.entropyToMnemonic=tb;function Y4(t,e){try{eb(t,e)}catch{return!1}return!0}Gr.validateMnemonic=Y4;const nb=t=>J_(`mnemonic${t}`);function Q4(t,e=""){return(0,X_.pbkdf2Async)(Z_.sha512,zp(t).nfkd,nb(e),{c:2048,dkLen:64})}Gr.mnemonicToSeed=Q4;function eA(t,e=""){return(0,X_.pbkdf2)(Z_.sha512,zp(t).nfkd,nb(e),{c:2048,dkLen:64})}W_=Gr.mnemonicToSeedSync=eA;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tA=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),L0=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),nA=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!nA)throw new Error("Non little-endian hardware is not supported");const rA=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rb(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=rA[t[n]];return e}function ib(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,i=t.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}function iA(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Vu(t){if(typeof t=="string"&&(t=iA(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}let Fp=class{clone(){return this._cloneInto()}};function Af(t){const e=r=>t().update(Vu(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function sA(t){const e=(r,i)=>t(i).update(Vu(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function wh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function oA(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function sb(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function aA(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");wh(t.outputLen),wh(t.blockLen)}function cA(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function uA(t,e){sb(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Vr={number:wh,bool:oA,bytes:sb,hash:aA,exists:cA,output:uA},hl=BigInt(2**32-1),_h=BigInt(32);function ob(t,e=!1){return e?{h:Number(t&hl),l:Number(t>>_h&hl)}:{h:Number(t>>_h&hl)|0,l:Number(t&hl)|0}}function lA(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=ob(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const dA=(t,e)=>BigInt(t>>>0)<<_h|BigInt(e>>>0),fA=(t,e,n)=>t>>>n,hA=(t,e,n)=>t<<32-n|e>>>n,pA=(t,e,n)=>t>>>n|e<<32-n,gA=(t,e,n)=>t<<32-n|e>>>n,yA=(t,e,n)=>t<<64-n|e>>>n-32,mA=(t,e,n)=>t>>>n-32|e<<64-n,wA=(t,e)=>e,_A=(t,e)=>t,bA=(t,e,n)=>t<<n|e>>>32-n,vA=(t,e,n)=>e<<n|t>>>32-n,xA=(t,e,n)=>e<<n-32|t>>>64-n,SA=(t,e,n)=>t<<n-32|e>>>64-n;function TA(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const AA=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),EA=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,kA=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),BA=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,IA=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),RA=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,lt={fromBig:ob,split:lA,toBig:dA,shrSH:fA,shrSL:hA,rotrSH:pA,rotrSL:gA,rotrBH:yA,rotrBL:mA,rotr32H:wA,rotr32L:_A,rotlSH:bA,rotlSL:vA,rotlBH:xA,rotlBL:SA,add:TA,add3L:AA,add3H:EA,add4L:kA,add4H:BA,add5H:RA,add5L:IA},[ab,cb,ub]=[[],[],[]],$A=BigInt(0),Nc=BigInt(1),PA=BigInt(2),CA=BigInt(7),OA=BigInt(256),UA=BigInt(113);for(let t=0,e=Nc,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],ab.push(2*(5*r+n)),cb.push((t+1)*(t+2)/2%64);let i=$A;for(let s=0;s<7;s++)e=(e<<Nc^(e>>CA)*UA)%OA,e&PA&&(i^=Nc<<(Nc<<BigInt(s))-Nc);ub.push(i)}const[MA,NA]=lt.split(ub,!0),Wy=(t,e,n)=>n>32?lt.rotlBH(t,e,n):lt.rotlSH(t,e,n),Ky=(t,e,n)=>n>32?lt.rotlBL(t,e,n):lt.rotlSL(t,e,n);function qA(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],d=Wy(u,l,1)^n[a],f=Ky(u,l,1)^n[a+1];for(let p=0;p<50;p+=10)t[o+p]^=d,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=cb[o],c=Wy(i,s,a),u=Ky(i,s,a),l=ab[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=MA[r],t[1]^=NA[r]}n.fill(0)}class Ef extends Fp{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Vr.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=tA(this.state)}keccak(){qA(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Vr.exists(this);const{blockLen:n,state:r}=this;e=Vu(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Vr.exists(this,!1),Vr.bytes(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Vr.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Vr.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Ef(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const ro=(t,e,n)=>Af(()=>new Ef(e,t,n));ro(6,144,224/8);const Qa=ro(6,136,256/8);ro(6,104,384/8);ro(6,72,512/8);ro(1,144,224/8);ro(1,136,256/8);ro(1,104,384/8);ro(1,72,512/8);const lb=(t,e,n)=>sA((r={})=>new Ef(e,t,r.dkLen===void 0?n:r.dkLen,!0));lb(31,168,128/8);lb(31,136,256/8);let db=class extends Fp{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Vr.hash(e);const r=Vu(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Vr.exists(this),this.iHash.update(e),this}digestInto(e){Vr.exists(this),Vr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Gp=(t,e,n)=>new db(t,e).update(n).digest();Gp.create=(t,e)=>new db(t,e);function DA(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let LA=class extends Fp{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=L0(this.buffer)}update(e){Vr.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=Vu(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=L0(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Vr.exists(this),Vr.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let c=o;c<i;c++)n[c]=0;DA(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=L0(e);this.get().forEach((c,u)=>a.setUint32(4*u,c,s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const[HA,jA]=lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ss=new Uint32Array(80),Ts=new Uint32Array(80);let Vp=class extends LA{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:p,Gl:w,Hh:m,Hl:v}=this;return[e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v]}set(e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=w|0,this.Hh=m|0,this.Hl=v|0}process(e,n){for(let b=0;b<16;b++,n+=4)Ss[b]=e.getUint32(n),Ts[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const x=Ss[b-15]|0,T=Ts[b-15]|0,$=lt.rotrSH(x,T,1)^lt.rotrSH(x,T,8)^lt.shrSH(x,T,7),L=lt.rotrSL(x,T,1)^lt.rotrSL(x,T,8)^lt.shrSL(x,T,7),z=Ss[b-2]|0,J=Ts[b-2]|0,Z=lt.rotrSH(z,J,19)^lt.rotrBH(z,J,61)^lt.shrSH(z,J,6),U=lt.rotrSL(z,J,19)^lt.rotrBL(z,J,61)^lt.shrSL(z,J,6),D=lt.add4L(L,U,Ts[b-7],Ts[b-16]),B=lt.add4H(D,$,Z,Ss[b-7],Ss[b-16]);Ss[b]=B|0,Ts[b]=D|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:p,Fl:w,Gh:m,Gl:v,Hh:k,Hl:E}=this;for(let b=0;b<80;b++){const x=lt.rotrSH(d,f,14)^lt.rotrSH(d,f,18)^lt.rotrBH(d,f,41),T=lt.rotrSL(d,f,14)^lt.rotrSL(d,f,18)^lt.rotrBL(d,f,41),$=d&p^~d&m,L=f&w^~f&v,z=lt.add5L(E,T,L,jA[b],Ts[b]),J=lt.add5H(z,k,x,$,HA[b],Ss[b]),Z=z|0,U=lt.rotrSH(r,i,28)^lt.rotrBH(r,i,34)^lt.rotrBH(r,i,39),D=lt.rotrSL(r,i,28)^lt.rotrBL(r,i,34)^lt.rotrBL(r,i,39),B=r&s^r&a^s&a,h=i&o^i&c^o&c;k=m|0,E=v|0,m=p|0,v=w|0,p=d|0,w=f|0,{h:d,l:f}=lt.add(u|0,l|0,J|0,Z|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const g=lt.add3L(Z,D,h);r=lt.add3H(g,J,U,B),i=g|0}({h:r,l:i}=lt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=lt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=lt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=lt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=lt.add(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:w}=lt.add(this.Fh|0,this.Fl|0,p|0,w|0),{h:m,l:v}=lt.add(this.Gh|0,this.Gl|0,m|0,v|0),{h:k,l:E}=lt.add(this.Hh|0,this.Hl|0,k|0,E|0),this.set(r,i,s,o,a,c,u,l,d,f,p,w,m,v,k,E)}roundClean(){Ss.fill(0),Ts.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},zA=class extends Vp{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},FA=class extends Vp{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};const fb=Af(()=>new Vp);Af(()=>new zA);Af(()=>new FA);var hb=Object.defineProperty,GA=Object.getOwnPropertyDescriptor,kf=(t,e)=>{for(var n in e)hb(t,n,{get:e[n],enumerable:!0})},nn=(t,e,n,r)=>{for(var i=r>1?void 0:r?GA(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(r?o(e,n,i):o(i))||i);return r&&i&&hb(e,n,i),i},VA=/^m(\/[0-9]+')+$/,pb=t=>t.replace("'",""),WA="ed25519 seed",KA=2147483648,XA=t=>{const n=Gp.create(fb,WA).update(ib(t)).digest(),r=n.slice(0,32),i=n.slice(32);return{key:r,chainCode:i}},ZA=({key:t,chainCode:e},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const i=new Uint8Array(r),s=new Uint8Array([0]),o=new Uint8Array([...s,...t,...i]),a=Gp.create(fb,e).update(o).digest(),c=a.slice(0,32),u=a.slice(32);return{key:c,chainCode:u}},JA=t=>VA.test(t)?!t.split("/").slice(1).map(pb).some(Number.isNaN):!1,YA=(t,e,n=KA)=>{if(!JA(t))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=XA(e);return t.split("/").slice(1).map(pb).map(o=>parseInt(o,10)).reduce((o,a)=>ZA(o,a+n),{key:r,chainCode:i})},ht=class{static fromBuffer(t){return ht.fromUint8Array(t)}static fromUint8Array(t){return new ht(rb(t))}static ensure(t){return typeof t=="string"?new ht(t):t}constructor(t){t.startsWith("0x")?this.hexString=t:this.hexString=`0x${t}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(ib(this.noPrefix()))}};async function QA(t){return new Promise(e=>{setTimeout(e,t)})}var Xy="/v1";function e8(t){let e=`${t}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith(Xy)||(e=`${e}${Xy}`),e}var gb=2e5,yb=20,t8=20,n8="0x1::aptos_coin::AptosCoin";function Bf(t){let e,n,r;return typeof t=="object"?(e=t.hashFunction,n=t.ttlMs,r=t.tags):e=t,(i,s,o)=>{if(o.value!=null)o.value=Zy(o.value,e,n,r);else if(o.get!=null)o.get=Zy(o.get,e,n,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function r8(t,e){return Bf({ttlMs:t,hashFunction:e})}var Vl=new Map;function i8(t){const e=new Set;for(const n of t){const r=Vl.get(n);if(r)for(const i of r)e.has(i)||(i.clear(),e.add(i))}return e.size}function Zy(t,e,n=0,r){const i=Symbol("__memoized_map__");return function(...s){let o;const a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const c=a[i];if(Array.isArray(r))for(const u of r)Vl.has(u)?Vl.get(u).push(c):Vl.set(u,[c]);if(e||s.length>0||n>0){let u;e===!0?u=s.map(f=>f.toString()).join("!"):e?u=e.apply(a,s):u=s[0];const l=`${u}__timestamp`;let d=!1;if(n>0)if(!c.has(l))d=!0;else{const f=c.get(l);d=Date.now()-f>n}c.has(u)&&!d?o=c.get(u):(o=t.apply(a,s),c.set(u,o),n>0&&c.set(l,Date.now()))}else{const u=a;c.has(u)?o=c.get(u):(o=t.apply(a,s),c.set(u,o))}return o}}async function Jy(t,e,n,r){var i;const s=[];let o;for(;;){const a=await t(ht.ensure(e).hex(),(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString(),o,n);if(o=a.__headers["x-aptos-cursor"],delete a.__headers,s.push(...a),o==null)break}return s}var s8={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},o8={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},G={};kf(G,{AccountAddress:()=>kn,AccountAuthenticator:()=>fu,AccountAuthenticatorEd25519:()=>Xp,AccountAuthenticatorMultiEd25519:()=>Zp,ArgumentABI:()=>el,AuthenticationKey:()=>No,ChainId:()=>Of,ChangeSet:()=>w8,Ed25519PublicKey:()=>pi,Ed25519Signature:()=>Fi,EntryFunction:()=>Io,EntryFunctionABI:()=>ic,Identifier:()=>$r,Module:()=>wb,ModuleId:()=>Mo,MultiAgentRawTransaction:()=>Pf,MultiEd25519PublicKey:()=>Wu,MultiEd25519Signature:()=>If,MultiSig:()=>Qp,MultiSigTransactionPayload:()=>Yp,RawTransaction:()=>Ec,RawTransactionWithData:()=>_b,RotationProofChallenge:()=>b8,Script:()=>Xu,ScriptABI:()=>Hf,SignedTransaction:()=>Zu,StructTag:()=>ec,Transaction:()=>bb,TransactionArgument:()=>Li,TransactionArgumentAddress:()=>nc,TransactionArgumentBool:()=>Lf,TransactionArgumentU128:()=>qf,TransactionArgumentU16:()=>Mf,TransactionArgumentU256:()=>Df,TransactionArgumentU32:()=>Nf,TransactionArgumentU64:()=>tc,TransactionArgumentU8:()=>Uf,TransactionArgumentU8Vector:()=>rc,TransactionAuthenticator:()=>Ku,TransactionAuthenticatorEd25519:()=>Rf,TransactionAuthenticatorMultiAgent:()=>Kp,TransactionAuthenticatorMultiEd25519:()=>$f,TransactionPayload:()=>Ju,TransactionPayloadEntryFunction:()=>Cf,TransactionPayloadMultisig:()=>eg,TransactionPayloadScript:()=>Yu,TransactionScriptABI:()=>jf,TypeArgumentABI:()=>Qu,TypeTag:()=>dr,TypeTagAddress:()=>ea,TypeTagBool:()=>Jo,TypeTagSigner:()=>Jp,TypeTagStruct:()=>ta,TypeTagU128:()=>Qo,TypeTagU16:()=>xc,TypeTagU256:()=>Tc,TypeTagU32:()=>Sc,TypeTagU64:()=>Yo,TypeTagU8:()=>ls,TypeTagVector:()=>Ac,UserTransaction:()=>tg,WriteSet:()=>_8});var ue={};kf(ue,{Deserializer:()=>Wp,Serializer:()=>On,bcsSerializeBool:()=>g8,bcsSerializeBytes:()=>ha,bcsSerializeFixedBytes:()=>m8,bcsSerializeStr:()=>y8,bcsSerializeU128:()=>p8,bcsSerializeU16:()=>f8,bcsSerializeU32:()=>h8,bcsSerializeU8:()=>bh,bcsSerializeUint64:()=>d8,bcsToBytes:()=>fs,deserializeVector:()=>xi,serializeVector:()=>ei,serializeVectorWithFunc:()=>l8});var a8=2**8-1,c8=2**16-1,du=2**32-1,ru=BigInt(2**64)-BigInt(1),mb=BigInt(2**128)-BigInt(1),u8=BigInt(2**256)-BigInt(1),On=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(t){for(;this.buffer.byteLength<this.offset+t;){const e=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(t){this.ensureBufferWillHandleSize(t.length),new Uint8Array(this.buffer,this.offset).set(t),this.offset+=t.length}serializeWithFunction(t,e,n){this.ensureBufferWillHandleSize(e);const r=new DataView(this.buffer,this.offset);t.apply(r,[0,n,!0]),this.offset+=e}serializeStr(t){const e=new TextEncoder;this.serializeBytes(e.encode(t))}serializeBytes(t){this.serializeU32AsUleb128(t.length),this.serialize(t)}serializeFixedBytes(t){this.serialize(t)}serializeBool(t){if(typeof t!="boolean")throw new Error("Value needs to be a boolean");const e=t?1:0;this.serialize(new Uint8Array([e]))}serializeU8(t){this.serialize(new Uint8Array([t]))}serializeU16(t){this.serializeWithFunction(DataView.prototype.setUint16,2,t)}serializeU32(t){this.serializeWithFunction(DataView.prototype.setUint32,4,t)}serializeU64(t){const e=BigInt(t.toString())&BigInt(du),n=BigInt(t.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(n))}serializeU128(t){const e=BigInt(t.toString())&ru,n=BigInt(t.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(n)}serializeU256(t){const e=BigInt(t.toString())&mb,n=BigInt(t.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(n)}serializeU32AsUleb128(t){let e=t;const n=[];for(;e>>>7;)n.push(e&127|128),e>>>=7;n.push(e),this.serialize(new Uint8Array(n))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};nn([Zo(0,a8)],On.prototype,"serializeU8",1);nn([Zo(0,c8)],On.prototype,"serializeU16",1);nn([Zo(0,du)],On.prototype,"serializeU32",1);nn([Zo(BigInt(0),ru)],On.prototype,"serializeU64",1);nn([Zo(BigInt(0),mb)],On.prototype,"serializeU128",1);nn([Zo(BigInt(0),u8)],On.prototype,"serializeU256",1);nn([Zo(0,du)],On.prototype,"serializeU32AsUleb128",1);function Zo(t,e,n){return(r,i,s)=>{const o=s.value;return s.value=function(c){const u=BigInt(c.toString());if(u>BigInt(e.toString())||u<BigInt(t.toString()))throw new Error(n||"Value is out of range");o.apply(this,[c])},s}}var Wp=class{constructor(t){this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t,0),this.offset=0}read(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}deserializeStr(){const t=this.deserializeBytes();return new TextDecoder().decode(t)}deserializeBytes(){const t=this.deserializeUleb128AsU32();return new Uint8Array(this.read(t))}deserializeFixedBytes(t){return new Uint8Array(this.read(t))}deserializeBool(){const t=new Uint8Array(this.read(1))[0];if(t!==1&&t!==0)throw new Error("Invalid boolean value");return t===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const t=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(t))}deserializeU128(){const t=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|t)}deserializeU256(){const t=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|t)}deserializeUleb128AsU32(){let t=BigInt(0),e=0;for(;t<du;){const n=this.deserializeU8();if(t|=BigInt(n&127)<<BigInt(e),!(n&128))break;e+=7}if(t>du)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(t)}};function ei(t,e){e.serializeU32AsUleb128(t.length),t.forEach(n=>{n.serialize(e)})}function l8(t,e){const n=new On;n.serializeU32AsUleb128(t.length);const r=n[e];return t.forEach(i=>{r.call(n,i)}),n.getBytes()}function xi(t,e){const n=t.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push(e.deserialize(t));return r}function fs(t){const e=new On;return t.serialize(e),e.getBytes()}function d8(t){const e=new On;return e.serializeU64(t),e.getBytes()}function bh(t){const e=new On;return e.serializeU8(t),e.getBytes()}function f8(t){const e=new On;return e.serializeU16(t),e.getBytes()}function h8(t){const e=new On;return e.serializeU32(t),e.getBytes()}function p8(t){const e=new On;return e.serializeU128(t),e.getBytes()}function g8(t){const e=new On;return e.serializeBool(t),e.getBytes()}function y8(t){const e=new On;return e.serializeStr(t),e.getBytes()}function ha(t){const e=new On;return e.serializeBytes(t),e.getBytes()}function m8(t){const e=new On;return e.serializeFixedBytes(t),e.getBytes()}var di=class{constructor(t){if(t.length!==di.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let e=ht.ensure(t);e.noPrefix().length%2!==0&&(e=new ht(`0${e.noPrefix()}`));const n=e.toUint8Array();if(n.length>di.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(n.length===di.LENGTH)return new di(n);const r=new Uint8Array(di.LENGTH);return r.set(n,di.LENGTH-n.length),new di(r)}static isValid(t){if(t==="")return!1;let e=ht.ensure(t);return e.noPrefix().length%2!==0&&(e=new ht(`0${e.noPrefix()}`)),e.toUint8Array().length<=di.LENGTH}toHexString(){return ht.fromUint8Array(this.address).hex()}serialize(t){t.serializeFixedBytes(this.address)}static deserialize(t){return new di(t.deserializeFixedBytes(di.LENGTH))}},kn=di;kn.LENGTH=32;kn.CORE_CODE_ADDRESS=di.fromHex("0x1");var Wl=class{constructor(t){if(t.length!==Wl.LENGTH)throw new Error(`Ed25519PublicKey length should be ${Wl.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new Wl(e)}},pi=Wl;pi.LENGTH=32;var Kl=class{constructor(t){if(this.value=t,t.length!==Kl.LENGTH)throw new Error(`Ed25519Signature length should be ${Kl.LENGTH}`)}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new Kl(e)}},Fi=Kl;Fi.LENGTH=64;var vh=32,Wu=class{constructor(t,e){if(this.public_keys=t,this.threshold=e,e>vh)throw new Error(`"threshold" cannot be larger than ${vh}`)}toBytes(){const t=new Uint8Array(this.public_keys.length*pi.LENGTH+1);return this.public_keys.forEach((e,n)=>{t.set(e.value,n*pi.LENGTH)}),t[this.public_keys.length*pi.LENGTH]=this.threshold,t}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),n=e[e.length-1],r=[];for(let i=0;i<e.length-1;i+=pi.LENGTH){const s=i;r.push(new pi(e.subarray(s,s+pi.LENGTH)))}return new Wu(r,n)}},zc=class{constructor(t,e){if(this.signatures=t,this.bitmap=e,e.length!==zc.BITMAP_LEN)throw new Error(`"bitmap" length should be ${zc.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*Fi.LENGTH+zc.BITMAP_LEN);return this.signatures.forEach((e,n)=>{t.set(e.value,n*Fi.LENGTH)}),t.set(this.bitmap,this.signatures.length*Fi.LENGTH),t}static createBitmap(t){const n=new Uint8Array([0,0,0,0]),r=new Set;return t.forEach(i=>{if(i>=vh)throw new Error(`Invalid bit value ${i}.`);if(r.has(i))throw new Error("Duplicated bits detected.");r.add(i);const s=Math.floor(i/8);let o=n[s];o|=128>>i%8,n[s]=o}),n}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),n=e.subarray(e.length-4),r=[];for(let i=0;i<e.length-n.length;i+=Fi.LENGTH){const s=i;r.push(new Fi(e.subarray(s,s+Fi.LENGTH)))}return new zc(r,n)}},If=zc;If.BITMAP_LEN=4;var Ku=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Rf.load(t);case 1:return $f.load(t);case 2:return Kp.load(t);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},Rf=class extends Ku{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=pi.deserialize(t),n=Fi.deserialize(t);return new Rf(e,n)}},$f=class extends Ku{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Wu.deserialize(t),n=If.deserialize(t);return new $f(e,n)}},Kp=class extends Ku{constructor(t,e,n){super(),this.sender=t,this.secondary_signer_addresses=e,this.secondary_signers=n}serialize(t){t.serializeU32AsUleb128(2),this.sender.serialize(t),ei(this.secondary_signer_addresses,t),ei(this.secondary_signers,t)}static load(t){const e=fu.deserialize(t),n=xi(t,kn),r=xi(t,fu);return new Kp(e,n,r)}},fu=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Xp.load(t);case 1:return Zp.load(t);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},Xp=class extends fu{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=pi.deserialize(t),n=Fi.deserialize(t);return new Xp(e,n)}},Zp=class extends fu{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Wu.deserialize(t),n=If.deserialize(t);return new Zp(e,n)}},$r=class{constructor(t){this.value=t}serialize(t){t.serializeStr(this.value)}static deserialize(t){const e=t.deserializeStr();return new $r(e)}},dr=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Jo.load(t);case 1:return ls.load(t);case 2:return Yo.load(t);case 3:return Qo.load(t);case 4:return ea.load(t);case 5:return Jp.load(t);case 6:return Ac.load(t);case 7:return ta.load(t);case 8:return xc.load(t);case 9:return Sc.load(t);case 10:return Tc.load(t);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},Jo=class extends dr{serialize(t){t.serializeU32AsUleb128(0)}static load(t){return new Jo}},ls=class extends dr{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new ls}},xc=class extends dr{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new xc}},Sc=class extends dr{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Sc}},Yo=class extends dr{serialize(t){t.serializeU32AsUleb128(2)}static load(t){return new Yo}},Qo=class extends dr{serialize(t){t.serializeU32AsUleb128(3)}static load(t){return new Qo}},Tc=class extends dr{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new Tc}},ea=class extends dr{serialize(t){t.serializeU32AsUleb128(4)}static load(t){return new ea}},Jp=class extends dr{serialize(t){t.serializeU32AsUleb128(5)}static load(t){return new Jp}},Ac=class extends dr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),this.value.serialize(t)}static load(t){const e=dr.deserialize(t);return new Ac(e)}},ta=class extends dr{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),this.value.serialize(t)}static load(t){const e=ec.deserialize(t);return new ta(e)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===kn.fromHex("0x1").toHexString()}},ec=class{constructor(t,e,n,r){this.address=t,this.module_name=e,this.name=n,this.type_args=r}static fromString(t){if(t.includes("<"))throw new Error("Not implemented");const e=t.split("::");if(e.length!==3)throw new Error("Invalid struct tag string literal.");return new ec(kn.fromHex(e[0]),new $r(e[1]),new $r(e[2]),[])}serialize(t){this.address.serialize(t),this.module_name.serialize(t),this.name.serialize(t),ei(this.type_args,t)}static deserialize(t){const e=kn.deserialize(t),n=$r.deserialize(t),r=$r.deserialize(t),i=xi(t,dr);return new ec(e,n,r,i)}},Ec=class{constructor(t,e,n,r,i,s,o){this.sender=t,this.sequence_number=e,this.payload=n,this.max_gas_amount=r,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=o}serialize(t){this.sender.serialize(t),t.serializeU64(this.sequence_number),this.payload.serialize(t),t.serializeU64(this.max_gas_amount),t.serializeU64(this.gas_unit_price),t.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(t)}static deserialize(t){const e=kn.deserialize(t),n=t.deserializeU64(),r=Ju.deserialize(t),i=t.deserializeU64(),s=t.deserializeU64(),o=t.deserializeU64(),a=Of.deserialize(t);return new Ec(e,n,r,i,s,o,a)}},Xu=class{constructor(t,e,n){this.code=t,this.ty_args=e,this.args=n}serialize(t){t.serializeBytes(this.code),ei(this.ty_args,t),ei(this.args,t)}static deserialize(t){const e=t.deserializeBytes(),n=xi(t,dr),r=xi(t,Li);return new Xu(e,n,r)}},Io=class{constructor(t,e,n,r){this.module_name=t,this.function_name=e,this.ty_args=n,this.args=r}static natural(t,e,n,r){return new Io(Mo.fromStr(t),new $r(e),n,r)}static natual(t,e,n,r){return Io.natural(t,e,n,r)}serialize(t){this.module_name.serialize(t),this.function_name.serialize(t),ei(this.ty_args,t),t.serializeU32AsUleb128(this.args.length),this.args.forEach(e=>{t.serializeBytes(e)})}static deserialize(t){const e=Mo.deserialize(t),n=$r.deserialize(t),r=xi(t,dr),i=t.deserializeUleb128AsU32(),s=[];for(let a=0;a<i;a+=1)s.push(t.deserializeBytes());const o=s;return new Io(e,n,r,o)}},Yp=class{constructor(t){this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return new Yp(Io.deserialize(t))}},Qp=class{constructor(t,e){this.multisig_address=t,this.transaction_payload=e}serialize(t){this.multisig_address.serialize(t),this.transaction_payload===void 0?t.serializeBool(!1):(t.serializeBool(!0),this.transaction_payload.serialize(t))}static deserialize(t){const e=kn.deserialize(t),n=t.deserializeBool();let r;return n&&(r=Yp.deserialize(t)),new Qp(e,r)}},wb=class{constructor(t){this.code=t}serialize(t){t.serializeBytes(this.code)}static deserialize(t){const e=t.deserializeBytes();return new wb(e)}},Mo=class{constructor(t,e){this.address=t,this.name=e}static fromStr(t){const e=t.split("::");if(e.length!==2)throw new Error("Invalid module id.");return new Mo(kn.fromHex(new ht(e[0])),new $r(e[1]))}serialize(t){this.address.serialize(t),this.name.serialize(t)}static deserialize(t){const e=kn.deserialize(t),n=$r.deserialize(t);return new Mo(e,n)}},w8=class{serialize(t){throw new Error("Not implemented.")}static deserialize(t){throw new Error("Not implemented.")}},_8=class{serialize(t){throw new Error("Not implmented.")}static deserialize(t){throw new Error("Not implmented.")}},Zu=class{constructor(t,e){this.raw_txn=t,this.authenticator=e}serialize(t){this.raw_txn.serialize(t),this.authenticator.serialize(t)}static deserialize(t){const e=Ec.deserialize(t),n=Ku.deserialize(t);return new Zu(e,n)}},_b=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Pf.load(t);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}}},Pf=class extends _b{constructor(t,e){super(),this.raw_txn=t,this.secondary_signer_addresses=e}serialize(t){t.serializeU32AsUleb128(0),this.raw_txn.serialize(t),ei(this.secondary_signer_addresses,t)}static load(t){const e=Ec.deserialize(t),n=xi(t,kn);return new Pf(e,n)}},Ju=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Yu.load(t);case 2:return Cf.load(t);case 3:return eg.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Yu=class extends Ju{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){const e=Xu.deserialize(t);return new Yu(e)}},Cf=class extends Ju{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),this.value.serialize(t)}static load(t){const e=Io.deserialize(t);return new Cf(e)}},eg=class extends Ju{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=Qp.deserialize(t);return new eg(e)}},Of=class{constructor(t){this.value=t}serialize(t){t.serializeU8(this.value)}static deserialize(t){const e=t.deserializeU8();return new Of(e)}},Li=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return Uf.load(e);case 1:return tc.load(e);case 2:return qf.load(e);case 3:return nc.load(e);case 4:return rc.load(e);case 5:return Lf.load(e);case 6:return Mf.load(e);case 7:return Nf.load(e);case 8:return Df.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${n}`)}}},Uf=class extends Li{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),t.serializeU8(this.value)}static load(t){const e=t.deserializeU8();return new Uf(e)}},Mf=class extends Li{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),t.serializeU16(this.value)}static load(t){const e=t.deserializeU16();return new Mf(e)}},Nf=class extends Li{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),t.serializeU32(this.value)}static load(t){const e=t.deserializeU32();return new Nf(e)}},tc=class extends Li{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(1),t.serializeU64(this.value)}static load(t){const e=t.deserializeU64();return new tc(e)}},qf=class extends Li{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),t.serializeU128(this.value)}static load(t){const e=t.deserializeU128();return new qf(e)}},Df=class extends Li{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(8),t.serializeU256(this.value)}static load(t){const e=t.deserializeU256();return new Df(e)}},nc=class extends Li{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=kn.deserialize(t);return new nc(e)}},rc=class extends Li{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(4),t.serializeBytes(this.value)}static load(t){const e=t.deserializeBytes();return new rc(e)}},Lf=class extends Li{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(5),t.serializeBool(this.value)}static load(t){const e=t.deserializeBool();return new Lf(e)}},bb=class{getHashSalt(){const t=Qa.create();return t.update("APTOS::Transaction"),t.digest()}static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return tg.load(t);default:throw new Error(`Unknown variant index for Transaction: ${e}`)}}},tg=class extends bb{constructor(t){super(),this.value=t}hash(){const t=Qa.create();return t.update(this.getHashSalt()),t.update(fs(this)),t.digest()}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){return new tg(Zu.deserialize(t))}},Qu=class{constructor(t){this.name=t}serialize(t){t.serializeStr(this.name)}static deserialize(t){const e=t.deserializeStr();return new Qu(e)}},el=class{constructor(t,e){this.name=t,this.type_tag=e}serialize(t){t.serializeStr(this.name),this.type_tag.serialize(t)}static deserialize(t){const e=t.deserializeStr(),n=dr.deserialize(t);return new el(e,n)}},Hf=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return jf.load(t);case 1:return ic.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},jf=class extends Hf{constructor(t,e,n,r,i){super(),this.name=t,this.doc=e,this.code=n,this.ty_args=r,this.args=i}serialize(t){t.serializeU32AsUleb128(0),t.serializeStr(this.name),t.serializeStr(this.doc),t.serializeBytes(this.code),ei(this.ty_args,t),ei(this.args,t)}static load(t){const e=t.deserializeStr(),n=t.deserializeStr(),r=t.deserializeBytes(),i=xi(t,Qu),s=xi(t,el);return new jf(e,n,r,i,s)}},ic=class extends Hf{constructor(t,e,n,r,i){super(),this.name=t,this.module_name=e,this.doc=n,this.ty_args=r,this.args=i}serialize(t){t.serializeU32AsUleb128(1),t.serializeStr(this.name),this.module_name.serialize(t),t.serializeStr(this.doc),ei(this.ty_args,t),ei(this.args,t)}static load(t){const e=t.deserializeStr(),n=Mo.deserialize(t),r=t.deserializeStr(),i=xi(t,Qu),s=xi(t,el);return new ic(e,n,r,i,s)}},pa=class{constructor(t){if(t.length!==pa.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const e=t.toBytes(),n=new Uint8Array(e.length+1);n.set(e),n.set([pa.MULTI_ED25519_SCHEME],e.length);const r=Qa.create();return r.update(n),new pa(r.digest())}static fromEd25519PublicKey(t){const e=t.value,n=new Uint8Array(e.length+1);n.set(e),n.set([pa.ED25519_SCHEME],e.length);const r=Qa.create();return r.update(n),new pa(r.digest())}derivedAddress(){return ht.fromUint8Array(this.bytes)}},No=pa;No.LENGTH=32;No.MULTI_ED25519_SCHEME=1;No.ED25519_SCHEME=0;No.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var b8=class{constructor(t,e,n,r,i,s,o){this.accountAddress=t,this.moduleName=e,this.structName=n,this.sequenceNumber=r,this.originator=i,this.currentAuthKey=s,this.newPublicKey=o}serialize(t){this.accountAddress.serialize(t),t.serializeStr(this.moduleName),t.serializeStr(this.structName),t.serializeU64(this.sequenceNumber),this.originator.serialize(t),this.currentAuthKey.serialize(t),t.serializeBytes(this.newPublicKey)}},Xl=class{static fromAptosAccountObject(t){return new Xl(ht.ensure(t.privateKeyHex).toUint8Array(),t.address)}static fromDerivePath(t,e){if(!Xl.isValidPath(t))throw new Error("Invalid derivation path");const n=e.trim().split(/\s+/).map(i=>i.toLowerCase()).join(" "),{key:r}=YA(t,rb(W_(n)));return new Xl(r)}constructor(t,e){t?this.signingKey=Ks.sign.keyPair.fromSeed(t.slice(0,32)):this.signingKey=Ks.sign.keyPair(),this.accountAddress=ht.ensure(e||this.authKey().hex())}address(){return this.accountAddress}authKey(){const t=new pi(this.signingKey.publicKey);return No.fromEd25519PublicKey(t).derivedAddress()}static getResourceAccountAddress(t,e){const n=fs(kn.fromHex(t)),r=new Uint8Array([...n,...e,No.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=Qa.create();return i.update(r),ht.fromUint8Array(i.digest())}pubKey(){return ht.fromUint8Array(this.signingKey.publicKey)}signBuffer(t){const e=Ks.sign(t,this.signingKey.secretKey);return ht.fromUint8Array(e.slice(0,64))}signHexString(t){const e=ht.ensure(t).toUint8Array();return this.signBuffer(e)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:ht.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},hu=Xl;hu.isValidPath=t=>!!/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(t);nn([Bf()],hu.prototype,"authKey",1);function gd(t){return t instanceof hu?t.address():ht.ensure(t)}var v8=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,x8=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,S8=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${v8}
${x8}`,T8=`
    query getTokenActivities($idHash: String!) {
  token_activities(where: {token_data_id_hash: {_eq: $idHash}}) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,vb=class{constructor(t){this.endpoint=t}async queryIndexer(t){const{data:e}=await Ui.post(this.endpoint,t);if(e.errors)throw new Error(`Indexer data error ${e.errors}`);return e.data}async getAccountNFTs(t,e){const n={query:S8,variables:{address:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getTokenActivities(t){const e={query:T8,variables:{idHash:t}};return this.queryIndexer(e)}},A8={};kf(A8,{$AccountData:()=>H8,$AccountSignature:()=>j8,$AccountSignature_Ed25519Signature:()=>z8,$AccountSignature_MultiEd25519Signature:()=>F8,$Address:()=>G8,$AptosError:()=>V8,$AptosErrorCode:()=>W8,$Block:()=>K8,$BlockMetadataTransaction:()=>X8,$DecodedTableData:()=>Z8,$DeleteModule:()=>Y8,$DeleteResource:()=>Q8,$DeleteTableItem:()=>eE,$DeletedTableData:()=>J8,$DirectWriteSet:()=>tE,$Ed25519Signature:()=>nE,$EncodeSubmissionRequest:()=>rE,$EntryFunctionId:()=>iE,$EntryFunctionPayload:()=>sE,$Event:()=>oE,$EventGuid:()=>aE,$GasEstimation:()=>cE,$GenesisPayload:()=>uE,$GenesisPayload_WriteSetPayload:()=>lE,$GenesisTransaction:()=>dE,$HashValue:()=>fE,$HealthCheckSuccess:()=>hE,$HexEncodedBytes:()=>pE,$IdentifierWrapper:()=>gE,$IndexResponse:()=>yE,$ModuleBundlePayload:()=>mE,$MoveAbility:()=>wE,$MoveFunction:()=>_E,$MoveFunctionGenericTypeParam:()=>bE,$MoveFunctionVisibility:()=>vE,$MoveModule:()=>xE,$MoveModuleBytecode:()=>SE,$MoveModuleId:()=>TE,$MoveResource:()=>AE,$MoveScriptBytecode:()=>EE,$MoveStruct:()=>kE,$MoveStructField:()=>BE,$MoveStructGenericTypeParam:()=>IE,$MoveStructTag:()=>RE,$MoveStructValue:()=>$E,$MoveType:()=>PE,$MoveValue:()=>CE,$MultiAgentSignature:()=>OE,$MultiEd25519Signature:()=>UE,$MultisigPayload:()=>ME,$MultisigTransactionPayload:()=>NE,$PendingTransaction:()=>qE,$RawTableItemRequest:()=>DE,$RoleType:()=>LE,$ScriptPayload:()=>HE,$ScriptWriteSet:()=>jE,$StateCheckpointTransaction:()=>zE,$StateKeyWrapper:()=>FE,$SubmitTransactionRequest:()=>GE,$TableItemRequest:()=>VE,$Transaction:()=>WE,$TransactionPayload:()=>QE,$TransactionPayload_EntryFunctionPayload:()=>e7,$TransactionPayload_ModuleBundlePayload:()=>t7,$TransactionPayload_MultisigPayload:()=>n7,$TransactionPayload_ScriptPayload:()=>r7,$TransactionSignature:()=>o7,$TransactionSignature_Ed25519Signature:()=>a7,$TransactionSignature_MultiAgentSignature:()=>c7,$TransactionSignature_MultiEd25519Signature:()=>u7,$Transaction_BlockMetadataTransaction:()=>KE,$Transaction_GenesisTransaction:()=>XE,$Transaction_PendingTransaction:()=>ZE,$Transaction_StateCheckpointTransaction:()=>JE,$Transaction_UserTransaction:()=>YE,$TransactionsBatchSingleSubmissionFailure:()=>i7,$TransactionsBatchSubmissionResult:()=>s7,$U128:()=>l7,$U256:()=>d7,$U64:()=>f7,$UserTransaction:()=>h7,$VersionedEvent:()=>p7,$ViewRequest:()=>g7,$WriteModule:()=>y7,$WriteResource:()=>m7,$WriteSet:()=>w7,$WriteSetChange:()=>v7,$WriteSetChange_DeleteModule:()=>x7,$WriteSetChange_DeleteResource:()=>S7,$WriteSetChange_DeleteTableItem:()=>T7,$WriteSetChange_WriteModule:()=>A7,$WriteSetChange_WriteResource:()=>E7,$WriteSetChange_WriteTableItem:()=>k7,$WriteSetPayload:()=>B7,$WriteSet_DirectWriteSet:()=>_7,$WriteSet_ScriptWriteSet:()=>b7,$WriteTableItem:()=>I7,AccountsService:()=>Bb,ApiError:()=>pu,AptosErrorCode:()=>Mb,AptosGeneratedClient:()=>Ub,BaseHttpRequest:()=>xb,BlocksService:()=>Ib,CancelError:()=>Sb,CancelablePromise:()=>Tb,EventsService:()=>Rb,GeneralService:()=>$b,MoveFunctionVisibility:()=>Nb,OpenAPI:()=>L8,RoleType:()=>qb,TablesService:()=>Pb,TransactionsService:()=>Cb,ViewService:()=>Ob});var xb=class{constructor(t){this.config=t}},pu=class extends Error{constructor(t,e,n){super(n),this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=t}},Sb=class extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}},Tb=class{constructor(t){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n;const r=o=>{var a;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(a=this._resolve)==null||a.call(this,o))},i=o=>{var a;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(a=this._reject)==null||a.call(this,o))},s=o=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(o)};return Object.defineProperty(s,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(s,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(s,"isCancelled",{get:()=>this._isCancelled}),t(r,i,s)})}then(t,e){return this._promise.then(t,e)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(){var t;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){console.warn("Cancellation threw an error",e);return}this._cancelHandlers.length=0,(t=this._reject)==null||t.call(this,new Sb("Request aborted"))}}get isCancelled(){return this._isCancelled}},Ab=class{constructor(t=new Map){this.jar=t}setCookie(t,e){var n;const r=t.origin.toLowerCase();this.jar.has(r)||this.jar.set(r,[]);const i=Ab.parse(e);this.jar.set(r,[...((n=this.jar.get(r))==null?void 0:n.filter(s=>s.name!==i.name))||[],i])}getCookies(t){var e;const n=t.origin.toLowerCase();return this.jar.get(n)?((e=this.jar.get(n))==null?void 0:e.filter(r=>!r.expires||r.expires>new Date))||[]:[]}static parse(t){if(typeof t!="string")throw new Error("argument str must be a string");const e=t.split(";").map(r=>r.trim());let n;if(e.length>0){const[r,i]=e[0].split("=");if(!r||!i)throw new Error("Invalid cookie");n={name:r,value:i}}else throw new Error("Invalid cookie");return e.slice(1).forEach(r=>{const[i,s]=r.split("=");if(!i.trim())throw new Error("Invalid cookie");const o=i.toLowerCase(),a=(s==null?void 0:s.charAt(0))==="'"||(s==null?void 0:s.charAt(0))==='"'?s==null?void 0:s.slice(1,-1):s;if(o==="expires"&&(n.expires=new Date(a)),o==="path"&&(n.path=a),o==="samesite"){if(a!=="Lax"&&a!=="None"&&a!=="Strict")throw new Error("Invalid cookie SameSite value");n.sameSite=a}o==="secure"&&(n.secure=!0)}),n}},Eb=new Ab;Ui.interceptors.response.use(t=>(Array.isArray(t.headers["set-cookie"])&&t.headers["set-cookie"].forEach(e=>{Eb.setCookie(new URL(t.config.url),e)}),t));Ui.interceptors.request.use(function(t){const e=Eb.getCookies(new URL(t.url));return(e==null?void 0:e.length)>0&&t.headers&&(t.headers.cookie=e.map(n=>`${n.name}=${n.value}`).join("; ")),t});var ng=t=>t!=null,zf=t=>typeof t=="string",H0=t=>zf(t)&&t!=="",kb=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),E8=t=>t instanceof nf,k8=t=>t>=200&&t<300,B8=t=>btoa(t),I8=t=>{const e=[],n=(i,s)=>{e.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},r=(i,s)=>{ng(s)&&(Array.isArray(s)?s.forEach(o=>{r(i,o)}):typeof s=="object"?Object.entries(s).forEach(([o,a])=>{r(`${i}[${o}]`,a)}):n(i,s))};return Object.entries(t).forEach(([i,s])=>{r(i,s)}),e.length>0?`?${e.join("&")}`:""},R8=(t,e)=>{const n=t.ENCODE_PATH||encodeURI,r=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(s,o)=>{var a;return(a=e.path)!=null&&a.hasOwnProperty(o)?n(String(e.path[o])):s}),i=`${t.BASE}${r}`;return e.query?`${i}${I8(e.query)}`:i},$8=t=>{if(t.formData){const e=new nf,n=(r,i)=>{zf(i)||kb(i)?e.append(r,i):e.append(r,JSON.stringify(i))};return Object.entries(t.formData).filter(([r,i])=>ng(i)).forEach(([r,i])=>{Array.isArray(i)?i.forEach(s=>n(r,s)):n(r,i)}),e}},pl=async(t,e)=>typeof e=="function"?e(t):e,P8=async(t,e,n)=>{const r=await pl(e,t.TOKEN),i=await pl(e,t.USERNAME),s=await pl(e,t.PASSWORD),o=await pl(e,t.HEADERS),a=typeof(n==null?void 0:n.getHeaders)=="function"&&(n==null?void 0:n.getHeaders())||{},c=Object.entries({Accept:"application/json",...o,...e.headers,...a}).filter(([u,l])=>ng(l)).reduce((u,[l,d])=>({...u,[l]:String(d)}),{});if(H0(r)&&(c.Authorization=`Bearer ${r}`),H0(i)&&H0(s)){const u=B8(`${i}:${s}`);c.Authorization=`Basic ${u}`}return e.body&&(e.mediaType?c["Content-Type"]=e.mediaType:kb(e.body)?c["Content-Type"]=e.body.type||"application/octet-stream":zf(e.body)?c["Content-Type"]="text/plain":E8(e.body)||(c["Content-Type"]="application/json")),c},C8=t=>{if(t.body)return t.body},O8=async(t,e,n,r,i,s,o)=>{const a=Ui.CancelToken.source(),c={url:n,headers:s,data:r??i,method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:a.token};Object.keys(t.HEADERS||{}).filter(l=>l.toLowerCase()==="accept").map(l=>t.HEADERS[l]).includes("application/x-bcs")&&(c.responseType="arraybuffer"),o(()=>a.cancel("The user aborted a request."));try{return await Ui.request(c)}catch(l){const d=l;if(d.response)return d.response;throw l}},U8=(t,e)=>{if(e){const n=t.headers[e];if(zf(n))return n}},M8=t=>{if(t.status!==204)return t.data},N8=(t,e)=>{const r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(r)throw new pu(t,e,r);if(!e.ok)throw new pu(t,e,"Generic Error")},q8=(t,e)=>new Tb(async(n,r,i)=>{try{const s=R8(t,e),o=$8(e),a=C8(e),c=await P8(t,e,o);if(!i.isCancelled){const u=await O8(t,e,s,a,o,c,i),l=M8(u),d=U8(u,e.responseHeader),f={url:s,ok:k8(u.status),status:u.status,statusText:u.statusText,body:d??l};N8(e,f);const p=f.body;try{p.__headers=u.headers}catch{}n(p)}}catch(s){r(s)}}),D8=class extends xb{constructor(t){super(t)}request(t){return q8(this.config,t)}},Bb=class{constructor(t){this.httpRequest=t}getAccount(t,e){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:t},query:{ledger_version:e}})}getAccountResources(t,e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:t},query:{ledger_version:e,start:n,limit:r}})}getAccountModules(t,e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:t},query:{ledger_version:e,start:n,limit:r}})}getAccountResource(t,e,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:t,resource_type:e},query:{ledger_version:n}})}getAccountModule(t,e,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:t,module_name:e},query:{ledger_version:n}})}},Ib=class{constructor(t){this.httpRequest=t}getBlockByHeight(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:t},query:{with_transactions:e}})}getBlockByVersion(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:t},query:{with_transactions:e}})}},Rb=class{constructor(t){this.httpRequest=t}getEventsByCreationNumber(t,e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:t,creation_number:e},query:{start:n,limit:r}})}getEventsByEventHandle(t,e,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:t,event_handle:e,field_name:n},query:{start:r,limit:i}})}},$b=class{constructor(t){this.httpRequest=t}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(t){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:t}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},Pb=class{constructor(t){this.httpRequest=t}getTableItem(t,e,n){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:t},query:{ledger_version:n},body:e,mediaType:"application/json"})}getRawTableItem(t,e,n){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:t},query:{ledger_version:n},body:e,mediaType:"application/json"})}},Cb=class{constructor(t){this.httpRequest=t}getTransactions(t,e){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:t,limit:e}})}submitTransaction(t){return this.httpRequest.request({method:"POST",url:"/transactions",body:t,mediaType:"application/json"})}getTransactionByHash(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:t}})}getTransactionByVersion(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:t}})}getAccountTransactions(t,e,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:t},query:{start:e,limit:n}})}submitBatchTransactions(t){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:t,mediaType:"application/json"})}simulateTransaction(t,e,n,r){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:e,estimate_gas_unit_price:n,estimate_prioritized_gas_unit_price:r},body:t,mediaType:"application/json"})}encodeSubmission(t){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:t,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},Ob=class{constructor(t){this.httpRequest=t}view(t,e){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:e},body:t,mediaType:"application/json"})}},Ub=class{constructor(t,e=D8){var n,r,i,s;this.request=new e({BASE:(n=t==null?void 0:t.BASE)!=null?n:"/v1",VERSION:(r=t==null?void 0:t.VERSION)!=null?r:"1.2.0",WITH_CREDENTIALS:(i=t==null?void 0:t.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=t==null?void 0:t.CREDENTIALS)!=null?s:"include",TOKEN:t==null?void 0:t.TOKEN,USERNAME:t==null?void 0:t.USERNAME,PASSWORD:t==null?void 0:t.PASSWORD,HEADERS:t==null?void 0:t.HEADERS,ENCODE_PATH:t==null?void 0:t.ENCODE_PATH}),this.accounts=new Bb(this.request),this.blocks=new Ib(this.request),this.events=new Rb(this.request),this.general=new $b(this.request),this.tables=new Pb(this.request),this.transactions=new Cb(this.request),this.view=new Ob(this.request)}},L8={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},Mb=(t=>(t.ACCOUNT_NOT_FOUND="account_not_found",t.RESOURCE_NOT_FOUND="resource_not_found",t.MODULE_NOT_FOUND="module_not_found",t.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",t.VERSION_NOT_FOUND="version_not_found",t.TRANSACTION_NOT_FOUND="transaction_not_found",t.TABLE_ITEM_NOT_FOUND="table_item_not_found",t.BLOCK_NOT_FOUND="block_not_found",t.VERSION_PRUNED="version_pruned",t.BLOCK_PRUNED="block_pruned",t.INVALID_INPUT="invalid_input",t.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",t.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",t.VM_ERROR="vm_error",t.HEALTH_CHECK_FAILED="health_check_failed",t.MEMPOOL_IS_FULL="mempool_is_full",t.INTERNAL_ERROR="internal_error",t.WEB_FRAMEWORK_ERROR="web_framework_error",t.BCS_NOT_SUPPORTED="bcs_not_supported",t.API_DISABLED="api_disabled",t))(Mb||{}),Nb=(t=>(t.PRIVATE="private",t.PUBLIC="public",t.FRIEND="friend",t))(Nb||{}),qb=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(qb||{}),H8={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},j8={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},z8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},F8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},G8={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},V8={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},W8={type:"Enum"},K8={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},X8={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Z8={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},J8={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},Y8={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},Q8={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},eE={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},tE={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},nE={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},rE={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},iE={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},sE={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},oE={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},aE={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},cE={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},uE={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},lE={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},dE={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},fE={type:"string"},hE={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},pE={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},gE={type:"string"},yE={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},mE={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},wE={type:"string"},_E={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},bE={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},vE={type:"Enum"},xE={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},SE={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},TE={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},AE={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},EE={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},kE={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},BE={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},IE={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},RE={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},$E={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},PE={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},CE={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},OE={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},UE={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},ME={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},NE={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},qE={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},DE={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},LE={type:"Enum"},HE={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},jE={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},zE={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},FE={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},GE={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},VE={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},WE={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},KE={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},XE={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},ZE={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},JE={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},YE={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},QE={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},e7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},t7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},n7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},r7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},i7={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},s7={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},o7={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},a7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},c7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},u7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},l7={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},d7={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},f7={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},h7={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},p7={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},g7={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},y7={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},m7={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},w7={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},_7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},b7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},v7={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},x7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},S7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},T7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},A7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},E7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},k7={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},B7={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},I7={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}},R7=new ec(kn.fromHex("0x1"),new $r("string"),new $r("String"),[]);function Ff(t,e,n){if(!(e!=null&&e.includes(typeof t)))throw new Error(n||`Invalid arg: ${t} type should be ${e instanceof Array?e.join(" or "):e}`)}function po(t){throw new Error(t)}function Yy(t){return!!t.match(/\s/)}function Qy(t){return!!t.match(/[_A-Za-z0-9]/g)}function $7(t,e){const n=t[e];if(n===":"){if(t.slice(e,e+2)==="::")return[["COLON","::"],2];po("Unrecognized token.")}else{if(n==="<")return[["LT","<"],1];if(n===">")return[["GT",">"],1];if(n===",")return[["COMMA",","],1];if(Yy(n)){let r="";for(let i=e;i<t.length;i+=1){const s=t[i];if(Yy(s))r=`${r}${s}`;else break}return[["SPACE",r],r.length]}else if(Qy(n)){let r="";for(let i=e;i<t.length;i+=1){const s=t[i];if(Qy(s))r=`${r}${s}`;else break}return[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function P7(t){let e=0;const n=[];for(;e<t.length;){const[r,i]=$7(t,e);r[0]!=="SPACE"&&n.push(r),e+=i}return n}var Gf=class{constructor(t){this.tokens=P7(t)}consume(t){const e=this.tokens.shift();(!e||e[1]!==t)&&po("Invalid type tag.")}parseCommaList(t,e){const n=[];for(this.tokens.length<=0&&po("Invalid type tag.");this.tokens[0][1]!==t&&(n.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===t||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===t&&e)));)this.tokens.length<=0&&po("Invalid type tag.");return n}parseTypeTag(){this.tokens.length===0&&po("Invalid type tag.");const[t,e]=this.tokens.shift();if(e==="u8")return new ls;if(e==="u16")return new xc;if(e==="u32")return new Sc;if(e==="u64")return new Yo;if(e==="u128")return new Qo;if(e==="u256")return new Tc;if(e==="bool")return new Jo;if(e==="address")return new ea;if(e==="vector"){this.consume("<");const n=this.parseTypeTag();return this.consume(">"),new Ac(n)}if(t==="IDENT"&&(e.startsWith("0x")||e.startsWith("0X"))){const n=e;this.consume("::");const[r,i]=this.tokens.shift();r!=="IDENT"&&po("Invalid type tag."),this.consume("::");const[s,o]=this.tokens.shift();s!=="IDENT"&&po("Invalid type tag.");let a=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),a=this.parseCommaList(">",!0),this.consume(">"));const c=new ec(kn.fromHex(n),new $r(i),new $r(o),a);return new ta(c)}throw new Error("Invalid type tag.")}};function Db(t){if(Ff(t,["boolean","string"]),typeof t=="boolean")return t;if(t==="true")return!0;if(t==="false")return!1;throw new Error("Invalid boolean string.")}function $a(t){if(Ff(t,["number","string"]),typeof t=="number")return t;const e=Number.parseInt(t,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function Pa(t){return Ff(t,["number","bigint","string"]),BigInt(t)}function rg(t,e,n){if(e instanceof Jo){n.serializeBool(Db(t));return}if(e instanceof ls){n.serializeU8($a(t));return}if(e instanceof xc){n.serializeU16($a(t));return}if(e instanceof Sc){n.serializeU32($a(t));return}if(e instanceof Yo){n.serializeU64(Pa(t));return}if(e instanceof Qo){n.serializeU128(Pa(t));return}if(e instanceof Tc){n.serializeU256(Pa(t));return}if(e instanceof ea){let r;if(typeof t=="string"||t instanceof ht)r=kn.fromHex(t);else if(t instanceof kn)r=t;else throw new Error("Invalid account address.");r.serialize(n);return}if(e instanceof Ac){if(e.value instanceof ls){if(t instanceof Uint8Array){n.serializeBytes(t);return}if(typeof t=="string"){n.serializeStr(t);return}}if(!Array.isArray(t))throw new Error("Invalid vector args.");n.serializeU32AsUleb128(t.length),t.forEach(r=>rg(r,e.value,n));return}if(e instanceof ta){const{address:r,module_name:i,name:s}=e.value;if(`${ht.fromUint8Array(r.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");Ff(t,["string"]),n.serializeStr(t);return}throw new Error("Unsupported arg type.")}function C7(t,e){if(e instanceof Jo)return new Lf(Db(t));if(e instanceof ls)return new Uf($a(t));if(e instanceof xc)return new Mf($a(t));if(e instanceof Sc)return new Nf($a(t));if(e instanceof Yo)return new tc(Pa(t));if(e instanceof Qo)return new qf(Pa(t));if(e instanceof Tc)return new Df(Pa(t));if(e instanceof ea){let n;if(typeof t=="string"||t instanceof ht)n=kn.fromHex(t);else if(t instanceof kn)n=t;else throw new Error("Invalid account address.");return new nc(n)}if(e instanceof Ac&&e.value instanceof ls){if(!(t instanceof Uint8Array))throw new Error(`${t} should be an instance of Uint8Array`);return new rc(t)}throw new Error("Unknown type for TransactionArgument.")}var O7="APTOS::RawTransaction",U7="APTOS::RawTransactionWithData",sc=class{constructor(t,e){this.rawTxnBuilder=e,this.signingFunction=t}build(t,e,n){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(t,e,n)}static getSigningMessage(t){const e=Qa.create();if(t instanceof Ec)e.update(O7);else if(t instanceof Pf)e.update(U7);else throw new Error("Unknown transaction type.");const n=e.digest(),r=fs(t),i=new Uint8Array(n.length+r.length);return i.set(n),i.set(r,n.length),i}},Zl=class extends sc{constructor(t,e,n){super(t,n),this.publicKey=e}rawToSigned(t){const e=sc.getSigningMessage(t),n=this.signingFunction(e),r=new Rf(new pi(this.publicKey),n);return new Zu(t,r)}sign(t){return fs(this.rawToSigned(t))}},M7=class extends sc{constructor(t,e){super(t),this.publicKey=e}rawToSigned(t){const e=sc.getSigningMessage(t),n=this.signingFunction(e),r=new $f(this.publicKey,n);return new Zu(t,r)}sign(t){return fs(this.rawToSigned(t))}},yd=class{constructor(t,e){this.abiMap=new Map,t.forEach(n=>{const r=new Wp(n),i=Hf.deserialize(r);let s;if(i instanceof ic){const o=i,{address:a,name:c}=o.module_name;s=`${ht.fromUint8Array(a.address).toShortString()}::${c.value}::${o.name}`}else s=i.name;if(this.abiMap.has(s))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(s,i)}),this.builderConfig={maxGasAmount:BigInt(gb),expSecFromNow:yb,...e}}static toBCSArgs(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((n,r)=>{const i=new On;return rg(n,t[r].type_tag,i),i.getBytes()})}static toTransactionArguments(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((n,r)=>C7(n,t[r].type_tag))}setSequenceNumber(t){this.builderConfig.sequenceNumber=BigInt(t)}buildTransactionPayload(t,e,n){const r=e.map(o=>new Gf(o).parseTypeTag());let i;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const s=this.abiMap.get(t);if(s instanceof ic){const o=s,a=yd.toBCSArgs(o.args,n);i=new Cf(new Io(o.module_name,new $r(o.name),r,a))}else if(s instanceof jf){const o=s,a=yd.toTransactionArguments(o.args,n);i=new Yu(new Xu(o.code,r,a))}else throw new Error("Unknown ABI format.");return i}build(t,e,n){const{sender:r,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:o,expSecFromNow:a,chainId:c}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const u=r instanceof kn?r:kn.fromHex(r),l=BigInt(Math.floor(Date.now()/1e3)+Number(a)),d=this.buildTransactionPayload(t,e,n);if(d)return new Ec(u,BigInt(i),d,BigInt(o),BigInt(s),l,new Of(Number(c)));throw new Error("Invalid ABI.")}},Lb=class{constructor(t,e){this.aptosClient=t,this.builderConfig=e}async fetchABI(t){const n=(await this.aptosClient.getAccountModules(t)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(s=>s.is_entry).map(s=>({fullName:`${i.address}::${i.name}::${s.name}`,...s}))),r=new Map;return n.forEach(i=>{r.set(i.fullName,i)}),r}async build(t,e,n){if(t=(b=>b.replace(/^0[xX]0*/g,"0x"))(t),t.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[s,o]=t.split("::"),a=await this.fetchABI(s);if(!a.has(t))throw new Error(`${t} doesn't exist.`);const c=a.get(t),l=c.params.filter(b=>b!=="signer"&&b!=="&signer").map((b,x)=>new el(`var${x}`,new Gf(b).parseTypeTag())),d=new ic(c.name,Mo.fromStr(`${s}::${o}`),"",c.generic_type_params.map((b,x)=>new Qu(`${x}`)),l),{sender:f,...p}=this.builderConfig,w=f instanceof kn?ht.fromUint8Array(f.address):f,[{sequence_number:m},v,{gas_estimate:k}]=await Promise.all([p!=null&&p.sequenceNumber?Promise.resolve({sequence_number:p==null?void 0:p.sequenceNumber}):this.aptosClient.getAccount(w),p!=null&&p.chainId?Promise.resolve(p==null?void 0:p.chainId):this.aptosClient.getChainId(),p!=null&&p.gasUnitPrice?Promise.resolve({gas_estimate:p==null?void 0:p.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new yd([fs(d)],{sender:f,sequenceNumber:m,chainId:v,gasUnitPrice:BigInt(k),...p}).build(t,e,n)}};nn([r8(10*60*1e3)],Lb.prototype,"fetchABI",1);var Fc=class{constructor(t,e,n=!1){if(!t)throw new Error("Node URL cannot be empty.");const r=e==null?{}:{...e};n?this.nodeUrl=t:this.nodeUrl=e8(t),r.BASE=this.nodeUrl,(e==null?void 0:e.WITH_CREDENTIALS)===!1?r.WITH_CREDENTIALS=!1:r.WITH_CREDENTIALS=!0,this.client=new Ub(r)}async getAccount(t){return this.client.accounts.getAccount(ht.ensure(t).hex())}async getAccountTransactions(t,e){var n;return this.client.transactions.getAccountTransactions(ht.ensure(t).hex(),(n=e==null?void 0:e.start)==null?void 0:n.toString(),e==null?void 0:e.limit)}async getAccountModules(t,e){const n=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await Jy(n,t,1e3,e)}async getAccountModule(t,e,n){var r;return this.client.accounts.getAccountModule(ht.ensure(t).hex(),e,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}async getAccountResources(t,e){const n=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await Jy(n,t,9999,e)}async getAccountResource(t,e,n){var r;return this.client.accounts.getAccountResource(ht.ensure(t).hex(),e,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}static generateBCSTransaction(t,e){return new Zl(r=>{const i=t.signBuffer(r);return new G.Ed25519Signature(i.toUint8Array())},t.pubKey().toUint8Array()).sign(e)}static generateBCSSimulation(t,e){return new Zl(r=>{const i=new Uint8Array(64);return new G.Ed25519Signature(i)},t.pubKey().toUint8Array()).sign(e)}async generateTransaction(t,e,n){const r={sender:t};if(n!=null&&n.sequence_number&&(r.sequenceNumber=n.sequence_number),n!=null&&n.gas_unit_price&&(r.gasUnitPrice=n.gas_unit_price),n!=null&&n.max_gas_amount&&(r.maxGasAmount=n.max_gas_amount),n!=null&&n.expiration_timestamp_secs){const s=Number.parseInt(n.expiration_timestamp_secs,10);r.expSecFromNow=s-Math.floor(Date.now()/1e3)}return new Lb(this,r).build(e.function,e.type_arguments,e.arguments)}async signTransaction(t,e){return Promise.resolve(Fc.generateBCSTransaction(t,e))}async getEventsByCreationNumber(t,e,n){var r;return this.client.events.getEventsByCreationNumber(ht.ensure(t).hex(),e.toString(),(r=n==null?void 0:n.start)==null?void 0:r.toString(),n==null?void 0:n.limit)}async getEventsByEventHandle(t,e,n,r){var i;return this.client.events.getEventsByEventHandle(ht.ensure(t).hex(),e,n,(i=r==null?void 0:r.start)==null?void 0:i.toString(),r==null?void 0:r.limit)}async submitTransaction(t){return this.submitSignedBCSTransaction(t)}async simulateTransaction(t,e,n){let r;return t instanceof hu?r=Fc.generateBCSSimulation(t,e):t instanceof Wu?r=new M7(()=>{const{threshold:s}=t,o=[],a=[];for(let u=0;u<s;u+=1)o.push(u),a.push(new G.Ed25519Signature(new Uint8Array(64)));const c=G.MultiEd25519Signature.createBitmap(o);return new G.MultiEd25519Signature(a,c)},t).sign(e):r=new Zl(()=>{const s=new Uint8Array(64);return new G.Ed25519Signature(s)},t.toBytes()).sign(e),this.submitBCSSimulation(r,n)}async submitSignedBCSTransaction(t){return this.client.request.request({url:"/transactions",method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(t,e){var n,r,i;const s={estimate_gas_unit_price:(n=e==null?void 0:e.estimateGasUnitPrice)!=null?n:!1,estimate_max_gas_amount:(r=e==null?void 0:e.estimateMaxGasAmount)!=null?r:!1,estimate_prioritized_gas_unit_price:(i=e==null?void 0:e.estimatePrioritizedGasUnitPrice)!=null?i:!1};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(t){var e;return this.client.transactions.getTransactions((e=t==null?void 0:t.start)==null?void 0:e.toString(),t==null?void 0:t.limit)}async getTransactionByHash(t){return this.client.transactions.getTransactionByHash(t)}async getTransactionByVersion(t){return this.client.transactions.getTransactionByVersion(t.toString())}async transactionPending(t){try{return(await this.client.transactions.getTransactionByHash(t)).type==="pending_transaction"}catch(e){if((e==null?void 0:e.status)===404)return!0;throw e}}async waitForTransactionWithResult(t,e){var n,r;const i=(n=e==null?void 0:e.timeoutSecs)!=null?n:t8,s=(r=e==null?void 0:e.checkSuccess)!=null?r:!1;let o=!0,a=0,c;for(;o&&!(a>=i);){try{if(c=await this.client.transactions.getTransactionByHash(t),o=c.type==="pending_transaction",!o)break}catch(u){const l=u instanceof pu,d=l&&u.status!==404&&u.status>=400&&u.status<500;if(!l||d)throw u}await QA(1e3),a+=1}if(c===void 0)throw new Error(`Waiting for transaction ${t} failed`);if(o)throw new q7(`Waiting for transaction ${t} timed out after ${i} seconds`,c);if(!s)return c;if(!(c!=null&&c.success))throw new D7(`Transaction ${t} committed to the blockchain but execution failed`,c);return c}async waitForTransaction(t,e){await this.waitForTransactionWithResult(t,e)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(t,e,n){var r;return await this.client.tables.getTableItem(t,e,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}async generateRawTransaction(t,e,n){const[{sequence_number:r},i,{gas_estimate:s}]=await Promise.all([this.getAccount(t),this.getChainId(),n!=null&&n.gasUnitPrice?Promise.resolve({gas_estimate:n.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:o,gasUnitPrice:a,expireTimestamp:c}={maxGasAmount:BigInt(gb),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+yb),...n};return new G.RawTransaction(G.AccountAddress.fromHex(t),BigInt(r),e,o,a,c,new G.ChainId(i))}async generateSignSubmitTransaction(t,e,n){const r=await this.generateRawTransaction(t.address(),e,n),i=Fc.generateBCSTransaction(t,r);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(t,e,n,r){const i=new On;ei(n,i);const s=new G.TransactionPayloadEntryFunction(G.EntryFunction.natural("0x1::code","publish_package_txn",[],[ha(e),i.getBytes()]));return this.generateSignSubmitTransaction(t,s,r)}async generateSignSubmitWaitForTransaction(t,e,n){const r=await this.generateSignSubmitTransaction(t,e,n);return this.waitForTransactionWithResult(r,n)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(t){const e=`0x1::coin::CoinStore<${n8}>`,[{gas_estimate:n},r]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(t)]),i=r.find(o=>o.type===e);return BigInt(i.data.coin.value)/BigInt(n)}async rotateAuthKeyEd25519(t,e,n){const{sequence_number:r,authentication_key:i}=await this.getAccount(t.address()),s=new hu(e),o=new G.RotationProofChallenge(G.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(r),G.AccountAddress.fromHex(t.address()),new G.AccountAddress(new ht(i).toUint8Array()),s.pubKey().toUint8Array()),a=ht.fromUint8Array(fs(o)),c=t.signHexString(a),u=s.signHexString(a),l=new G.TransactionPayloadEntryFunction(G.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[bh(0),ha(t.pubKey().toUint8Array()),bh(0),ha(s.pubKey().toUint8Array()),ha(c.toUint8Array()),ha(u.toUint8Array())])),d=await this.generateRawTransaction(t.address(),l,n),f=Fc.generateBCSTransaction(t,d);return this.submitSignedBCSTransaction(f)}async lookupOriginalAddress(t){const e=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:n}}=e.data,r=await this.getTableItem(n,{key_type:"address",value_type:"address",key:ht.ensure(t).hex()});return new ht(r)}async getBlockByHeight(t,e){return this.client.blocks.getBlockByHeight(t,e)}async getBlockByVersion(t,e){return this.client.blocks.getBlockByVersion(t,e)}async view(t,e){return this.client.view.view(t,e)}clearCache(t){i8(t)}},en=Fc;nn([Hn],en.prototype,"getAccount",1);nn([Hn],en.prototype,"getAccountTransactions",1);nn([Hn],en.prototype,"getAccountModules",1);nn([Hn],en.prototype,"getAccountModule",1);nn([Hn],en.prototype,"getAccountResources",1);nn([Hn],en.prototype,"getAccountResource",1);nn([Hn],en.prototype,"getEventsByCreationNumber",1);nn([Hn],en.prototype,"getEventsByEventHandle",1);nn([Hn],en.prototype,"submitSignedBCSTransaction",1);nn([Hn],en.prototype,"submitBCSSimulation",1);nn([Hn],en.prototype,"getTransactions",1);nn([Hn],en.prototype,"getTransactionByHash",1);nn([Hn],en.prototype,"getTransactionByVersion",1);nn([Hn],en.prototype,"getLedgerInfo",1);nn([Bf()],en.prototype,"getChainId",1);nn([Hn],en.prototype,"getTableItem",1);nn([Hn,Bf({ttlMs:5*60*1e3,tags:["gas_estimates"]})],en.prototype,"estimateGasPrice",1);nn([Hn],en.prototype,"estimateMaxGasAmount",1);nn([Hn],en.prototype,"getBlockByHeight",1);nn([Hn],en.prototype,"getBlockByVersion",1);nn([Hn],en.prototype,"view",1);var N7=class extends Error{constructor(t,e,n,r){super(e),this.status=t,this.message=e,this.errorCode=n,this.vmErrorCode=r}},q7=class extends Error{constructor(t,e){super(t),this.lastSubmittedTransaction=e}},D7=class extends Error{constructor(t,e){super(t),this.transaction=e}};function Hn(t,e,n){const r=n.value;return n.value=async function(...s){var o,a;try{return await r.apply(this,[...s])}catch(c){throw c instanceof pu?new N7(c.status,JSON.stringify({message:c.message,...c.body}),(o=c.body)==null?void 0:o.error_code,(a=c.body)==null?void 0:a.vm_error_code):c}},n}var Hb=class{constructor(t,e,n=!1){let r=null,i=null;if(typeof t=="object"&&L7(t)?(r=t.fullnodeUrl,i=t.indexerUrl):(r=o8[t],i=s8[t]),!r||!i)throw new Error("network is not provided");this.aptosClient=new en(r,e,n),this.indexerClient=new vb(i)}};function jb(t,e,n){Object.getOwnPropertyNames(e.prototype).forEach(r=>{const i=Object.getOwnPropertyDescriptor(e.prototype,r);i&&(i.value=function(...s){return this[n][r](...s)},Object.defineProperty(t.prototype,r,i))})}jb(Hb,en,"aptosClient");jb(Hb,vb,"indexerClient");function L7(t){return t.fullnodeUrl!==void 0&&typeof t.fullnodeUrl=="string"&&t.indexerUrl!==void 0&&typeof t.indexerUrl=="string"}var H7="a11ceb0b0500000006010004020408030c0a05161d073339086c400000010100020700010307000104030100010504020007060c0508000800030503010801000405080008000304060c0801050306737472696e6705746f6b656e06537472696e6707546f6b656e4964136372656174655f746f6b656e5f69645f726177087472616e73666572000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000010c0b010b020b030b0411000c070b000b070b050b06110102",j7=["01186372656174655F636F6C6C656374696F6E5F736372697074000000000000000000000000000000000000000000000000000000000000000305746F6B656E3020637265617465206120656D70747920746F6B656E20636F6C6C656374696F6E207769746820706172616D65746572730005046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000B6465736372697074696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000375726907000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700076D6178696D756D020E6D75746174655F73657474696E670600","01136372656174655F746F6B656E5F736372697074000000000000000000000000000000000000000000000000000000000000000305746F6B656E1D2063726561746520746F6B656E20776974682072617720696E70757473000D0A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000B6465736372697074696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000762616C616E636502076D6178696D756D020375726907000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E670015726F79616C74795F70617965655F61646472657373041A726F79616C74795F706F696E74735F64656E6F6D696E61746F720218726F79616C74795F706F696E74735F6E756D657261746F72020E6D75746174655F73657474696E6706000D70726F70657274795F6B6579730607000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000F70726F70657274795F76616C7565730606010E70726F70657274795F74797065730607000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700","01166469726563745f7472616e736665725f736372697074000000000000000000000000000000000000000000000000000000000000000305746f6b656e0000051063726561746f72735f61646472657373040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402","010C6F666665725F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E7366657273000006087265636569766572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E0206616D6F756E7402","010C636C61696D5F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E73666572730000050673656E646572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E02","011363616E63656C5F6F666665725F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E7366657273000005087265636569766572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E02","01176d75746174655f746f6b656e5f70726f70657274696573000000000000000000000000000000000000000000000000000000000000000305746f6b656eba02206d75746174652074686520746f6b656e2070726f706572747920616e64207361766520746865206e65772070726f706572747920696e20546f6b656e53746f72650a2069662074686520746f6b656e2070726f70657274795f76657273696f6e20697320302c2077652077696c6c206372656174652061206e65772070726f70657274795f76657273696f6e2070657220746f6b656e20746f2067656e65726174652061206e657720746f6b656e5f69642070657220746f6b656e0a2069662074686520746f6b656e2070726f70657274795f76657273696f6e206973206e6f7420302c2077652077696c6c206a75737420757064617465207468652070726f70657274794d617020616e642075736520746865206578697374696e6720746f6b656e5f6964202870726f70657274795f76657273696f6e2900090b746f6b656e5f6f776e6572040763726561746f72040f636f6c6c656374696f6e5f6e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67000a746f6b656e5f6e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e670016746f6b656e5f70726f70657274795f76657273696f6e0206616d6f756e7402046b6579730607000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67000676616c7565730606010574797065730607000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700","01166f70745f696e5f6469726563745f7472616e73666572000000000000000000000000000000000000000000000000000000000000000305746f6b656e000001066f70745f696e00","01046275726e000000000000000000000000000000000000000000000000000000000000000305746f6b656e20204275726e206120746f6b656e2062792074686520746f6b656e206f776e657200051063726561746f72735f61646472657373040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402","010f6275726e5f62795f63726561746f72000000000000000000000000000000000000000000000000000000000000000305746f6b656e6a204275726e206120746f6b656e2062792063726561746f72207768656e2074686520746f6b656e2773204255524e41424c455f42595f43524541544f5220697320747275650a2054686520746f6b656e206973206f776e65642061742061646472657373206f776e65720005056f776e6572040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402"],zb=class{constructor(t,e){this.type=t,this.value=e}},ig=class{constructor(){this.data={}}setProperty(t,e){this.data[t]=e}};function Fb(t){let e;return t==="string"||t==="String"?e=new ta(R7):e=new Gf(t).parseTypeTag(),e}function z7(t,e){if(t.length!==e.length)throw new Error("Length of property values and types not match");const n=new Array;return e.forEach((r,i)=>{try{const s=Fb(r),o=new On;rg(t[i],s,o),n.push(o.getBytes())}catch{n.push(new TextEncoder().encode(t[i]))}}),n}function Gb(t){const e=t.map.data,n=new ig;return e.forEach(r=>{const{key:i}=r,s=r.value.value,o=r.value.type,a=Fb(o),c=F7(a,s),u=new zb(o,c);n.setProperty(i,u)}),n}function F7(t,e){const n=new Wp(new ht(e).toUint8Array());let r="";return t instanceof ls?r=n.deserializeU8().toString():t instanceof Yo?r=n.deserializeU64().toString():t instanceof Qo?r=n.deserializeU128().toString():t instanceof Jo?r=n.deserializeBool()?"true":"false":t instanceof ea?r=ht.fromUint8Array(n.deserializeFixedBytes(32)).hex():t instanceof ta&&t.isStringTypeTag()?r=n.deserializeStr():r=e,r}var G7={};kf(G7,{PropertyMap:()=>ig,PropertyValue:()=>zb,Token:()=>Wb,TokenData:()=>Vb});var Vb=class{constructor(t,e,n,r,i,s,o,a){this.collection=t,this.description=e,this.name=n,this.maximum=r,this.supply=i,this.uri=s,this.default_properties=Gb(o),this.mutability_config=a}},Wb=class{constructor(t,e,n){this.id=t,this.amount=e,this.token_properties=Gb(n)}},V7=class{constructor(t){this.aptosClient=t,this.transactionBuilder=new yd(j7.map(e=>new ht(e).toUint8Array()))}async createCollection(t,e,n,r,i=ru,s){const o=this.transactionBuilder.buildTransactionPayload("0x3::token::create_collection_script",[],[e,n,r,i,[!1,!1,!1]]);return this.aptosClient.generateSignSubmitTransaction(t,o,s)}async createToken(t,e,n,r,i,s,o=ru,a=t.address(),c=0,u=0,l=[],d=[],f=[],p){const w=this.transactionBuilder.buildTransactionPayload("0x3::token::create_token_script",[],[e,n,r,i,o,s,a,c,u,[!1,!1,!1,!1,!1],l,z7(d,f),f]);return this.aptosClient.generateSignSubmitTransaction(t,w,p)}async createTokenWithMutabilityConfig(t,e,n,r,i,s,o=ru,a=t.address(),c=0,u=0,l=[],d=[],f=[],p=[!1,!1,!1,!1,!1],w){const m=this.transactionBuilder.buildTransactionPayload("0x3::token::create_token_script",[],[e,n,r,i,o,s,a,c,u,p,l,d,f]);return this.aptosClient.generateSignSubmitTransaction(t,m,w)}async offerToken(t,e,n,r,i,s,o=0,a){const c=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::offer_script",[],[e,n,r,i,o,s]);return this.aptosClient.generateSignSubmitTransaction(t,c,a)}async claimToken(t,e,n,r,i,s=0,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::claim_script",[],[e,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(t,a,o)}async cancelTokenOffer(t,e,n,r,i,s=0,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::cancel_offer_script",[],[e,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(t,a,o)}async directTransferToken(t,e,n,r,i,s,o=0,a){const c=this.transactionBuilder.buildTransactionPayload("0x3::token::direct_transfer_script",[],[n,r,i,o,s]),u=await this.aptosClient.generateRawTransaction(t.address(),c,a),l=new G.MultiAgentRawTransaction(u,[G.AccountAddress.fromHex(e.address())]),d=new G.Ed25519Signature(t.signBuffer(sc.getSigningMessage(l)).toUint8Array()),f=new G.AccountAuthenticatorEd25519(new G.Ed25519PublicKey(t.signingKey.publicKey),d),p=new G.Ed25519Signature(e.signBuffer(sc.getSigningMessage(l)).toUint8Array()),w=new G.AccountAuthenticatorEd25519(new G.Ed25519PublicKey(e.signingKey.publicKey),p),m=new G.TransactionAuthenticatorMultiAgent(f,[G.AccountAddress.fromHex(e.address())],[w]),v=fs(new G.SignedTransaction(u,m));return(await this.aptosClient.submitSignedBCSTransaction(v)).hash}async optInTokenTransfer(t,e,n){const r=this.transactionBuilder.buildTransactionPayload("0x3::token::opt_in_direct_transfer",[],[e]);return this.aptosClient.generateSignSubmitTransaction(t,r,n)}async transferWithOptIn(t,e,n,r,i,s,o,a){const c=new Yu(new Xu(new ht(H7).toUint8Array(),[],[new nc(G.AccountAddress.fromHex(e)),new rc(new TextEncoder().encode(n)),new rc(new TextEncoder().encode(r)),new tc(BigInt(i)),new nc(G.AccountAddress.fromHex(s)),new tc(BigInt(o))]));return this.aptosClient.generateSignSubmitTransaction(t,c,a)}async burnByCreator(t,e,n,r,i,s,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token::burn_by_creator",[],[e,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(t,a,o)}async burnByOwner(t,e,n,r,i,s,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token::burn",[],[e,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(t,a,o)}async mutateTokenProperties(t,e,n,r,i,s,o,a,c,u,l){const d=this.transactionBuilder.buildTransactionPayload("0x3::token::mutate_token_properties",[],[e,n,r,i,s,o,a,c,u]);return this.aptosClient.generateSignSubmitTransaction(t,d,l)}async getCollectionData(t,e){const r=(await this.aptosClient.getAccountResources(t)).find(a=>a.type==="0x3::token::Collections"),{handle:i}=r.data.collection_data,s={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:e};return await this.aptosClient.getTableItem(i,s)}async getTokenData(t,e,n){const r=t instanceof ht?t.hex():t,i=await this.aptosClient.getAccountResource(r,"0x3::token::Collections"),{handle:s}=i.data.token_data,a={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:r,collection:e,name:n}},c=await this.aptosClient.getTableItem(s,a);return new Vb(c.collection,c.description,c.name,c.maximum,c.supply,c.uri,c.default_properties,c.mutability_config)}async getToken(t,e,n,r="0"){const i={creator:t instanceof ht?t.hex():t,collection:e,name:n};return this.getTokenForAccount(t,{token_data_id:i,property_version:r})}async getTokenForAccount(t,e){const n=await this.aptosClient.getAccountResource(t instanceof ht?t.hex():t,"0x3::token::TokenStore"),{handle:r}=n.data.tokens,i={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:e};try{const s=await this.aptosClient.getTableItem(r,i);return new Wb(s.id,s.amount,s.token_properties)}catch(s){return(s==null?void 0:s.status)===404?{id:e,amount:"0",token_properties:new ig}:s}}},R={},W7={get exports(){return R},set exports(t){R=t}};(function(t){(function(e,n){function r(B,h){if(!B)throw new Error(h||"Assertion failed")}function i(B,h){B.super_=h;var g=function(){};g.prototype=h.prototype,B.prototype=new g,B.prototype.constructor=B}function s(B,h,g){if(s.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((h==="le"||h==="be")&&(g=h,h=10),this._init(B||0,h||10,g||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=pp.Buffer}catch{}s.isBN=function(h){return h instanceof s?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===s.wordSize&&Array.isArray(h.words)},s.max=function(h,g){return h.cmp(g)>0?h:g},s.min=function(h,g){return h.cmp(g)<0?h:g},s.prototype._init=function(h,g,S){if(typeof h=="number")return this._initNumber(h,g,S);if(typeof h=="object")return this._initArray(h,g,S);g==="hex"&&(g=16),r(g===(g|0)&&g>=2&&g<=36),h=h.toString().replace(/\s+/g,"");var I=0;h[0]==="-"&&(I++,this.negative=1),I<h.length&&(g===16?this._parseHex(h,I,S):(this._parseBase(h,g,I),S==="le"&&this._initArray(this.toArray(),g,S)))},s.prototype._initNumber=function(h,g,S){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),g,S)},s.prototype._initArray=function(h,g,S){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var N,H,X=0;if(S==="be")for(I=h.length-1,N=0;I>=0;I-=3)H=h[I]|h[I-1]<<8|h[I-2]<<16,this.words[N]|=H<<X&67108863,this.words[N+1]=H>>>26-X&67108863,X+=24,X>=26&&(X-=26,N++);else if(S==="le")for(I=0,N=0;I<h.length;I+=3)H=h[I]|h[I+1]<<8|h[I+2]<<16,this.words[N]|=H<<X&67108863,this.words[N+1]=H>>>26-X&67108863,X+=24,X>=26&&(X-=26,N++);return this._strip()};function a(B,h){var g=B.charCodeAt(h);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;r(!1,"Invalid character in "+B)}function c(B,h,g){var S=a(B,g);return g-1>=h&&(S|=a(B,g-1)<<4),S}s.prototype._parseHex=function(h,g,S){this.length=Math.ceil((h.length-g)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var N=0,H=0,X;if(S==="be")for(I=h.length-1;I>=g;I-=2)X=c(h,g,I)<<N,this.words[H]|=X&67108863,N>=18?(N-=18,H+=1,this.words[H]|=X>>>26):N+=8;else{var O=h.length-g;for(I=O%2===0?g+1:g;I<h.length;I+=2)X=c(h,g,I)<<N,this.words[H]|=X&67108863,N>=18?(N-=18,H+=1,this.words[H]|=X>>>26):N+=8}this._strip()};function u(B,h,g,S){for(var I=0,N=0,H=Math.min(B.length,g),X=h;X<H;X++){var O=B.charCodeAt(X)-48;I*=S,O>=49?N=O-49+10:O>=17?N=O-17+10:N=O,r(O>=0&&N<S,"Invalid character"),I+=N}return I}s.prototype._parseBase=function(h,g,S){this.words=[0],this.length=1;for(var I=0,N=1;N<=67108863;N*=g)I++;I--,N=N/g|0;for(var H=h.length-S,X=H%I,O=Math.min(H,H-X)+S,_=0,q=S;q<O;q+=I)_=u(h,q,q+I,g),this.imuln(N),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(X!==0){var ye=1;for(_=u(h,q,h.length,g),q=0;q<X;q++)ye*=g;this.imuln(ye),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this._strip()},s.prototype.copy=function(h){h.words=new Array(this.length);for(var g=0;g<this.length;g++)h.words[g]=this.words[g];h.length=this.length,h.negative=this.negative,h.red=this.red};function l(B,h){B.words=h.words,B.length=h.length,B.negative=h.negative,B.red=h.red}if(s.prototype._move=function(h){l(h,this)},s.prototype.clone=function(){var h=new s(null);return this.copy(h),h},s.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(h,g){h=h||10,g=g|0||1;var S;if(h===16||h==="hex"){S="";for(var I=0,N=0,H=0;H<this.length;H++){var X=this.words[H],O=((X<<I|N)&16777215).toString(16);N=X>>>24-I&16777215,I+=2,I>=26&&(I-=26,H--),N!==0||H!==this.length-1?S=f[6-O.length]+O+S:S=O+S}for(N!==0&&(S=N.toString(16)+S);S.length%g!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(h===(h|0)&&h>=2&&h<=36){var _=p[h],q=w[h];S="";var ye=this.clone();for(ye.negative=0;!ye.isZero();){var _e=ye.modrn(q).toString(h);ye=ye.idivn(q),ye.isZero()?S=_e+S:S=f[_-_e.length]+_e+S}for(this.isZero()&&(S="0"+S);S.length%g!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(h,g){return this.toArrayLike(o,h,g)}),s.prototype.toArray=function(h,g){return this.toArrayLike(Array,h,g)};var m=function(h,g){return h.allocUnsafe?h.allocUnsafe(g):new h(g)};s.prototype.toArrayLike=function(h,g,S){this._strip();var I=this.byteLength(),N=S||Math.max(1,I);r(I<=N,"byte array longer than desired length"),r(N>0,"Requested array length <= 0");var H=m(h,N),X=g==="le"?"LE":"BE";return this["_toArrayLike"+X](H,I),H},s.prototype._toArrayLikeLE=function(h,g){for(var S=0,I=0,N=0,H=0;N<this.length;N++){var X=this.words[N]<<H|I;h[S++]=X&255,S<h.length&&(h[S++]=X>>8&255),S<h.length&&(h[S++]=X>>16&255),H===6?(S<h.length&&(h[S++]=X>>24&255),I=0,H=0):(I=X>>>24,H+=2)}if(S<h.length)for(h[S++]=I;S<h.length;)h[S++]=0},s.prototype._toArrayLikeBE=function(h,g){for(var S=h.length-1,I=0,N=0,H=0;N<this.length;N++){var X=this.words[N]<<H|I;h[S--]=X&255,S>=0&&(h[S--]=X>>8&255),S>=0&&(h[S--]=X>>16&255),H===6?(S>=0&&(h[S--]=X>>24&255),I=0,H=0):(I=X>>>24,H+=2)}if(S>=0)for(h[S--]=I;S>=0;)h[S--]=0},Math.clz32?s.prototype._countBits=function(h){return 32-Math.clz32(h)}:s.prototype._countBits=function(h){var g=h,S=0;return g>=4096&&(S+=13,g>>>=13),g>=64&&(S+=7,g>>>=7),g>=8&&(S+=4,g>>>=4),g>=2&&(S+=2,g>>>=2),S+g},s.prototype._zeroBits=function(h){if(h===0)return 26;var g=h,S=0;return g&8191||(S+=13,g>>>=13),g&127||(S+=7,g>>>=7),g&15||(S+=4,g>>>=4),g&3||(S+=2,g>>>=2),g&1||S++,S},s.prototype.bitLength=function(){var h=this.words[this.length-1],g=this._countBits(h);return(this.length-1)*26+g};function v(B){for(var h=new Array(B.bitLength()),g=0;g<h.length;g++){var S=g/26|0,I=g%26;h[g]=B.words[S]>>>I&1}return h}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,g=0;g<this.length;g++){var S=this._zeroBits(this.words[g]);if(h+=S,S!==26)break}return h},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},s.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]|h.words[g];return this._strip()},s.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},s.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},s.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},s.prototype.iuand=function(h){var g;this.length>h.length?g=h:g=this;for(var S=0;S<g.length;S++)this.words[S]=this.words[S]&h.words[S];return this.length=g.length,this._strip()},s.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},s.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},s.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},s.prototype.iuxor=function(h){var g,S;this.length>h.length?(g=this,S=h):(g=h,S=this);for(var I=0;I<S.length;I++)this.words[I]=g.words[I]^S.words[I];if(this!==g)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=g.length,this._strip()},s.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},s.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},s.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},s.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var g=Math.ceil(h/26)|0,S=h%26;this._expand(g),S>0&&g--;for(var I=0;I<g;I++)this.words[I]=~this.words[I]&67108863;return S>0&&(this.words[I]=~this.words[I]&67108863>>26-S),this._strip()},s.prototype.notn=function(h){return this.clone().inotn(h)},s.prototype.setn=function(h,g){r(typeof h=="number"&&h>=0);var S=h/26|0,I=h%26;return this._expand(S+1),g?this.words[S]=this.words[S]|1<<I:this.words[S]=this.words[S]&~(1<<I),this._strip()},s.prototype.iadd=function(h){var g;if(this.negative!==0&&h.negative===0)return this.negative=0,g=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,g=this.isub(h),h.negative=1,g._normSign();var S,I;this.length>h.length?(S=this,I=h):(S=h,I=this);for(var N=0,H=0;H<I.length;H++)g=(S.words[H]|0)+(I.words[H]|0)+N,this.words[H]=g&67108863,N=g>>>26;for(;N!==0&&H<S.length;H++)g=(S.words[H]|0)+N,this.words[H]=g&67108863,N=g>>>26;if(this.length=S.length,N!==0)this.words[this.length]=N,this.length++;else if(S!==this)for(;H<S.length;H++)this.words[H]=S.words[H];return this},s.prototype.add=function(h){var g;return h.negative!==0&&this.negative===0?(h.negative=0,g=this.sub(h),h.negative^=1,g):h.negative===0&&this.negative!==0?(this.negative=0,g=h.sub(this),this.negative=1,g):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},s.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var g=this.iadd(h);return h.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var S=this.cmp(h);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,N;S>0?(I=this,N=h):(I=h,N=this);for(var H=0,X=0;X<N.length;X++)g=(I.words[X]|0)-(N.words[X]|0)+H,H=g>>26,this.words[X]=g&67108863;for(;H!==0&&X<I.length;X++)g=(I.words[X]|0)+H,H=g>>26,this.words[X]=g&67108863;if(H===0&&X<I.length&&I!==this)for(;X<I.length;X++)this.words[X]=I.words[X];return this.length=Math.max(this.length,X),I!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(h){return this.clone().isub(h)};function k(B,h,g){g.negative=h.negative^B.negative;var S=B.length+h.length|0;g.length=S,S=S-1|0;var I=B.words[0]|0,N=h.words[0]|0,H=I*N,X=H&67108863,O=H/67108864|0;g.words[0]=X;for(var _=1;_<S;_++){for(var q=O>>>26,ye=O&67108863,_e=Math.min(_,h.length-1),Ie=Math.max(0,_-B.length+1);Ie<=_e;Ie++){var pt=_-Ie|0;I=B.words[pt]|0,N=h.words[Ie]|0,H=I*N+ye,q+=H/67108864|0,ye=H&67108863}g.words[_]=ye|0,O=q|0}return O!==0?g.words[_]=O|0:g.length--,g._strip()}var E=function(h,g,S){var I=h.words,N=g.words,H=S.words,X=0,O,_,q,ye=I[0]|0,_e=ye&8191,Ie=ye>>>13,pt=I[1]|0,te=pt&8191,F=pt>>>13,Y=I[2]|0,ee=Y&8191,ie=Y>>>13,le=I[3]|0,oe=le&8191,pe=le>>>13,Ee=I[4]|0,Re=Ee&8191,Te=Ee>>>13,Fe=I[5]|0,Se=Fe&8191,ke=Fe>>>13,Ze=I[6]|0,qe=Ze&8191,He=Ze>>>13,an=I[7]|0,ct=an&8191,St=an>>>13,_n=I[8]|0,yt=_n&8191,Mt=_n>>>13,Ti=I[9]|0,rn=Ti&8191,cn=Ti>>>13,Ai=N[0]|0,Kt=Ai&8191,jt=Ai>>>13,co=N[1]|0,pn=co&8191,gn=co>>>13,oa=N[2]|0,Sn=oa&8191,Bn=oa>>>13,ol=N[3]|0,Xt=ol&8191,un=ol>>>13,Ji=N[4]|0,bn=Ji&8191,vn=Ji>>>13,Pc=N[5]|0,In=Pc&8191,Nt=Pc>>>13,Cc=N[6]|0,A=Cc&8191,P=Cc>>>13,C=N[7]|0,y=C&8191,M=C>>>13,ne=N[8]|0,Q=ne&8191,de=ne>>>13,ve=N[9]|0,Ae=ve&8191,xe=ve>>>13;S.negative=h.negative^g.negative,S.length=19,O=Math.imul(_e,Kt),_=Math.imul(_e,jt),_=_+Math.imul(Ie,Kt)|0,q=Math.imul(Ie,jt);var $t=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,O=Math.imul(te,Kt),_=Math.imul(te,jt),_=_+Math.imul(F,Kt)|0,q=Math.imul(F,jt),O=O+Math.imul(_e,pn)|0,_=_+Math.imul(_e,gn)|0,_=_+Math.imul(Ie,pn)|0,q=q+Math.imul(Ie,gn)|0;var Oe=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,O=Math.imul(ee,Kt),_=Math.imul(ee,jt),_=_+Math.imul(ie,Kt)|0,q=Math.imul(ie,jt),O=O+Math.imul(te,pn)|0,_=_+Math.imul(te,gn)|0,_=_+Math.imul(F,pn)|0,q=q+Math.imul(F,gn)|0,O=O+Math.imul(_e,Sn)|0,_=_+Math.imul(_e,Bn)|0,_=_+Math.imul(Ie,Sn)|0,q=q+Math.imul(Ie,Bn)|0;var Je=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(Je>>>26)|0,Je&=67108863,O=Math.imul(oe,Kt),_=Math.imul(oe,jt),_=_+Math.imul(pe,Kt)|0,q=Math.imul(pe,jt),O=O+Math.imul(ee,pn)|0,_=_+Math.imul(ee,gn)|0,_=_+Math.imul(ie,pn)|0,q=q+Math.imul(ie,gn)|0,O=O+Math.imul(te,Sn)|0,_=_+Math.imul(te,Bn)|0,_=_+Math.imul(F,Sn)|0,q=q+Math.imul(F,Bn)|0,O=O+Math.imul(_e,Xt)|0,_=_+Math.imul(_e,un)|0,_=_+Math.imul(Ie,Xt)|0,q=q+Math.imul(Ie,un)|0;var Qe=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,O=Math.imul(Re,Kt),_=Math.imul(Re,jt),_=_+Math.imul(Te,Kt)|0,q=Math.imul(Te,jt),O=O+Math.imul(oe,pn)|0,_=_+Math.imul(oe,gn)|0,_=_+Math.imul(pe,pn)|0,q=q+Math.imul(pe,gn)|0,O=O+Math.imul(ee,Sn)|0,_=_+Math.imul(ee,Bn)|0,_=_+Math.imul(ie,Sn)|0,q=q+Math.imul(ie,Bn)|0,O=O+Math.imul(te,Xt)|0,_=_+Math.imul(te,un)|0,_=_+Math.imul(F,Xt)|0,q=q+Math.imul(F,un)|0,O=O+Math.imul(_e,bn)|0,_=_+Math.imul(_e,vn)|0,_=_+Math.imul(Ie,bn)|0,q=q+Math.imul(Ie,vn)|0;var ot=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(ot>>>26)|0,ot&=67108863,O=Math.imul(Se,Kt),_=Math.imul(Se,jt),_=_+Math.imul(ke,Kt)|0,q=Math.imul(ke,jt),O=O+Math.imul(Re,pn)|0,_=_+Math.imul(Re,gn)|0,_=_+Math.imul(Te,pn)|0,q=q+Math.imul(Te,gn)|0,O=O+Math.imul(oe,Sn)|0,_=_+Math.imul(oe,Bn)|0,_=_+Math.imul(pe,Sn)|0,q=q+Math.imul(pe,Bn)|0,O=O+Math.imul(ee,Xt)|0,_=_+Math.imul(ee,un)|0,_=_+Math.imul(ie,Xt)|0,q=q+Math.imul(ie,un)|0,O=O+Math.imul(te,bn)|0,_=_+Math.imul(te,vn)|0,_=_+Math.imul(F,bn)|0,q=q+Math.imul(F,vn)|0,O=O+Math.imul(_e,In)|0,_=_+Math.imul(_e,Nt)|0,_=_+Math.imul(Ie,In)|0,q=q+Math.imul(Ie,Nt)|0;var it=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(it>>>26)|0,it&=67108863,O=Math.imul(qe,Kt),_=Math.imul(qe,jt),_=_+Math.imul(He,Kt)|0,q=Math.imul(He,jt),O=O+Math.imul(Se,pn)|0,_=_+Math.imul(Se,gn)|0,_=_+Math.imul(ke,pn)|0,q=q+Math.imul(ke,gn)|0,O=O+Math.imul(Re,Sn)|0,_=_+Math.imul(Re,Bn)|0,_=_+Math.imul(Te,Sn)|0,q=q+Math.imul(Te,Bn)|0,O=O+Math.imul(oe,Xt)|0,_=_+Math.imul(oe,un)|0,_=_+Math.imul(pe,Xt)|0,q=q+Math.imul(pe,un)|0,O=O+Math.imul(ee,bn)|0,_=_+Math.imul(ee,vn)|0,_=_+Math.imul(ie,bn)|0,q=q+Math.imul(ie,vn)|0,O=O+Math.imul(te,In)|0,_=_+Math.imul(te,Nt)|0,_=_+Math.imul(F,In)|0,q=q+Math.imul(F,Nt)|0,O=O+Math.imul(_e,A)|0,_=_+Math.imul(_e,P)|0,_=_+Math.imul(Ie,A)|0,q=q+Math.imul(Ie,P)|0;var et=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(et>>>26)|0,et&=67108863,O=Math.imul(ct,Kt),_=Math.imul(ct,jt),_=_+Math.imul(St,Kt)|0,q=Math.imul(St,jt),O=O+Math.imul(qe,pn)|0,_=_+Math.imul(qe,gn)|0,_=_+Math.imul(He,pn)|0,q=q+Math.imul(He,gn)|0,O=O+Math.imul(Se,Sn)|0,_=_+Math.imul(Se,Bn)|0,_=_+Math.imul(ke,Sn)|0,q=q+Math.imul(ke,Bn)|0,O=O+Math.imul(Re,Xt)|0,_=_+Math.imul(Re,un)|0,_=_+Math.imul(Te,Xt)|0,q=q+Math.imul(Te,un)|0,O=O+Math.imul(oe,bn)|0,_=_+Math.imul(oe,vn)|0,_=_+Math.imul(pe,bn)|0,q=q+Math.imul(pe,vn)|0,O=O+Math.imul(ee,In)|0,_=_+Math.imul(ee,Nt)|0,_=_+Math.imul(ie,In)|0,q=q+Math.imul(ie,Nt)|0,O=O+Math.imul(te,A)|0,_=_+Math.imul(te,P)|0,_=_+Math.imul(F,A)|0,q=q+Math.imul(F,P)|0,O=O+Math.imul(_e,y)|0,_=_+Math.imul(_e,M)|0,_=_+Math.imul(Ie,y)|0,q=q+Math.imul(Ie,M)|0;var nt=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(nt>>>26)|0,nt&=67108863,O=Math.imul(yt,Kt),_=Math.imul(yt,jt),_=_+Math.imul(Mt,Kt)|0,q=Math.imul(Mt,jt),O=O+Math.imul(ct,pn)|0,_=_+Math.imul(ct,gn)|0,_=_+Math.imul(St,pn)|0,q=q+Math.imul(St,gn)|0,O=O+Math.imul(qe,Sn)|0,_=_+Math.imul(qe,Bn)|0,_=_+Math.imul(He,Sn)|0,q=q+Math.imul(He,Bn)|0,O=O+Math.imul(Se,Xt)|0,_=_+Math.imul(Se,un)|0,_=_+Math.imul(ke,Xt)|0,q=q+Math.imul(ke,un)|0,O=O+Math.imul(Re,bn)|0,_=_+Math.imul(Re,vn)|0,_=_+Math.imul(Te,bn)|0,q=q+Math.imul(Te,vn)|0,O=O+Math.imul(oe,In)|0,_=_+Math.imul(oe,Nt)|0,_=_+Math.imul(pe,In)|0,q=q+Math.imul(pe,Nt)|0,O=O+Math.imul(ee,A)|0,_=_+Math.imul(ee,P)|0,_=_+Math.imul(ie,A)|0,q=q+Math.imul(ie,P)|0,O=O+Math.imul(te,y)|0,_=_+Math.imul(te,M)|0,_=_+Math.imul(F,y)|0,q=q+Math.imul(F,M)|0,O=O+Math.imul(_e,Q)|0,_=_+Math.imul(_e,de)|0,_=_+Math.imul(Ie,Q)|0,q=q+Math.imul(Ie,de)|0;var tt=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(tt>>>26)|0,tt&=67108863,O=Math.imul(rn,Kt),_=Math.imul(rn,jt),_=_+Math.imul(cn,Kt)|0,q=Math.imul(cn,jt),O=O+Math.imul(yt,pn)|0,_=_+Math.imul(yt,gn)|0,_=_+Math.imul(Mt,pn)|0,q=q+Math.imul(Mt,gn)|0,O=O+Math.imul(ct,Sn)|0,_=_+Math.imul(ct,Bn)|0,_=_+Math.imul(St,Sn)|0,q=q+Math.imul(St,Bn)|0,O=O+Math.imul(qe,Xt)|0,_=_+Math.imul(qe,un)|0,_=_+Math.imul(He,Xt)|0,q=q+Math.imul(He,un)|0,O=O+Math.imul(Se,bn)|0,_=_+Math.imul(Se,vn)|0,_=_+Math.imul(ke,bn)|0,q=q+Math.imul(ke,vn)|0,O=O+Math.imul(Re,In)|0,_=_+Math.imul(Re,Nt)|0,_=_+Math.imul(Te,In)|0,q=q+Math.imul(Te,Nt)|0,O=O+Math.imul(oe,A)|0,_=_+Math.imul(oe,P)|0,_=_+Math.imul(pe,A)|0,q=q+Math.imul(pe,P)|0,O=O+Math.imul(ee,y)|0,_=_+Math.imul(ee,M)|0,_=_+Math.imul(ie,y)|0,q=q+Math.imul(ie,M)|0,O=O+Math.imul(te,Q)|0,_=_+Math.imul(te,de)|0,_=_+Math.imul(F,Q)|0,q=q+Math.imul(F,de)|0,O=O+Math.imul(_e,Ae)|0,_=_+Math.imul(_e,xe)|0,_=_+Math.imul(Ie,Ae)|0,q=q+Math.imul(Ie,xe)|0;var Ue=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,O=Math.imul(rn,pn),_=Math.imul(rn,gn),_=_+Math.imul(cn,pn)|0,q=Math.imul(cn,gn),O=O+Math.imul(yt,Sn)|0,_=_+Math.imul(yt,Bn)|0,_=_+Math.imul(Mt,Sn)|0,q=q+Math.imul(Mt,Bn)|0,O=O+Math.imul(ct,Xt)|0,_=_+Math.imul(ct,un)|0,_=_+Math.imul(St,Xt)|0,q=q+Math.imul(St,un)|0,O=O+Math.imul(qe,bn)|0,_=_+Math.imul(qe,vn)|0,_=_+Math.imul(He,bn)|0,q=q+Math.imul(He,vn)|0,O=O+Math.imul(Se,In)|0,_=_+Math.imul(Se,Nt)|0,_=_+Math.imul(ke,In)|0,q=q+Math.imul(ke,Nt)|0,O=O+Math.imul(Re,A)|0,_=_+Math.imul(Re,P)|0,_=_+Math.imul(Te,A)|0,q=q+Math.imul(Te,P)|0,O=O+Math.imul(oe,y)|0,_=_+Math.imul(oe,M)|0,_=_+Math.imul(pe,y)|0,q=q+Math.imul(pe,M)|0,O=O+Math.imul(ee,Q)|0,_=_+Math.imul(ee,de)|0,_=_+Math.imul(ie,Q)|0,q=q+Math.imul(ie,de)|0,O=O+Math.imul(te,Ae)|0,_=_+Math.imul(te,xe)|0,_=_+Math.imul(F,Ae)|0,q=q+Math.imul(F,xe)|0;var ze=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(ze>>>26)|0,ze&=67108863,O=Math.imul(rn,Sn),_=Math.imul(rn,Bn),_=_+Math.imul(cn,Sn)|0,q=Math.imul(cn,Bn),O=O+Math.imul(yt,Xt)|0,_=_+Math.imul(yt,un)|0,_=_+Math.imul(Mt,Xt)|0,q=q+Math.imul(Mt,un)|0,O=O+Math.imul(ct,bn)|0,_=_+Math.imul(ct,vn)|0,_=_+Math.imul(St,bn)|0,q=q+Math.imul(St,vn)|0,O=O+Math.imul(qe,In)|0,_=_+Math.imul(qe,Nt)|0,_=_+Math.imul(He,In)|0,q=q+Math.imul(He,Nt)|0,O=O+Math.imul(Se,A)|0,_=_+Math.imul(Se,P)|0,_=_+Math.imul(ke,A)|0,q=q+Math.imul(ke,P)|0,O=O+Math.imul(Re,y)|0,_=_+Math.imul(Re,M)|0,_=_+Math.imul(Te,y)|0,q=q+Math.imul(Te,M)|0,O=O+Math.imul(oe,Q)|0,_=_+Math.imul(oe,de)|0,_=_+Math.imul(pe,Q)|0,q=q+Math.imul(pe,de)|0,O=O+Math.imul(ee,Ae)|0,_=_+Math.imul(ee,xe)|0,_=_+Math.imul(ie,Ae)|0,q=q+Math.imul(ie,xe)|0;var Pe=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,O=Math.imul(rn,Xt),_=Math.imul(rn,un),_=_+Math.imul(cn,Xt)|0,q=Math.imul(cn,un),O=O+Math.imul(yt,bn)|0,_=_+Math.imul(yt,vn)|0,_=_+Math.imul(Mt,bn)|0,q=q+Math.imul(Mt,vn)|0,O=O+Math.imul(ct,In)|0,_=_+Math.imul(ct,Nt)|0,_=_+Math.imul(St,In)|0,q=q+Math.imul(St,Nt)|0,O=O+Math.imul(qe,A)|0,_=_+Math.imul(qe,P)|0,_=_+Math.imul(He,A)|0,q=q+Math.imul(He,P)|0,O=O+Math.imul(Se,y)|0,_=_+Math.imul(Se,M)|0,_=_+Math.imul(ke,y)|0,q=q+Math.imul(ke,M)|0,O=O+Math.imul(Re,Q)|0,_=_+Math.imul(Re,de)|0,_=_+Math.imul(Te,Q)|0,q=q+Math.imul(Te,de)|0,O=O+Math.imul(oe,Ae)|0,_=_+Math.imul(oe,xe)|0,_=_+Math.imul(pe,Ae)|0,q=q+Math.imul(pe,xe)|0;var Me=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(Me>>>26)|0,Me&=67108863,O=Math.imul(rn,bn),_=Math.imul(rn,vn),_=_+Math.imul(cn,bn)|0,q=Math.imul(cn,vn),O=O+Math.imul(yt,In)|0,_=_+Math.imul(yt,Nt)|0,_=_+Math.imul(Mt,In)|0,q=q+Math.imul(Mt,Nt)|0,O=O+Math.imul(ct,A)|0,_=_+Math.imul(ct,P)|0,_=_+Math.imul(St,A)|0,q=q+Math.imul(St,P)|0,O=O+Math.imul(qe,y)|0,_=_+Math.imul(qe,M)|0,_=_+Math.imul(He,y)|0,q=q+Math.imul(He,M)|0,O=O+Math.imul(Se,Q)|0,_=_+Math.imul(Se,de)|0,_=_+Math.imul(ke,Q)|0,q=q+Math.imul(ke,de)|0,O=O+Math.imul(Re,Ae)|0,_=_+Math.imul(Re,xe)|0,_=_+Math.imul(Te,Ae)|0,q=q+Math.imul(Te,xe)|0;var De=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(De>>>26)|0,De&=67108863,O=Math.imul(rn,In),_=Math.imul(rn,Nt),_=_+Math.imul(cn,In)|0,q=Math.imul(cn,Nt),O=O+Math.imul(yt,A)|0,_=_+Math.imul(yt,P)|0,_=_+Math.imul(Mt,A)|0,q=q+Math.imul(Mt,P)|0,O=O+Math.imul(ct,y)|0,_=_+Math.imul(ct,M)|0,_=_+Math.imul(St,y)|0,q=q+Math.imul(St,M)|0,O=O+Math.imul(qe,Q)|0,_=_+Math.imul(qe,de)|0,_=_+Math.imul(He,Q)|0,q=q+Math.imul(He,de)|0,O=O+Math.imul(Se,Ae)|0,_=_+Math.imul(Se,xe)|0,_=_+Math.imul(ke,Ae)|0,q=q+Math.imul(ke,xe)|0;var $e=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+($e>>>26)|0,$e&=67108863,O=Math.imul(rn,A),_=Math.imul(rn,P),_=_+Math.imul(cn,A)|0,q=Math.imul(cn,P),O=O+Math.imul(yt,y)|0,_=_+Math.imul(yt,M)|0,_=_+Math.imul(Mt,y)|0,q=q+Math.imul(Mt,M)|0,O=O+Math.imul(ct,Q)|0,_=_+Math.imul(ct,de)|0,_=_+Math.imul(St,Q)|0,q=q+Math.imul(St,de)|0,O=O+Math.imul(qe,Ae)|0,_=_+Math.imul(qe,xe)|0,_=_+Math.imul(He,Ae)|0,q=q+Math.imul(He,xe)|0;var ae=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(ae>>>26)|0,ae&=67108863,O=Math.imul(rn,y),_=Math.imul(rn,M),_=_+Math.imul(cn,y)|0,q=Math.imul(cn,M),O=O+Math.imul(yt,Q)|0,_=_+Math.imul(yt,de)|0,_=_+Math.imul(Mt,Q)|0,q=q+Math.imul(Mt,de)|0,O=O+Math.imul(ct,Ae)|0,_=_+Math.imul(ct,xe)|0,_=_+Math.imul(St,Ae)|0,q=q+Math.imul(St,xe)|0;var ce=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(ce>>>26)|0,ce&=67108863,O=Math.imul(rn,Q),_=Math.imul(rn,de),_=_+Math.imul(cn,Q)|0,q=Math.imul(cn,de),O=O+Math.imul(yt,Ae)|0,_=_+Math.imul(yt,xe)|0,_=_+Math.imul(Mt,Ae)|0,q=q+Math.imul(Mt,xe)|0;var me=(X+O|0)+((_&8191)<<13)|0;X=(q+(_>>>13)|0)+(me>>>26)|0,me&=67108863,O=Math.imul(rn,Ae),_=Math.imul(rn,xe),_=_+Math.imul(cn,Ae)|0,q=Math.imul(cn,xe);var fe=(X+O|0)+((_&8191)<<13)|0;return X=(q+(_>>>13)|0)+(fe>>>26)|0,fe&=67108863,H[0]=$t,H[1]=Oe,H[2]=Je,H[3]=Qe,H[4]=ot,H[5]=it,H[6]=et,H[7]=nt,H[8]=tt,H[9]=Ue,H[10]=ze,H[11]=Pe,H[12]=Me,H[13]=De,H[14]=$e,H[15]=ae,H[16]=ce,H[17]=me,H[18]=fe,X!==0&&(H[19]=X,S.length++),S};Math.imul||(E=k);function b(B,h,g){g.negative=h.negative^B.negative,g.length=B.length+h.length;for(var S=0,I=0,N=0;N<g.length-1;N++){var H=I;I=0;for(var X=S&67108863,O=Math.min(N,h.length-1),_=Math.max(0,N-B.length+1);_<=O;_++){var q=N-_,ye=B.words[q]|0,_e=h.words[_]|0,Ie=ye*_e,pt=Ie&67108863;H=H+(Ie/67108864|0)|0,pt=pt+X|0,X=pt&67108863,H=H+(pt>>>26)|0,I+=H>>>26,H&=67108863}g.words[N]=X,S=H,H=I}return S!==0?g.words[N]=S:g.length--,g._strip()}function x(B,h,g){return b(B,h,g)}s.prototype.mulTo=function(h,g){var S,I=this.length+h.length;return this.length===10&&h.length===10?S=E(this,h,g):I<63?S=k(this,h,g):I<1024?S=b(this,h,g):S=x(this,h,g),S},s.prototype.mul=function(h){var g=new s(null);return g.words=new Array(this.length+h.length),this.mulTo(h,g)},s.prototype.mulf=function(h){var g=new s(null);return g.words=new Array(this.length+h.length),x(this,h,g)},s.prototype.imul=function(h){return this.clone().mulTo(h,this)},s.prototype.imuln=function(h){var g=h<0;g&&(h=-h),r(typeof h=="number"),r(h<67108864);for(var S=0,I=0;I<this.length;I++){var N=(this.words[I]|0)*h,H=(N&67108863)+(S&67108863);S>>=26,S+=N/67108864|0,S+=H>>>26,this.words[I]=H&67108863}return S!==0&&(this.words[I]=S,this.length++),g?this.ineg():this},s.prototype.muln=function(h){return this.clone().imuln(h)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(h){var g=v(h);if(g.length===0)return new s(1);for(var S=this,I=0;I<g.length&&g[I]===0;I++,S=S.sqr());if(++I<g.length)for(var N=S.sqr();I<g.length;I++,N=N.sqr())g[I]!==0&&(S=S.mul(N));return S},s.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var g=h%26,S=(h-g)/26,I=67108863>>>26-g<<26-g,N;if(g!==0){var H=0;for(N=0;N<this.length;N++){var X=this.words[N]&I,O=(this.words[N]|0)-X<<g;this.words[N]=O|H,H=X>>>26-g}H&&(this.words[N]=H,this.length++)}if(S!==0){for(N=this.length-1;N>=0;N--)this.words[N+S]=this.words[N];for(N=0;N<S;N++)this.words[N]=0;this.length+=S}return this._strip()},s.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},s.prototype.iushrn=function(h,g,S){r(typeof h=="number"&&h>=0);var I;g?I=(g-g%26)/26:I=0;var N=h%26,H=Math.min((h-N)/26,this.length),X=67108863^67108863>>>N<<N,O=S;if(I-=H,I=Math.max(0,I),O){for(var _=0;_<H;_++)O.words[_]=this.words[_];O.length=H}if(H!==0)if(this.length>H)for(this.length-=H,_=0;_<this.length;_++)this.words[_]=this.words[_+H];else this.words[0]=0,this.length=1;var q=0;for(_=this.length-1;_>=0&&(q!==0||_>=I);_--){var ye=this.words[_]|0;this.words[_]=q<<26-N|ye>>>N,q=ye&X}return O&&q!==0&&(O.words[O.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(h,g,S){return r(this.negative===0),this.iushrn(h,g,S)},s.prototype.shln=function(h){return this.clone().ishln(h)},s.prototype.ushln=function(h){return this.clone().iushln(h)},s.prototype.shrn=function(h){return this.clone().ishrn(h)},s.prototype.ushrn=function(h){return this.clone().iushrn(h)},s.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var g=h%26,S=(h-g)/26,I=1<<g;if(this.length<=S)return!1;var N=this.words[S];return!!(N&I)},s.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var g=h%26,S=(h-g)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(g!==0&&S++,this.length=Math.min(S,this.length),g!==0){var I=67108863^67108863>>>g<<g;this.words[this.length-1]&=I}return this._strip()},s.prototype.maskn=function(h){return this.clone().imaskn(h)},s.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},s.prototype._iaddn=function(h){this.words[0]+=h;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(h){return this.clone().iaddn(h)},s.prototype.subn=function(h){return this.clone().isubn(h)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(h,g,S){var I=h.length+S,N;this._expand(I);var H,X=0;for(N=0;N<h.length;N++){H=(this.words[N+S]|0)+X;var O=(h.words[N]|0)*g;H-=O&67108863,X=(H>>26)-(O/67108864|0),this.words[N+S]=H&67108863}for(;N<this.length-S;N++)H=(this.words[N+S]|0)+X,X=H>>26,this.words[N+S]=H&67108863;if(X===0)return this._strip();for(r(X===-1),X=0,N=0;N<this.length;N++)H=-(this.words[N]|0)+X,X=H>>26,this.words[N]=H&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(h,g){var S=this.length-h.length,I=this.clone(),N=h,H=N.words[N.length-1]|0,X=this._countBits(H);S=26-X,S!==0&&(N=N.ushln(S),I.iushln(S),H=N.words[N.length-1]|0);var O=I.length-N.length,_;if(g!=="mod"){_=new s(null),_.length=O+1,_.words=new Array(_.length);for(var q=0;q<_.length;q++)_.words[q]=0}var ye=I.clone()._ishlnsubmul(N,1,O);ye.negative===0&&(I=ye,_&&(_.words[O]=1));for(var _e=O-1;_e>=0;_e--){var Ie=(I.words[N.length+_e]|0)*67108864+(I.words[N.length+_e-1]|0);for(Ie=Math.min(Ie/H|0,67108863),I._ishlnsubmul(N,Ie,_e);I.negative!==0;)Ie--,I.negative=0,I._ishlnsubmul(N,1,_e),I.isZero()||(I.negative^=1);_&&(_.words[_e]=Ie)}return _&&_._strip(),I._strip(),g!=="div"&&S!==0&&I.iushrn(S),{div:_||null,mod:I}},s.prototype.divmod=function(h,g,S){if(r(!h.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var I,N,H;return this.negative!==0&&h.negative===0?(H=this.neg().divmod(h,g),g!=="mod"&&(I=H.div.neg()),g!=="div"&&(N=H.mod.neg(),S&&N.negative!==0&&N.iadd(h)),{div:I,mod:N}):this.negative===0&&h.negative!==0?(H=this.divmod(h.neg(),g),g!=="mod"&&(I=H.div.neg()),{div:I,mod:H.mod}):this.negative&h.negative?(H=this.neg().divmod(h.neg(),g),g!=="div"&&(N=H.mod.neg(),S&&N.negative!==0&&N.isub(h)),{div:H.div,mod:N}):h.length>this.length||this.cmp(h)<0?{div:new s(0),mod:this}:h.length===1?g==="div"?{div:this.divn(h.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new s(this.modrn(h.words[0]))}:this._wordDiv(h,g)},s.prototype.div=function(h){return this.divmod(h,"div",!1).div},s.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},s.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},s.prototype.divRound=function(h){var g=this.divmod(h);if(g.mod.isZero())return g.div;var S=g.div.negative!==0?g.mod.isub(h):g.mod,I=h.ushrn(1),N=h.andln(1),H=S.cmp(I);return H<0||N===1&&H===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(h){var g=h<0;g&&(h=-h),r(h<=67108863);for(var S=(1<<26)%h,I=0,N=this.length-1;N>=0;N--)I=(S*I+(this.words[N]|0))%h;return g?-I:I},s.prototype.modn=function(h){return this.modrn(h)},s.prototype.idivn=function(h){var g=h<0;g&&(h=-h),r(h<=67108863);for(var S=0,I=this.length-1;I>=0;I--){var N=(this.words[I]|0)+S*67108864;this.words[I]=N/h|0,S=N%h}return this._strip(),g?this.ineg():this},s.prototype.divn=function(h){return this.clone().idivn(h)},s.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var g=this,S=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var I=new s(1),N=new s(0),H=new s(0),X=new s(1),O=0;g.isEven()&&S.isEven();)g.iushrn(1),S.iushrn(1),++O;for(var _=S.clone(),q=g.clone();!g.isZero();){for(var ye=0,_e=1;!(g.words[0]&_e)&&ye<26;++ye,_e<<=1);if(ye>0)for(g.iushrn(ye);ye-- >0;)(I.isOdd()||N.isOdd())&&(I.iadd(_),N.isub(q)),I.iushrn(1),N.iushrn(1);for(var Ie=0,pt=1;!(S.words[0]&pt)&&Ie<26;++Ie,pt<<=1);if(Ie>0)for(S.iushrn(Ie);Ie-- >0;)(H.isOdd()||X.isOdd())&&(H.iadd(_),X.isub(q)),H.iushrn(1),X.iushrn(1);g.cmp(S)>=0?(g.isub(S),I.isub(H),N.isub(X)):(S.isub(g),H.isub(I),X.isub(N))}return{a:H,b:X,gcd:S.iushln(O)}},s.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var g=this,S=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var I=new s(1),N=new s(0),H=S.clone();g.cmpn(1)>0&&S.cmpn(1)>0;){for(var X=0,O=1;!(g.words[0]&O)&&X<26;++X,O<<=1);if(X>0)for(g.iushrn(X);X-- >0;)I.isOdd()&&I.iadd(H),I.iushrn(1);for(var _=0,q=1;!(S.words[0]&q)&&_<26;++_,q<<=1);if(_>0)for(S.iushrn(_);_-- >0;)N.isOdd()&&N.iadd(H),N.iushrn(1);g.cmp(S)>=0?(g.isub(S),I.isub(N)):(S.isub(g),N.isub(I))}var ye;return g.cmpn(1)===0?ye=I:ye=N,ye.cmpn(0)<0&&ye.iadd(h),ye},s.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var g=this.clone(),S=h.clone();g.negative=0,S.negative=0;for(var I=0;g.isEven()&&S.isEven();I++)g.iushrn(1),S.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;S.isEven();)S.iushrn(1);var N=g.cmp(S);if(N<0){var H=g;g=S,S=H}else if(N===0||S.cmpn(1)===0)break;g.isub(S)}while(!0);return S.iushln(I)},s.prototype.invm=function(h){return this.egcd(h).a.umod(h)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(h){return this.words[0]&h},s.prototype.bincn=function(h){r(typeof h=="number");var g=h%26,S=(h-g)/26,I=1<<g;if(this.length<=S)return this._expand(S+1),this.words[S]|=I,this;for(var N=I,H=S;N!==0&&H<this.length;H++){var X=this.words[H]|0;X+=N,N=X>>>26,X&=67108863,this.words[H]=X}return N!==0&&(this.words[H]=N,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(h){var g=h<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var S;if(this.length>1)S=1;else{g&&(h=-h),r(h<=67108863,"Number is too big");var I=this.words[0]|0;S=I===h?0:I<h?-1:1}return this.negative!==0?-S|0:S},s.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var g=this.ucmp(h);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var g=0,S=this.length-1;S>=0;S--){var I=this.words[S]|0,N=h.words[S]|0;if(I!==N){I<N?g=-1:I>N&&(g=1);break}}return g},s.prototype.gtn=function(h){return this.cmpn(h)===1},s.prototype.gt=function(h){return this.cmp(h)===1},s.prototype.gten=function(h){return this.cmpn(h)>=0},s.prototype.gte=function(h){return this.cmp(h)>=0},s.prototype.ltn=function(h){return this.cmpn(h)===-1},s.prototype.lt=function(h){return this.cmp(h)===-1},s.prototype.lten=function(h){return this.cmpn(h)<=0},s.prototype.lte=function(h){return this.cmp(h)<=0},s.prototype.eqn=function(h){return this.cmpn(h)===0},s.prototype.eq=function(h){return this.cmp(h)===0},s.red=function(h){return new U(h)},s.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(h){return this.red=h,this},s.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},s.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},s.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},s.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},s.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},s.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},s.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},s.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var T={k256:null,p224:null,p192:null,p25519:null};function $(B,h){this.name=B,this.p=new s(h,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var h=new s(null);return h.words=new Array(Math.ceil(this.n/13)),h},$.prototype.ireduce=function(h){var g=h,S;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),S=g.bitLength();while(S>this.n);var I=S<this.n?-1:g.ucmp(this.p);return I===0?(g.words[0]=0,g.length=1):I>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},$.prototype.split=function(h,g){h.iushrn(this.n,0,g)},$.prototype.imulK=function(h){return h.imul(this.k)};function L(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,$),L.prototype.split=function(h,g){for(var S=4194303,I=Math.min(h.length,9),N=0;N<I;N++)g.words[N]=h.words[N];if(g.length=I,h.length<=9){h.words[0]=0,h.length=1;return}var H=h.words[9];for(g.words[g.length++]=H&S,N=10;N<h.length;N++){var X=h.words[N]|0;h.words[N-10]=(X&S)<<4|H>>>22,H=X}H>>>=22,h.words[N-10]=H,H===0&&h.length>10?h.length-=10:h.length-=9},L.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var g=0,S=0;S<h.length;S++){var I=h.words[S]|0;g+=I*977,h.words[S]=g&67108863,g=I*64+(g/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function z(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,$);function J(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(J,$);function Z(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,$),Z.prototype.imulK=function(h){for(var g=0,S=0;S<h.length;S++){var I=(h.words[S]|0)*19+g,N=I&67108863;I>>>=26,h.words[S]=N,g=I}return g!==0&&(h.words[h.length++]=g),h},s._prime=function(h){if(T[h])return T[h];var g;if(h==="k256")g=new L;else if(h==="p224")g=new z;else if(h==="p192")g=new J;else if(h==="p25519")g=new Z;else throw new Error("Unknown prime "+h);return T[h]=g,g};function U(B){if(typeof B=="string"){var h=s._prime(B);this.m=h.p,this.prime=h}else r(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}U.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},U.prototype._verify2=function(h,g){r((h.negative|g.negative)===0,"red works only with positives"),r(h.red&&h.red===g.red,"red works only with red numbers")},U.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(l(h,h.umod(this.m)._forceRed(this)),h)},U.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},U.prototype.add=function(h,g){this._verify2(h,g);var S=h.add(g);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},U.prototype.iadd=function(h,g){this._verify2(h,g);var S=h.iadd(g);return S.cmp(this.m)>=0&&S.isub(this.m),S},U.prototype.sub=function(h,g){this._verify2(h,g);var S=h.sub(g);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},U.prototype.isub=function(h,g){this._verify2(h,g);var S=h.isub(g);return S.cmpn(0)<0&&S.iadd(this.m),S},U.prototype.shl=function(h,g){return this._verify1(h),this.imod(h.ushln(g))},U.prototype.imul=function(h,g){return this._verify2(h,g),this.imod(h.imul(g))},U.prototype.mul=function(h,g){return this._verify2(h,g),this.imod(h.mul(g))},U.prototype.isqr=function(h){return this.imul(h,h.clone())},U.prototype.sqr=function(h){return this.mul(h,h)},U.prototype.sqrt=function(h){if(h.isZero())return h.clone();var g=this.m.andln(3);if(r(g%2===1),g===3){var S=this.m.add(new s(1)).iushrn(2);return this.pow(h,S)}for(var I=this.m.subn(1),N=0;!I.isZero()&&I.andln(1)===0;)N++,I.iushrn(1);r(!I.isZero());var H=new s(1).toRed(this),X=H.redNeg(),O=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new s(2*_*_).toRed(this);this.pow(_,O).cmp(X)!==0;)_.redIAdd(X);for(var q=this.pow(_,I),ye=this.pow(h,I.addn(1).iushrn(1)),_e=this.pow(h,I),Ie=N;_e.cmp(H)!==0;){for(var pt=_e,te=0;pt.cmp(H)!==0;te++)pt=pt.redSqr();r(te<Ie);var F=this.pow(q,new s(1).iushln(Ie-te-1));ye=ye.redMul(F),q=F.redSqr(),_e=_e.redMul(q),Ie=te}return ye},U.prototype.invm=function(h){var g=h._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},U.prototype.pow=function(h,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return h.clone();var S=4,I=new Array(1<<S);I[0]=new s(1).toRed(this),I[1]=h;for(var N=2;N<I.length;N++)I[N]=this.mul(I[N-1],h);var H=I[0],X=0,O=0,_=g.bitLength()%26;for(_===0&&(_=26),N=g.length-1;N>=0;N--){for(var q=g.words[N],ye=_-1;ye>=0;ye--){var _e=q>>ye&1;if(H!==I[0]&&(H=this.sqr(H)),_e===0&&X===0){O=0;continue}X<<=1,X|=_e,O++,!(O!==S&&(N!==0||ye!==0))&&(H=this.mul(H,I[X]),O=0,X=0)}_=26}return H},U.prototype.convertTo=function(h){var g=h.umod(this.m);return g===h?g.clone():g},U.prototype.convertFrom=function(h){var g=h.clone();return g.red=null,g},s.mont=function(h){return new D(h)};function D(B){U.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(D,U),D.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},D.prototype.convertFrom=function(h){var g=this.imod(h.mul(this.rinv));return g.red=null,g},D.prototype.imul=function(h,g){if(h.isZero()||g.isZero())return h.words[0]=0,h.length=1,h;var S=h.imul(g),I=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=S.isub(I).iushrn(this.shift),H=N;return N.cmp(this.m)>=0?H=N.isub(this.m):N.cmpn(0)<0&&(H=N.iadd(this.m)),H._forceRed(this)},D.prototype.mul=function(h,g){if(h.isZero()||g.isZero())return new s(0)._forceRed(this);var S=h.mul(g),I=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=S.isub(I).iushrn(this.shift),H=N;return N.cmp(this.m)>=0?H=N.isub(this.m):N.cmpn(0)<0&&(H=N.iadd(this.m)),H._forceRed(this)},D.prototype.invm=function(h){var g=this.imod(h._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,ga)})(W7);/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var ya=9e15,io=1e9,xh="0123456789abcdef",md="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",wd="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Sh={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ya,maxE:ya,crypto:!1},Kb,ss,at=!0,Vf="[DecimalError] ",Ys=Vf+"Invalid argument: ",Xb=Vf+"Precision limit exceeded",Zb=Vf+"crypto unavailable",Jb="[object Decimal]",Tr=Math.floor,Fn=Math.pow,K7=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,X7=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Z7=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Yb=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oi=1e7,Ye=7,J7=9007199254740991,Y7=md.length-1,Th=wd.length-1,we={toStringTag:Jb};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Ve(t)};we.ceil=function(){return Ve(new this.constructor(this),this.e+1,2)};we.clampedTo=we.clamp=function(t,e){var n,r=this,i=r.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Ys+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new i(r)};we.comparedTo=we.cmp=function(t){var e,n,r,i,s=this,o=s.d,a=(t=new s.constructor(t)).d,c=s.s,u=t.s;if(!o||!a)return!c||!u?NaN:c!==u?c:o===a?0:!o^c<0?1:-1;if(!o[0]||!a[0])return o[0]?c:a[0]?-u:0;if(c!==u)return c;if(s.e!==t.e)return s.e>t.e^c<0?1:-1;for(r=o.length,i=a.length,e=0,n=r<i?r:i;e<n;++e)if(o[e]!==a[e])return o[e]>a[e]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1};we.cosine=we.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Ye,r.rounding=1,n=Q7(r,r2(r,n)),r.precision=t,r.rounding=e,Ve(ss==2||ss==3?n.neg():n,t,e,!0)):new r(1):new r(NaN)};we.cubeRoot=we.cbrt=function(){var t,e,n,r,i,s,o,a,c,u,l=this,d=l.constructor;if(!l.isFinite()||l.isZero())return new d(l);for(at=!1,s=l.s*Fn(l.s*l,1/3),!s||Math.abs(s)==1/0?(n=ur(l.d),t=l.e,(s=(t-n.length+1)%3)&&(n+=s==1||s==-2?"0":"00"),s=Fn(n,1/3),t=Tr((t+1)/3)-(t%3==(t<0?-1:2)),s==1/0?n="5e"+t:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new d(n),r.s=l.s):r=new d(s.toString()),o=(t=d.precision)+3;;)if(a=r,c=a.times(a).times(a),u=c.plus(l),r=fn(u.plus(l).times(a),u.plus(c),o+2,1),ur(a.d).slice(0,o)===(n=ur(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!i&&n=="4999"){if(!i&&(Ve(a,t+1,0),a.times(a).times(a).eq(l))){r=a;break}o+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(Ve(r,t+1,1),e=!r.times(r).times(r).eq(l));break}return at=!0,Ve(r,t,d.rounding,e)};we.decimalPlaces=we.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-Tr(this.e/Ye))*Ye,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n};we.dividedBy=we.div=function(t){return fn(this,new this.constructor(t))};we.dividedToIntegerBy=we.divToInt=function(t){var e=this,n=e.constructor;return Ve(fn(e,new n(t),0,1,1),n.precision,n.rounding)};we.equals=we.eq=function(t){return this.cmp(t)===0};we.floor=function(){return Ve(new this.constructor(this),this.e+1,3)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){var e=this.cmp(t);return e==1||e===0};we.hyperbolicCosine=we.cosh=function(){var t,e,n,r,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;n=o.precision,r=o.rounding,o.precision=n+Math.max(s.e,s.sd())+4,o.rounding=1,i=s.d.length,i<32?(t=Math.ceil(i/3),e=(1/Kf(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),s=oc(o,1,s.times(e),new o(1),!0);for(var c,u=t,l=new o(8);u--;)c=s.times(s),s=a.minus(c.times(l.minus(c.times(l))));return Ve(s,o.precision=n,o.rounding=r,!0)};we.hyperbolicSine=we.sinh=function(){var t,e,n,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,n=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,r=i.d.length,r<3)i=oc(s,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:t|0,i=i.times(1/Kf(5,t)),i=oc(s,2,i,i,!0);for(var o,a=new s(5),c=new s(16),u=new s(20);t--;)o=i.times(i),i=i.times(a.plus(o.times(c.times(o).plus(u))))}return s.precision=e,s.rounding=n,Ve(i,e,n,!0)};we.hyperbolicTangent=we.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,fn(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)};we.inverseCosine=we.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,s=n.rounding;return r!==-1?r===0?e.isNeg()?Ci(n,i,s):new n(0):new n(NaN):e.isZero()?Ci(n,i+4,s).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=Ci(n,i+4,s).times(.5),n.precision=i,n.rounding=s,t.minus(e))};we.inverseHyperbolicCosine=we.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,at=!1,n=n.times(n).minus(1).sqrt().plus(n),at=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)};we.inverseHyperbolicSine=we.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,at=!1,n=n.times(n).plus(1).sqrt().plus(n),at=!0,r.precision=t,r.rounding=e,n.ln())};we.inverseHyperbolicTangent=we.atanh=function(){var t,e,n,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?Ve(new s(i),t,e,!0):(s.precision=n=r-i.e,i=fn(i.plus(1),new s(1).minus(i),n+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)};we.inverseSine=we.asin=function(){var t,e,n,r,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),n=s.precision,r=s.rounding,e!==-1?e===0?(t=Ci(s,n+4,r).times(.5),t.s=i.s,t):new s(NaN):(s.precision=n+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,i.times(2)))};we.inverseTangent=we.atan=function(){var t,e,n,r,i,s,o,a,c,u=this,l=u.constructor,d=l.precision,f=l.rounding;if(u.isFinite()){if(u.isZero())return new l(u);if(u.abs().eq(1)&&d+4<=Th)return o=Ci(l,d+4,f).times(.25),o.s=u.s,o}else{if(!u.s)return new l(NaN);if(d+4<=Th)return o=Ci(l,d+4,f).times(.5),o.s=u.s,o}for(l.precision=a=d+10,l.rounding=1,n=Math.min(28,a/Ye+2|0),t=n;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(at=!1,e=Math.ceil(a/Ye),r=1,c=u.times(u),o=new l(u),i=u;t!==-1;)if(i=i.times(c),s=o.minus(i.div(r+=2)),i=i.times(c),o=s.plus(i.div(r+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===s.d[t]&&t--;);return n&&(o=o.times(2<<n-1)),at=!0,Ve(o,l.precision=d,l.rounding=f,!0)};we.isFinite=function(){return!!this.d};we.isInteger=we.isInt=function(){return!!this.d&&Tr(this.e/Ye)>this.d.length-2};we.isNaN=function(){return!this.s};we.isNegative=we.isNeg=function(){return this.s<0};we.isPositive=we.isPos=function(){return this.s>0};we.isZero=function(){return!!this.d&&this.d[0]===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n,r,i,s,o,a,c,u=this,l=u.constructor,d=l.precision,f=l.rounding,p=5;if(t==null)t=new l(10),e=!0;else{if(t=new l(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new l(NaN);e=t.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new l(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)s=!0;else{for(i=n[0];i%10===0;)i/=10;s=i!==1}if(at=!1,a=d+p,o=Hs(u,a),r=e?_d(l,a+10):Hs(t,a),c=fn(o,r,a,1),gu(c.d,i=d,f))do if(a+=10,o=Hs(u,a),r=e?_d(l,a+10):Hs(t,a),c=fn(o,r,a,1),!s){+ur(c.d).slice(i+1,i+15)+1==1e14&&(c=Ve(c,d+1,0));break}while(gu(c.d,i+=10,f));return at=!0,Ve(c,d,f)};we.minus=we.sub=function(t){var e,n,r,i,s,o,a,c,u,l,d,f,p=this,w=p.constructor;if(t=new w(t),!p.d||!t.d)return!p.s||!t.s?t=new w(NaN):p.d?t.s=-t.s:t=new w(t.d||p.s!==t.s?p:NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(u=p.d,f=t.d,a=w.precision,c=w.rounding,!u[0]||!f[0]){if(f[0])t.s=-t.s;else if(u[0])t=new w(p);else return new w(c===3?-0:0);return at?Ve(t,a,c):t}if(n=Tr(t.e/Ye),l=Tr(p.e/Ye),u=u.slice(),s=l-n,s){for(d=s<0,d?(e=u,s=-s,o=f.length):(e=f,n=l,o=u.length),r=Math.max(Math.ceil(a/Ye),o)+2,s>r&&(s=r,e.length=1),e.reverse(),r=s;r--;)e.push(0);e.reverse()}else{for(r=u.length,o=f.length,d=r<o,d&&(o=r),r=0;r<o;r++)if(u[r]!=f[r]){d=u[r]<f[r];break}s=0}for(d&&(e=u,u=f,f=e,t.s=-t.s),o=u.length,r=f.length-o;r>0;--r)u[o++]=0;for(r=f.length;r>s;){if(u[--r]<f[r]){for(i=r;i&&u[--i]===0;)u[i]=Oi-1;--u[i],u[r]+=Oi}u[r]-=f[r]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=Wf(u,n),at?Ve(t,a,c):t):new w(c===3?-0:0)};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?Ve(new r(n),r.precision,r.rounding):(at=!1,r.modulo==9?(e=fn(n,t.abs(),0,3,1),e.s*=t.s):e=fn(n,t,0,r.modulo,1),e=e.times(t),at=!0,n.minus(e))};we.naturalExponential=we.exp=function(){return Ah(this)};we.naturalLogarithm=we.ln=function(){return Hs(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Ve(t)};we.plus=we.add=function(t){var e,n,r,i,s,o,a,c,u,l,d=this,f=d.constructor;if(t=new f(t),!d.d||!t.d)return!d.s||!t.s?t=new f(NaN):d.d||(t=new f(t.d||d.s===t.s?d:NaN)),t;if(d.s!=t.s)return t.s=-t.s,d.minus(t);if(u=d.d,l=t.d,a=f.precision,c=f.rounding,!u[0]||!l[0])return l[0]||(t=new f(d)),at?Ve(t,a,c):t;if(s=Tr(d.e/Ye),r=Tr(t.e/Ye),u=u.slice(),i=s-r,i){for(i<0?(n=u,i=-i,o=l.length):(n=l,r=s,o=u.length),s=Math.ceil(a/Ye),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=u.length,i=l.length,o-i<0&&(i=o,n=l,l=u,u=n),e=0;i;)e=(u[--i]=u[i]+l[i]+e)/Oi|0,u[i]%=Oi;for(e&&(u.unshift(e),++r),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=Wf(u,r),at?Ve(t,a,c):t};we.precision=we.sd=function(t){var e,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ys+t);return n.d?(e=Qb(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e};we.round=function(){var t=this,e=t.constructor;return Ve(new e(t),t.e+1,e.rounding)};we.sine=we.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Ye,r.rounding=1,n=tk(r,r2(r,n)),r.precision=t,r.rounding=e,Ve(ss>2?n.neg():n,t,e,!0)):new r(NaN)};we.squareRoot=we.sqrt=function(){var t,e,n,r,i,s,o=this,a=o.d,c=o.e,u=o.s,l=o.constructor;if(u!==1||!a||!a[0])return new l(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);for(at=!1,u=Math.sqrt(+o),u==0||u==1/0?(e=ur(a),(e.length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=Tr((c+1)/2)-(c<0||c%2),u==1/0?e="5e"+c:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),r=new l(e)):r=new l(u.toString()),n=(c=l.precision)+3;;)if(s=r,r=s.plus(fn(o,s,n+2,1)).times(.5),ur(s.d).slice(0,n)===(e=ur(r.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!i&&e=="4999"){if(!i&&(Ve(s,c+1,0),s.times(s).eq(o))){r=s;break}n+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Ve(r,c+1,1),t=!r.times(r).eq(o));break}return at=!0,Ve(r,c,l.rounding,t)};we.tangent=we.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=fn(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,Ve(ss==2||ss==4?n.neg():n,t,e,!0)):new r(NaN)};we.times=we.mul=function(t){var e,n,r,i,s,o,a,c,u,l=this,d=l.constructor,f=l.d,p=(t=new d(t)).d;if(t.s*=l.s,!f||!f[0]||!p||!p[0])return new d(!t.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:!f||!p?t.s/0:t.s*0);for(n=Tr(l.e/Ye)+Tr(t.e/Ye),c=f.length,u=p.length,c<u&&(s=f,f=p,p=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)a=s[i]+p[r]*f[i-r-1]+e,s[i--]=a%Oi|0,e=a/Oi|0;s[i]=(s[i]+e)%Oi|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=Wf(s,n),at?Ve(t,d.precision,d.rounding):t};we.toBinary=function(t,e){return sg(this,2,t,e)};we.toDecimalPlaces=we.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Nr(t,0,io),e===void 0?e=r.rounding:Nr(e,0,8),Ve(n,t+n.e+1,e))};we.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Xi(r,!0):(Nr(t,0,io),e===void 0?e=i.rounding:Nr(e,0,8),r=Ve(new i(r),t+1,e),n=Xi(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n};we.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?n=Xi(i):(Nr(t,0,io),e===void 0?e=s.rounding:Nr(e,0,8),r=Ve(new s(i),t+i.e+1,e),n=Xi(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};we.toFraction=function(t){var e,n,r,i,s,o,a,c,u,l,d,f,p=this,w=p.d,m=p.constructor;if(!w)return new m(p);if(u=n=new m(1),r=c=new m(0),e=new m(r),s=e.e=Qb(w)-p.e-1,o=s%Ye,e.d[0]=Fn(10,o<0?Ye+o:o),t==null)t=s>0?e:u;else{if(a=new m(t),!a.isInt()||a.lt(u))throw Error(Ys+a);t=a.gt(e)?s>0?e:u:a}for(at=!1,a=new m(ur(w)),l=m.precision,m.precision=s=w.length*Ye*2;d=fn(a,e,0,1,1),i=n.plus(d.times(r)),i.cmp(t)!=1;)n=r,r=i,i=u,u=c.plus(d.times(i)),c=i,i=e,e=a.minus(d.times(i)),a=i;return i=fn(t.minus(n),r,0,1,1),c=c.plus(i.times(u)),n=n.plus(i.times(r)),c.s=u.s=p.s,f=fn(u,r,s,1).minus(p).abs().cmp(fn(c,n,s,1).minus(p).abs())<1?[u,r]:[c,n],m.precision=l,at=!0,f};we.toHexadecimal=we.toHex=function(t,e){return sg(this,16,t,e)};we.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),t==null){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),e===void 0?e=r.rounding:Nr(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(at=!1,n=fn(n,t,0,e,1).times(t),at=!0,Ve(n)):(t.s=n.s,n=t),n};we.toNumber=function(){return+this};we.toOctal=function(t,e){return sg(this,8,t,e)};we.toPower=we.pow=function(t){var e,n,r,i,s,o,a=this,c=a.constructor,u=+(t=new c(t));if(!a.d||!t.d||!a.d[0]||!t.d[0])return new c(Fn(+a,u));if(a=new c(a),a.eq(1))return a;if(r=c.precision,s=c.rounding,t.eq(1))return Ve(a,r,s);if(e=Tr(t.e/Ye),e>=t.d.length-1&&(n=u<0?-u:u)<=J7)return i=e2(c,a,n,r),t.s<0?new c(1).div(i):Ve(i,r,s);if(o=a.s,o<0){if(e<t.d.length-1)return new c(NaN);if(t.d[e]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return n=Fn(+a,u),e=n==0||!isFinite(n)?Tr(u*(Math.log("0."+ur(a.d))/Math.LN10+a.e+1)):new c(n+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?o/0:0):(at=!1,c.rounding=a.s=1,n=Math.min(12,(e+"").length),i=Ah(t.times(Hs(a,r+n)),r),i.d&&(i=Ve(i,r+5,1),gu(i.d,r,s)&&(e=r+10,i=Ve(Ah(t.times(Hs(a,e+n)),e),e+5,1),+ur(i.d).slice(r+1,r+15)+1==1e14&&(i=Ve(i,r+1,0)))),i.s=o,at=!0,c.rounding=s,Ve(i,r,s))};we.toPrecision=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Xi(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Nr(t,1,io),e===void 0?e=i.rounding:Nr(e,0,8),r=Ve(new i(r),t,e),n=Xi(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n};we.toSignificantDigits=we.toSD=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Nr(t,1,io),e===void 0?e=r.rounding:Nr(e,0,8)),Ve(new r(n),t,e)};we.toString=function(){var t=this,e=t.constructor,n=Xi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n};we.truncated=we.trunc=function(){return Ve(new this.constructor(this),this.e+1,1)};we.valueOf=we.toJSON=function(){var t=this,e=t.constructor,n=Xi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};function ur(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=Ye-r.length,n&&(s+=Ms(n)),s+=r;o=t[e],r=o+"",n=Ye-r.length,n&&(s+=Ms(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}function Nr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ys+t)}function gu(t,e,n,r){var i,s,o,a;for(s=t[0];s>=10;s/=10)--e;return--e<0?(e+=Ye,i=0):(i=Math.ceil((e+1)/Ye),e%=Ye),s=Fn(10,Ye-e),a=t[i]%s|0,r==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),o=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):o=(n<4&&a+1==s||n>3&&a+1==s/2)&&(t[i+1]/s/100|0)==Fn(10,e-2)-1||(a==s/2||a==0)&&(t[i+1]/s/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),o=(r||n<4)&&a==9999||!r&&n>3&&a==4999):o=((r||n<4)&&a+1==s||!r&&n>3&&a+1==s/2)&&(t[i+1]/s/1e3|0)==Fn(10,e-3)-1,o}function Jl(t,e,n){for(var r,i=[0],s,o=0,a=t.length;o<a;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=xh.indexOf(t.charAt(o++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function Q7(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),i=(1/Kf(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=oc(t,1,e.times(i),new t(1));for(var s=n;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=n,e}var fn=function(){function t(r,i,s){var o,a=0,c=r.length;for(r=r.slice();c--;)o=r[c]*i+a,r[c]=o%s|0,a=o/s|0;return a&&r.unshift(a),r}function e(r,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,s,o){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*o+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o,a,c){var u,l,d,f,p,w,m,v,k,E,b,x,T,$,L,z,J,Z,U,D,B=r.constructor,h=r.s==i.s?1:-1,g=r.d,S=i.d;if(!g||!g[0]||!S||!S[0])return new B(!r.s||!i.s||(g?S&&g[0]==S[0]:!S)?NaN:g&&g[0]==0||!S?h*0:h/0);for(c?(p=1,l=r.e-i.e):(c=Oi,p=Ye,l=Tr(r.e/p)-Tr(i.e/p)),U=S.length,J=g.length,k=new B(h),E=k.d=[],d=0;S[d]==(g[d]||0);d++);if(S[d]>(g[d]||0)&&l--,s==null?($=s=B.precision,o=B.rounding):a?$=s+(r.e-i.e)+1:$=s,$<0)E.push(1),w=!0;else{if($=$/p+2|0,d=0,U==1){for(f=0,S=S[0],$++;(d<J||f)&&$--;d++)L=f*c+(g[d]||0),E[d]=L/S|0,f=L%S|0;w=f||d<J}else{for(f=c/(S[0]+1)|0,f>1&&(S=t(S,f,c),g=t(g,f,c),U=S.length,J=g.length),z=U,b=g.slice(0,U),x=b.length;x<U;)b[x++]=0;D=S.slice(),D.unshift(0),Z=S[0],S[1]>=c/2&&++Z;do f=0,u=e(S,b,U,x),u<0?(T=b[0],U!=x&&(T=T*c+(b[1]||0)),f=T/Z|0,f>1?(f>=c&&(f=c-1),m=t(S,f,c),v=m.length,x=b.length,u=e(m,b,v,x),u==1&&(f--,n(m,U<v?D:S,v,c))):(f==0&&(u=f=1),m=S.slice()),v=m.length,v<x&&m.unshift(0),n(b,m,x,c),u==-1&&(x=b.length,u=e(S,b,U,x),u<1&&(f++,n(b,U<x?D:S,x,c))),x=b.length):u===0&&(f++,b=[0]),E[d++]=f,u&&b[0]?b[x++]=g[z]||0:(b=[g[z]],x=1);while((z++<J||b[0]!==void 0)&&$--);w=b[0]!==void 0}E[0]||E.shift()}if(p==1)k.e=l,Kb=w;else{for(d=1,f=E[0];f>=10;f/=10)d++;k.e=d+l*p-1,Ve(k,a?s+k.e+1:s,o,w)}return k}}();function Ve(t,e,n,r){var i,s,o,a,c,u,l,d,f,p=t.constructor;e:if(e!=null){if(d=t.d,!d)return t;for(i=1,a=d[0];a>=10;a/=10)i++;if(s=e-i,s<0)s+=Ye,o=e,l=d[f=0],c=l/Fn(10,i-o-1)%10|0;else if(f=Math.ceil((s+1)/Ye),a=d.length,f>=a)if(r){for(;a++<=f;)d.push(0);l=c=0,i=1,s%=Ye,o=s-Ye+1}else break e;else{for(l=a=d[f],i=1;a>=10;a/=10)i++;s%=Ye,o=s-Ye+i,c=o<0?0:l/Fn(10,i-o-1)%10|0}if(r=r||e<0||d[f+1]!==void 0||(o<0?l:l%Fn(10,i-o-1)),u=n<4?(c||r)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||r||n==6&&(s>0?o>0?l/Fn(10,i-o):0:d[f-1])%10&1||n==(t.s<0?8:7)),e<1||!d[0])return d.length=0,u?(e-=t.e+1,d[0]=Fn(10,(Ye-e%Ye)%Ye),t.e=-e||0):d[0]=t.e=0,t;if(s==0?(d.length=f,a=1,f--):(d.length=f+1,a=Fn(10,Ye-s),d[f]=o>0?(l/Fn(10,i-o)%Fn(10,o)|0)*a:0),u)for(;;)if(f==0){for(s=1,o=d[0];o>=10;o/=10)s++;for(o=d[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(t.e++,d[0]==Oi&&(d[0]=1));break}else{if(d[f]+=a,d[f]!=Oi)break;d[f--]=0,a=1}for(s=d.length;d[--s]===0;)d.pop()}return at&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function Xi(t,e,n){if(!t.isFinite())return n2(t);var r,i=t.e,s=ur(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ms(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+Ms(-i-1)+s,n&&(r=n-o)>0&&(s+=Ms(r))):i>=o?(s+=Ms(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Ms(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Ms(r))),s}function Wf(t,e){var n=t[0];for(e*=Ye;n>=10;n/=10)e++;return e}function _d(t,e,n){if(e>Y7)throw at=!0,n&&(t.precision=n),Error(Xb);return Ve(new t(md),e,1,!0)}function Ci(t,e,n){if(e>Th)throw Error(Xb);return Ve(new t(wd),e,n,!0)}function Qb(t){var e=t.length-1,n=e*Ye+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function Ms(t){for(var e="";t--;)e+="0";return e}function e2(t,e,n,r){var i,s=new t(1),o=Math.ceil(r/Ye+4);for(at=!1;;){if(n%2&&(s=s.times(e),t1(s.d,o)&&(i=!0)),n=Tr(n/2),n===0){n=s.d.length-1,i&&s.d[n]===0&&++s.d[n];break}e=e.times(e),t1(e.d,o)}return at=!0,s}function e1(t){return t.d[t.d.length-1]&1}function t2(t,e,n){for(var r,i=new t(e[0]),s=0;++s<e.length;)if(r=new t(e[s]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}function Ah(t,e){var n,r,i,s,o,a,c,u=0,l=0,d=0,f=t.constructor,p=f.rounding,w=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(at=!1,c=w):c=e,a=new f(.03125);t.e>-2;)t=t.times(a),d+=5;for(r=Math.log(Fn(2,d))/Math.LN10*2+5|0,c+=r,n=s=o=new f(1),f.precision=c;;){if(s=Ve(s.times(t),c,1),n=n.times(++l),a=o.plus(fn(s,n,c,1)),ur(a.d).slice(0,c)===ur(o.d).slice(0,c)){for(i=d;i--;)o=Ve(o.times(o),c,1);if(e==null)if(u<3&&gu(o.d,c-r,p,u))f.precision=c+=10,n=s=a=new f(1),l=0,u++;else return Ve(o,f.precision=w,p,at=!0);else return f.precision=w,o}o=a}}function Hs(t,e){var n,r,i,s,o,a,c,u,l,d,f,p=1,w=10,m=t,v=m.d,k=m.constructor,E=k.rounding,b=k.precision;if(m.s<0||!v||!v[0]||!m.e&&v[0]==1&&v.length==1)return new k(v&&!v[0]?-1/0:m.s!=1?NaN:v?0:m);if(e==null?(at=!1,l=b):l=e,k.precision=l+=w,n=ur(v),r=n.charAt(0),Math.abs(s=m.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=ur(m.d),r=n.charAt(0),p++;s=m.e,r>1?(m=new k("0."+n),s++):m=new k(r+"."+n.slice(1))}else return u=_d(k,l+2,b).times(s+""),m=Hs(new k(r+"."+n.slice(1)),l-w).plus(u),k.precision=b,e==null?Ve(m,b,E,at=!0):m;for(d=m,c=o=m=fn(m.minus(1),m.plus(1),l,1),f=Ve(m.times(m),l,1),i=3;;){if(o=Ve(o.times(f),l,1),u=c.plus(fn(o,new k(i),l,1)),ur(u.d).slice(0,l)===ur(c.d).slice(0,l))if(c=c.times(2),s!==0&&(c=c.plus(_d(k,l+2,b).times(s+""))),c=fn(c,new k(p),l,1),e==null)if(gu(c.d,l-w,E,a))k.precision=l+=w,u=o=m=fn(d.minus(1),d.plus(1),l,1),f=Ve(m.times(m),l,1),i=a=1;else return Ve(c,k.precision=b,E,at=!0);else return k.precision=b,c;c=u,i+=2}}function n2(t){return String(t.s*t.s/0)}function Eh(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%Ye,n<0&&(r+=Ye),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ye;r<i;)t.d.push(+e.slice(r,r+=Ye));e=e.slice(r),r=Ye-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),at&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function ek(t,e){var n,r,i,s,o,a,c,u,l;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Yb.test(e))return Eh(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(X7.test(e))n=16,e=e.toLowerCase();else if(K7.test(e))n=2;else if(Z7.test(e))n=8;else throw Error(Ys+e);for(s=e.search(/p/i),s>0?(c=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),o=s>=0,r=t.constructor,o&&(e=e.replace(".",""),a=e.length,s=a-s,i=e2(r,new r(n),s,s*2)),u=Jl(e,n,Oi),l=u.length-1,s=l;u[s]===0;--s)u.pop();return s<0?new r(t.s*0):(t.e=Wf(u,l),t.d=u,at=!1,o&&(t=fn(t,i,a*4)),c&&(t=t.times(Math.abs(c)<54?Fn(2,c):Ge.pow(2,c))),at=!0,t)}function tk(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:oc(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:n|0,e=e.times(1/Kf(5,n)),e=oc(t,2,e,e);for(var i,s=new t(5),o=new t(16),a=new t(20);n--;)i=e.times(e),e=e.times(s.plus(i.times(o.times(i).minus(a))));return e}function oc(t,e,n,r,i){var s,o,a,c,u=t.precision,l=Math.ceil(u/Ye);for(at=!1,c=n.times(n),a=new t(r);;){if(o=fn(a.times(c),new t(e++*e++),u,1),a=i?r.plus(o):r.minus(o),r=fn(o.times(c),new t(e++*e++),u,1),o=a.plus(r),o.d[l]!==void 0){for(s=l;o.d[s]===a.d[s]&&s--;);if(s==-1)break}s=a,a=r,r=o,o=s}return at=!0,o.d.length=l+1,o}function Kf(t,e){for(var n=t;--e;)n*=t;return n}function r2(t,e){var n,r=e.s<0,i=Ci(t,t.precision,1),s=i.times(.5);if(e=e.abs(),e.lte(s))return ss=r?4:1,e;if(n=e.divToInt(i),n.isZero())ss=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(s))return ss=e1(n)?r?2:3:r?4:1,e;ss=e1(n)?r?1:4:r?3:2}return e.minus(i).abs()}function sg(t,e,n,r){var i,s,o,a,c,u,l,d,f,p=t.constructor,w=n!==void 0;if(w?(Nr(n,1,io),r===void 0?r=p.rounding:Nr(r,0,8)):(n=p.precision,r=p.rounding),!t.isFinite())l=n2(t);else{for(l=Xi(t),o=l.indexOf("."),w?(i=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):i=e,o>=0&&(l=l.replace(".",""),f=new p(1),f.e=l.length-o,f.d=Jl(Xi(f),10,i),f.e=f.d.length),d=Jl(l,10,i),s=c=d.length;d[--c]==0;)d.pop();if(!d[0])l=w?"0p+0":"0";else{if(o<0?s--:(t=new p(t),t.d=d,t.e=s,t=fn(t,f,n,r,0,i),d=t.d,s=t.e,u=Kb),o=d[n],a=i/2,u=u||d[n+1]!==void 0,u=r<4?(o!==void 0||u)&&(r===0||r===(t.s<0?3:2)):o>a||o===a&&(r===4||u||r===6&&d[n-1]&1||r===(t.s<0?8:7)),d.length=n,u)for(;++d[--n]>i-1;)d[n]=0,n||(++s,d.unshift(1));for(c=d.length;!d[c-1];--c);for(o=0,l="";o<c;o++)l+=xh.charAt(d[o]);if(w){if(c>1)if(e==16||e==8){for(o=e==16?4:3,--c;c%o;c++)l+="0";for(d=Jl(l,i,e),c=d.length;!d[c-1];--c);for(o=1,l="1.";o<c;o++)l+=xh.charAt(d[o])}else l=l.charAt(0)+"."+l.slice(1);l=l+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)l="0"+l;l="0."+l}else if(++s>c)for(s-=c;s--;)l+="0";else s<c&&(l=l.slice(0,s)+"."+l.slice(s))}l=(e==16?"0x":e==2?"0b":e==8?"0o":"")+l}return t.s<0?"-"+l:l}function t1(t,e){if(t.length>e)return t.length=e,!0}function nk(t){return new this(t).abs()}function rk(t){return new this(t).acos()}function ik(t){return new this(t).acosh()}function sk(t,e){return new this(t).plus(e)}function ok(t){return new this(t).asin()}function ak(t){return new this(t).asinh()}function ck(t){return new this(t).atan()}function uk(t){return new this(t).atanh()}function lk(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,s=r+4;return!t.s||!e.s?n=new this(NaN):!t.d&&!e.d?(n=Ci(this,s,1).times(e.s>0?.25:.75),n.s=t.s):!e.d||t.isZero()?(n=e.s<0?Ci(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=Ci(this,s,1).times(.5),n.s=t.s):e.s<0?(this.precision=s,this.rounding=1,n=this.atan(fn(t,e,s,1)),e=Ci(this,s,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(fn(t,e,s,1)),n}function dk(t){return new this(t).cbrt()}function fk(t){return Ve(t=new this(t),t.e+1,2)}function hk(t,e,n){return new this(t).clamp(e,n)}function pk(t){if(!t||typeof t!="object")throw Error(Vf+"Object expected");var e,n,r,i=t.defaults===!0,s=["precision",1,io,"rounding",0,8,"toExpNeg",-ya,0,"toExpPos",0,ya,"maxE",0,ya,"minE",-ya,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(n=s[e],i&&(this[n]=Sh[n]),(r=t[n])!==void 0)if(Tr(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(Ys+n+": "+r);if(n="crypto",i&&(this[n]=Sh[n]),(r=t[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Zb);else this[n]=!1;else throw Error(Ys+n+": "+r);return this}function gk(t){return new this(t).cos()}function yk(t){return new this(t).cosh()}function i2(t){var e,n,r;function i(s){var o,a,c,u=this;if(!(u instanceof i))return new i(s);if(u.constructor=i,n1(s)){u.s=s.s,at?!s.d||s.e>i.maxE?(u.e=NaN,u.d=null):s.e<i.minE?(u.e=0,u.d=[0]):(u.e=s.e,u.d=s.d.slice()):(u.e=s.e,u.d=s.d?s.d.slice():s.d);return}if(c=typeof s,c==="number"){if(s===0){u.s=1/s<0?-1:1,u.e=0,u.d=[0];return}if(s<0?(s=-s,u.s=-1):u.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;at?o>i.maxE?(u.e=NaN,u.d=null):o<i.minE?(u.e=0,u.d=[0]):(u.e=o,u.d=[s]):(u.e=o,u.d=[s]);return}else if(s*0!==0){s||(u.s=NaN),u.e=NaN,u.d=null;return}return Eh(u,s.toString())}else if(c!=="string")throw Error(Ys+s);return(a=s.charCodeAt(0))===45?(s=s.slice(1),u.s=-1):(a===43&&(s=s.slice(1)),u.s=1),Yb.test(s)?Eh(u,s):ek(u,s)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=pk,i.clone=i2,i.isDecimal=n1,i.abs=nk,i.acos=rk,i.acosh=ik,i.add=sk,i.asin=ok,i.asinh=ak,i.atan=ck,i.atanh=uk,i.atan2=lk,i.cbrt=dk,i.ceil=fk,i.clamp=hk,i.cos=gk,i.cosh=yk,i.div=mk,i.exp=wk,i.floor=_k,i.hypot=bk,i.ln=vk,i.log=xk,i.log10=Tk,i.log2=Sk,i.max=Ak,i.min=Ek,i.mod=kk,i.mul=Bk,i.pow=Ik,i.random=Rk,i.round=$k,i.sign=Pk,i.sin=Ck,i.sinh=Ok,i.sqrt=Uk,i.sub=Mk,i.sum=Nk,i.tan=qk,i.tanh=Dk,i.trunc=Lk,t===void 0&&(t={}),t&&t.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mk(t,e){return new this(t).div(e)}function wk(t){return new this(t).exp()}function _k(t){return Ve(t=new this(t),t.e+1,3)}function bk(){var t,e,n=new this(0);for(at=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return at=!0,new this(1/0);n=e}return at=!0,n.sqrt()}function n1(t){return t instanceof Ge||t&&t.toStringTag===Jb||!1}function vk(t){return new this(t).ln()}function xk(t,e){return new this(t).log(e)}function Sk(t){return new this(t).log(2)}function Tk(t){return new this(t).log(10)}function Ak(){return t2(this,arguments,"lt")}function Ek(){return t2(this,arguments,"gt")}function kk(t,e){return new this(t).mod(e)}function Bk(t,e){return new this(t).mul(e)}function Ik(t,e){return new this(t).pow(e)}function Rk(t){var e,n,r,i,s=0,o=new this(1),a=[];if(t===void 0?t=this.precision:Nr(t,1,io),r=Math.ceil(t/Ye),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));s<r;)i=e[s],i>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);s<r;)i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((e[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(i%1e7),s+=4);s=r/4}else throw Error(Zb);else for(;s<r;)a[s++]=Math.random()*1e7|0;for(r=a[--s],t%=Ye,r&&t&&(i=Fn(10,Ye-t),a[s]=(r/i|0)*i);a[s]===0;s--)a.pop();if(s<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=Ye)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<Ye&&(n-=Ye-r)}return o.e=n,o.d=a,o}function $k(t){return Ve(t=new this(t),t.e+1,this.rounding)}function Pk(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function Ck(t){return new this(t).sin()}function Ok(t){return new this(t).sinh()}function Uk(t){return new this(t).sqrt()}function Mk(t,e){return new this(t).sub(e)}function Nk(){var t=0,e=arguments,n=new this(e[t]);for(at=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return at=!0,Ve(n,this.precision,this.rounding)}function qk(t){return new this(t).tan()}function Dk(t){return new this(t).tanh()}function Lk(t){return Ve(t=new this(t),t.e+1,1)}we[Symbol.for("nodejs.util.inspect.custom")]=we.toString;we[Symbol.toStringTag]="Decimal";var Ge=we.constructor=i2(Sh);md=new Ge(md);wd=new Ge(wd);var Hk=!0,j0="Invariant failed";function Yl(t,e){if(!t){if(Hk)throw new Error(j0);var n=typeof e=="function"?e():e,r=n?"".concat(j0,": ").concat(n):j0;throw new Error(r)}}const s2="3.7.5",jk=s2,zk=typeof atob=="function",Fk=typeof btoa=="function",kc=typeof Buffer=="function",r1=typeof TextDecoder=="function"?new TextDecoder:void 0,i1=typeof TextEncoder=="function"?new TextEncoder:void 0,Gk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Gc=Array.prototype.slice.call(Gk),gl=(t=>{let e={};return t.forEach((n,r)=>e[n]=r),e})(Gc),Vk=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,sr=String.fromCharCode.bind(String),s1=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),o2=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),a2=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),c2=t=>{let e,n,r,i,s="";const o=t.length%3;for(let a=0;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|i,s+=Gc[e>>18&63]+Gc[e>>12&63]+Gc[e>>6&63]+Gc[e&63]}return o?s.slice(0,o-3)+"===".substring(o):s},og=Fk?t=>btoa(t):kc?t=>Buffer.from(t,"binary").toString("base64"):c2,kh=kc?t=>Buffer.from(t).toString("base64"):t=>{let n=[];for(let r=0,i=t.length;r<i;r+=4096)n.push(sr.apply(null,t.subarray(r,r+4096)));return og(n.join(""))},Ql=(t,e=!1)=>e?o2(kh(t)):kh(t),Wk=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?sr(192|e>>>6)+sr(128|e&63):sr(224|e>>>12&15)+sr(128|e>>>6&63)+sr(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return sr(240|e>>>18&7)+sr(128|e>>>12&63)+sr(128|e>>>6&63)+sr(128|e&63)}},Kk=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,u2=t=>t.replace(Kk,Wk),o1=kc?t=>Buffer.from(t,"utf8").toString("base64"):i1?t=>kh(i1.encode(t)):t=>og(u2(t)),Ca=(t,e=!1)=>e?o2(o1(t)):o1(t),a1=t=>Ca(t,!0),Xk=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Zk=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return sr((n>>>10)+55296)+sr((n&1023)+56320);case 3:return sr((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return sr((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},l2=t=>t.replace(Xk,Zk),d2=t=>{if(t=t.replace(/\s+/g,""),!Vk.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n="",r,i;for(let s=0;s<t.length;)e=gl[t.charAt(s++)]<<18|gl[t.charAt(s++)]<<12|(r=gl[t.charAt(s++)])<<6|(i=gl[t.charAt(s++)]),n+=r===64?sr(e>>16&255):i===64?sr(e>>16&255,e>>8&255):sr(e>>16&255,e>>8&255,e&255);return n},ag=zk?t=>atob(a2(t)):kc?t=>Buffer.from(t,"base64").toString("binary"):d2,f2=kc?t=>s1(Buffer.from(t,"base64")):t=>s1(ag(t).split("").map(e=>e.charCodeAt(0))),h2=t=>f2(p2(t)),Jk=kc?t=>Buffer.from(t,"base64").toString("utf8"):r1?t=>r1.decode(f2(t)):t=>l2(ag(t)),p2=t=>a2(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),Bh=t=>Jk(p2(t)),Yk=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},g2=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),y2=function(){const t=(e,n)=>Object.defineProperty(String.prototype,e,g2(n));t("fromBase64",function(){return Bh(this)}),t("toBase64",function(e){return Ca(this,e)}),t("toBase64URI",function(){return Ca(this,!0)}),t("toBase64URL",function(){return Ca(this,!0)}),t("toUint8Array",function(){return h2(this)})},m2=function(){const t=(e,n)=>Object.defineProperty(Uint8Array.prototype,e,g2(n));t("toBase64",function(e){return Ql(this,e)}),t("toBase64URI",function(){return Ql(this,!0)}),t("toBase64URL",function(){return Ql(this,!0)})},Qk=()=>{y2(),m2()},Ih={version:s2,VERSION:jk,atob:ag,atobPolyfill:d2,btoa:og,btoaPolyfill:c2,fromBase64:Bh,toBase64:Ca,encode:Ca,encodeURI:a1,encodeURL:a1,utob:u2,btou:l2,decode:Bh,isValid:Yk,fromUint8Array:Ql,toUint8Array:h2,extendString:y2,extendUint8Array:m2,extendBuiltins:Qk};var Ns;(function(t){t[t.EQUAL=0]="EQUAL",t[t.GREATER=1]="GREATER",t[t.LESS=-1]="LESS"})(Ns||(Ns={}));var eB=function(){function t(e){this.compare=e||t.defaultCompareFunction}return t.defaultCompareFunction=function(e,n){return e===n?Ns.EQUAL:e<n?Ns.LESS:Ns.GREATER},t.prototype.equal=function(e,n){return this.compare(e,n)===Ns.EQUAL},t.prototype.lessThan=function(e,n){return this.compare(e,n)===Ns.LESS},t.prototype.greaterThan=function(e,n){return this.compare(e,n)===Ns.GREATER},t.prototype.lessThanOrEqual=function(e,n){return this.lessThan(e,n)||this.equal(e,n)},t.prototype.greaterThanOrEqual=function(e,n){return this.greaterThan(e,n)||this.equal(e,n)},t.prototype.reverse=function(){var e=this.compare;this.compare=function(n,r){return e(r,n)}},t}(),c1=function(){function t(e){this.value=e,this.next=null}return t}(),u1=function(){function t(e){this.value=e,this.next=null,this.prev=null}return t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Rh=function(t,e){return Rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Rh(t,e)};function Bc(t,e){Rh(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function yu(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function tB(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Mi(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tB(arguments[e]));return t}var nB="obfuse error occur";function bd(t,e){if(!t)throw new Error("[linked-list] "+(e||nB))}var rB=-1,w2=function(){function t(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._head=null,this._tail=null,this._length=0,this.compare=new eB,n.length>0&&n.forEach(function(i){e.append(i)})}return Object.defineProperty(t.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loopLength",{get:function(){var e=!1,n=1;if(!this._head)return 0;for(var r=this._head,i=this._head;i.next&&i.next.next;)if(i=i.next.next,r=r.next,r===i){e=!0;break}if(e){for(i=i.next;r!==i;)n++,i=i.next;return n}else return 0},enumerable:!0,configurable:!0}),t.prototype.getNode=function(e){var n=this._length;bd(n>0&&e>=0&&e<n,"[linked-list] index "+e+" out of scope of list, which length is "+n);for(var r=this._head,i=0;i<e;)r=r.next,i++;return r},t.prototype.get=function(e){var n=this.getNode(e);return n?n.value:null},t.prototype.find=function(e){var n=e.value,r=e.callback;if(!this._head)return null;for(var i=this._head;i;){if(r&&r(i.value)||n!==void 0&&this.compare.equal(i.value,n))return i;i=i.next}return null},t.prototype.indexOf=function(e){if(!this._head)return rB;for(var n=this._head,r=-1;n.next;){if(r++,this.compare.equal(n.value,e))return r;n=n.next}return n===this._tail&&this.compare.equal(n.value,e)&&(r+=1),r},t.prototype.first=function(e){bd(e>=0,"[linked-list] param 'num' ("+e+") should not less than 0");for(var n=this.iterator(),r=[],i=Math.min(e,this.length),s=0;s<i;s++){var o=n.next();r.push(o.value)}return r},t.prototype.toArray=function(){return Mi(this)},t.prototype.isEmpty=function(){return this._head===null},t.prototype.iterator=function(){var e;return yu(this,function(n){switch(n.label){case 0:e=this._head,n.label=1;case 1:return e?[4,e.value]:[3,3];case 2:return n.sent(),e=e.next,[3,1];case 3:return[2]}})},t.prototype[Symbol.iterator]=function(){return this.iterator()},t}(),mu=function(t){Bc(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(this,Mi(n))||this}return e.prototype.append=function(n){var r=new c1(n);return this._tail?(this._tail.next=r,this._tail=r):this._head=this._tail=r,this._length++,!0},e.prototype.prepend=function(n){var r=new c1(n);return this._head?(r.next=this._head,this._head=r):this._head=this._tail=r,this._length++,!0},e.prototype.remove=function(n){var r=this._head;if(r){if(this.compare.equal(r.value,n))return r.next?(this._head=r.next,r.next=null):this._head=this._tail=null,this._length--,n;for(var i=r;;){if(this.compare.equal(r.value,n))return r.next?i.next=r.next:(this._tail=i,this._tail.next=null),r.next=null,this._length--,n;if(r.next)i=r,r=r.next;else return}}},e.prototype.removeHead=function(){var n=this._head;if(n)return this._head.next?(this._head=n.next,n.next=null):(this._head=null,this._tail=null),this._length--,n.value},e.prototype.removeTail=function(){var n=this._tail;if(n){if(!this._head.next)this._head=null,this._tail=null;else{for(var r=this._head;r.next!==n;)r=r.next;r.next=null,this._tail=r}return this._length--,n.value}},e.prototype.reverse=function(){if(this._head){var n=this._head,r=null,i;for(this._tail=this._head;n!==null;)i=n.next,n.next=r,r=n,n=i;this._head=r}},e.prototype.clone=function(){var n=this.toArray();return new(e.bind.apply(e,Mi([void 0],n)))},e}(w2),iB=function(t){Bc(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,Mi(n))||this;return i.cyclization(),i}return e.prototype.iterator=function(){var n;return yu(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,n===this._head&&(n=null),[3,1];case 3:return[2]}})},e.prototype.circleIterator=function(){var n;return yu(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,[3,1];case 3:return[2]}})},e.prototype[Symbol.iterator]=function(){return this.iterator()},e.prototype.mapToNormalListFn=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.breakCircle();var s=t.prototype[n].apply(this,r);return this.cyclization(),s},e.prototype.getNode=function(n){return this.mapToNormalListFn("getNode",n)},e.prototype.append=function(n){return this.mapToNormalListFn("append",n)},e.prototype.prepend=function(n){return this.mapToNormalListFn("prepend",n)},e.prototype.find=function(n){return this.mapToNormalListFn("find",n)},e.prototype.indexOf=function(n){return this.mapToNormalListFn("indexOf",n)},e.prototype.remove=function(n){return this.mapToNormalListFn("remove",n)},e.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},e.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},e.prototype.first=function(n){bd(n>=0,"[linked-list] param 'num' ("+n+") should not less than 0");for(var r=this.circleIterator(),i=[],s=0;s<n;s++){var o=r.next();i.push(o.value)}return i},e.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},e.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},e}(mu);(function(t){Bc(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,Mi(n))||this;return i.cyclization(),i}return e.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},e.prototype.cyclization=function(){this._tail&&this._tail.next===null&&(this._tail.next=this._head)},e.prototype.clone=function(){var n=this.toArray();return new(e.bind.apply(e,Mi([void 0],n)))},e})(iB);var sB=function(t){Bc(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(this,Mi(n))||this}return e.prototype.append=function(n){var r=new u1(n);return this._tail?(this._tail.next=r,r.prev=this._tail,this._tail=r):this._head=this._tail=r,this._length++,!0},e.prototype.prepend=function(n){var r=new u1(n);return this._head?(r.next=this._head,this._head.prev=r,this._head=r):this._head=this._tail=r,this._length++,!0},e.prototype.remove=function(n){var r=this._head;if(r){if(this.compare.equal(r.value,n))return r.next?(this._head=r.next,this._head.prev=null,r.next=r.prev=null):this._head=this._tail=null,this._length--,n;for(;;){if(this.compare.equal(r.value,n))return r.next?(r.prev.next=r.next,r.next.prev=r.prev,r.next=r.prev=null):(r.prev.next=null,this._tail=r.prev,r.next=r.prev=null),this._length--,r.value;if(r.next)r=r.next;else return}}},e.prototype.removeHead=function(){var n=this._head;if(n)return this._head.next?(n.next.prev=null,this._head=n.next,n.next=null):(this._head=null,this._tail=null),this._length--,n.value},e.prototype.removeTail=function(){var n=this._tail;if(n)return this._head.next?(n.prev.next=null,this._tail=n.prev,n.next=n.prev=null):(this._head=null,this._tail=null),this._length--,n.value},e.prototype.reverse=function(){if(this._head){var n=this._head,r=null,i;for(this._tail=this._head;n!==null;)i=n.next,n.next=r,n.prev=i,r=n,n=i;this._head=r}},e.prototype.clone=function(){var n=this.toArray();return new(e.bind.apply(e,Mi([void 0],n)))},e}(w2),oB=function(t){Bc(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,Mi(n))||this;return i.cyclization(),i}return e.prototype.iterator=function(){var n;return yu(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,n===this._head&&(n=null),[3,1];case 3:return[2]}})},e.prototype.circleIterator=function(){var n;return yu(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,[3,1];case 3:return[2]}})},e.prototype[Symbol.iterator]=function(){return this.iterator()},e.prototype.mapToNormalListFn=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.breakCircle();var s=t.prototype[n].apply(this,r);return this.cyclization(),s},e.prototype.getNode=function(n){return this.mapToNormalListFn("getNode",n)},e.prototype.append=function(n){return this.mapToNormalListFn("append",n)},e.prototype.prepend=function(n){return this.mapToNormalListFn("prepend",n)},e.prototype.find=function(n){return this.mapToNormalListFn("find",n)},e.prototype.indexOf=function(n){return this.mapToNormalListFn("indexOf",n)},e.prototype.remove=function(n){return this.mapToNormalListFn("remove",n)},e.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},e.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},e.prototype.first=function(n){bd(n>=0,"[linked-list] param 'num' ("+n+") should not less than 0");for(var r=this.circleIterator(),i=[],s=0;s<n;s++){var o=r.next();i.push(o.value)}return i},e.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},e.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},e}(sB);(function(t){Bc(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,Mi(n))||this;return i.cyclization(),i}return e.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},e.prototype.cyclization=function(){this._head&&this._tail&&this._tail.next===null&&(this._tail.next=this._head,this._head.prev=this._tail)},e.prototype.clone=function(){var n=this.toArray();return new(e.bind.apply(e,Mi([void 0],n)))},e})(oB);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function aB(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function cB(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(aB(arguments[e]));return t}var uB=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.queue=new(mu.bind.apply(mu,cB([void 0],e)))}return Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return this.queue.isEmpty()},t.prototype.enqueue=function(e){return this.queue.append(e)},t.prototype.dequeue=function(){var e=this.queue.removeHead();return typeof e<"u"?e:void 0},t.prototype.toArray=function(){return this.queue.toArray()},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function lB(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function dB(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(lB(arguments[e]));return t}var z0=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.stack=new(mu.bind.apply(mu,dB([void 0],e)))}return Object.defineProperty(t.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return this.stack.isEmpty()},t.prototype.push=function(e){return this.stack.append(e)},t.prototype.pop=function(){var e=this.stack.removeTail();return typeof e<"u"?e:void 0},t.prototype.popBottom=function(){var e=this.stack.removeHead();return typeof e<"u"?e:void 0},t.prototype.toArray=function(){return this.stack.toArray()},t}(),_2=function(){function t(e,n,r){r===void 0&&(r=0),this.startVertex=e,this.endVertex=n,this.weight=r}return t.prototype.getKey=function(){var e=this.startVertex.getKey(),n=this.endVertex.getKey();return e+"_"+n},t.prototype.reverse=function(){var e=this.startVertex;return this.startVertex=this.endVertex,this.endVertex=e,this},t.prototype.clone=function(){return new t(this.startVertex,this.endVertex,this.weight)},t.prototype.toString=function(){return this.getKey()},t}();function $h(t,e,n){if(n===void 0&&(n="ss-graph"),!t)throw new Error((n?"["+n+"]":"")+" Invariant failed: "+e)}function fB(t,e){e===void 0&&(e=!0);var n=typeof t<"u"&&t!==null;return e?n&&t!=="undefined"&&t!=="null":n}var vd=function(){function t(e){$h(fB(e),"Graph vertex must have a value"),this.value=e,this.edges=new Map}return t.prototype.addEdge=function(e){return this.edges.set(e.getKey(),e),this},t.prototype.deleteEdge=function(e){this.edges.delete(e.getKey())},t.prototype.getNeighbors=function(){var e=this,n=this.getEdges(),r=function(i){return i.startVertex===e?i.endVertex:i.startVertex};return n.map(r)},t.prototype.getEdges=function(){return Array.from(this.edges.values())},t.prototype.getDegree=function(){return this.getEdges().length},t.prototype.hasEdge=function(e){var n=this.getEdges().find(function(r){return r===e});return!!n},t.prototype.hasNeighbor=function(e){var n=this.getEdges().find(function(r){return r.startVertex===e||r.endVertex===e});return!!n},t.prototype.findEdge=function(e){var n=function(i){return i.startVertex===e||i.endVertex===e},r=this.getEdges().find(n);return r||null},t.prototype.getKey=function(){return this.value},t.prototype.deleteAllEdges=function(){var e=this;return this.getEdges().forEach(function(n){return e.deleteEdge(n)}),this},t.prototype.toString=function(e){return e?e(this.value):""+this.value},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function F0(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function l1(t,e,n,r){if(t){e.push(t),r.set(t.getKey(),!0);var i=t.getNeighbors().filter(function(s){return!r.get(s.getKey())});n.push(i)}}function d1(t,e,n){var r=t.pop();r&&n.set(r.getKey(),!1),e.pop()}var b2=function(){function t(e){e===void 0&&(e=!1),this.vertices={},this.edges={},this.isDirected=e}return t.prototype.addVertex=function(e){return this.vertices[e.getKey()]=e,this},t.prototype.getVertexByKey=function(e){return this.vertices[e]},t.prototype.getNeighbors=function(e){return e.getNeighbors()},t.prototype.getAllVertices=function(){return Object.values(this.vertices)},t.prototype.getAllEdges=function(){return Object.values(this.edges)},t.prototype.addEdge=function(e,n){if(n===void 0&&(n=!1),this.edges[e.getKey()]){if(n)return this;$h(!1,"Edge has already been added before")}var r=this.getVertexByKey(e.startVertex.getKey()),i=this.getVertexByKey(e.endVertex.getKey());if(r||(this.addVertex(e.startVertex),r=this.getVertexByKey(e.startVertex.getKey())),i||(this.addVertex(e.endVertex),i=this.getVertexByKey(e.endVertex.getKey())),this.edges[e.getKey()]=e,this.isDirected)r.addEdge(e);else{r.addEdge(e);var s=e.clone();i.addEdge(s.reverse())}return this},t.prototype.deleteEdge=function(e,n){if(n===void 0&&(n=!1),!this.edges[e.getKey()]){if(n)return this;$h(!1,"Edge not found in graph")}delete this.edges[e.getKey()];var r=this.getVertexByKey(e.startVertex.getKey()),i=this.getVertexByKey(e.endVertex.getKey());return r.deleteEdge(e),i.deleteEdge(e),this},t.prototype.findEdge=function(e,n){var r=this.getVertexByKey(e.getKey());return r?r.findEdge(n):null},t.prototype.getWeight=function(){return this.getAllEdges().reduce(function(e,n){return e+n.weight},0)},t.prototype.reverse=function(){var e=this;return this.getAllEdges().forEach(function(n){e.deleteEdge(n),n.reverse(),e.addEdge(n)}),this},t.prototype.getVerticesIndices=function(){var e={};return this.getAllVertices().forEach(function(n,r){e[n.getKey()]=r}),e},t.prototype.getAdjacencyMatrix=function(){var e=this,n=this.getAllVertices(),r=this.getVerticesIndices(),i=Array(n.length).fill(null).map(function(){return Array(n.length).fill(1/0)});return n.forEach(function(s,o){s.getNeighbors().forEach(function(a){var c=r[a.getKey()],u=e.findEdge(s,a);u&&(i[o][c]=u.weight)})}),i},t.prototype.toString=function(){return Object.keys(this.vertices).toString()},t.prototype.bfs=function(e){var n,r,i;return F0(this,function(s){switch(s.label){case 0:n=new Map,r=new uB,r.enqueue(e),s.label=1;case 1:return r.isEmpty()?[3,4]:(i=r.dequeue(),i&&!n.has(i.getKey())?[4,i]:[3,3]);case 2:s.sent(),n.set(i.getKey(),i),i.getNeighbors().forEach(function(o){return r.enqueue(o)}),s.label=3;case 3:return[3,1];case 4:return[2]}})},t.prototype.dfs=function(e){var n,r,i;return F0(this,function(s){switch(s.label){case 0:n=new Map,r=new z0,r.push(e),s.label=1;case 1:return r.isEmpty()?[3,4]:(i=r.pop(),i&&!n.has(i.getKey())?[4,i]:[3,3]);case 2:s.sent(),n.set(i.getKey(),i),i.getNeighbors().forEach(function(o){return r.push(o)}),s.label=3;case 3:return[3,1];case 4:return[2]}})},t.prototype.findAllPath=function(e,n){var r,i,s,o,a,c,u;return F0(this,function(l){switch(l.label){case 0:return r=[],e!==n?[3,2]:(r.push(e),[4,r]);case 1:return l.sent(),[2];case 2:i=new Map,s=new z0,o=new z0,l1(e,s,o,i),l.label=3;case 3:if(s.isEmpty())return[3,6];if(a=o.pop(),a&&a.length)c=a.shift(),o.push(a),c&&l1(c,s,o,i);else return o.push(a),d1(s,o,i),[3,3];u=s.peek;debugger;return u!==n?[3,5]:[4,s.toArray()];case 4:l.sent(),d1(s,o,i),l.label=5;case 5:return[3,3];case 6:return[2]}})},t}();Ge.config({precision:64,rounding:Ge.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var Br=Ge,ir=class extends Error{constructor(e,n){super(e),this.message=e,this.errorCode=n}static isClmmpoolsErrorCode(e,n){return e instanceof ir&&e.errorCode===n}},Ne=new R(0),Xs=new R(1),Xf=new R(2);Xf.pow(new R(128));var wu=Xf.pow(new R(64)).sub(Xs),hB=Xf.pow(new R(128)).sub(Xs),st=class{static toX64_BN(e){return e.mul(new R(2).pow(new R(64)))}static toX64_Decimal(e){return e.mul(Br.pow(2,64))}static toX64(e){return new R(e.mul(Br.pow(2,64)).floor().toFixed())}static fromX64(e){return new Br(e.toString()).mul(Br.pow(2,-64))}static fromX64_Decimal(e){return e.mul(Br.pow(2,-64))}static fromX64_BN(e){return e.div(new R(2).pow(new R(64)))}static shiftRightRoundUp(e){let n=e.shrn(64);return e.mod(wu).gt(Ne)&&(n=n.add(Xs)),n}static divRoundUp(e,n){return e.mod(n).eq(Ne)?e.div(n):e.div(n).add(new R(1))}static subUnderflowU128(e,n){return e.lt(n)?e.sub(n).add(hB):e.sub(n)}static checkUnsignedSub(e,n){const r=e.sub(n);if(r.isNeg())throw new ir("Unsigned integer sub overflow","UnsignedIntegerOverflow");return r}static checkMul(e,n,r){const i=e.mul(n);if(this.isOverflow(i,r))throw new ir("Multiplication overflow","MultiplicationOverflow");return i}static checkMulDivFloor(e,n,r,i){if(r.eq(Ne))throw new ir("Devide by zero","DivideByZero");const s=e.mul(n).div(r);if(this.isOverflow(s,i))throw new ir("Multiplication div overflow","MulDivOverflow");return s}static checkMulDivCeil(e,n,r,i){if(r.eq(Ne))throw new ir("Devide by zero","DivideByZero");const s=e.mul(n).add(r.sub(Xs)).div(r);if(this.isOverflow(s,i))throw new ir("Multiplication div overflow","MulDivOverflow");return s}static checkMulDivRound(e,n,r,i){if(r.eq(Ne))throw new ir("Devide by zero","DivideByZero");const s=e.mul(n.add(r.shrn(1))).div(r);if(this.isOverflow(s,i))throw new ir("Multiplication div overflow","MulDivOverflow");return s}static checkMulShiftRight(e,n,r,i){const s=e.mul(n).div(new R(2).pow(new R(r)));if(this.isOverflow(s,i))throw new ir("Multiplication shift right overflow","MulShiftRightOverflow");return s}static checkMulShiftRight64RoundUpIf(e,n,r,i){const s=e.mul(n),a=i&&s.and(wu).gt(Ne)?s.shrn(64).add(Xs):s.shrn(64);if(this.isOverflow(a,r))throw new ir("Multiplication shift right overflow","MulShiftRightOverflow");return a}static checkMulShiftLeft(e,n,r,i){const s=e.mul(n).shln(r);if(this.isOverflow(s,i))throw new ir("Multiplication shift left overflow","MulShiftLeftOverflow");return s}static checkDivRoundUpIf(e,n,r){if(n.eq(Ne))throw new ir("Devide by zero","DivideByZero");return r?this.divRoundUp(e,n):e.div(n)}static isOverflow(e,n){return e.gte(Xf.pow(new R(n)))}};function v2(t){return{coinA:t.coinTypeA.toString(),coinB:t.coinTypeB.toString(),currentSqrtPrice:new R(t.current_sqrt_price),currentTickIndex:t.current_tick_index,feeGrowthGlobalA:new R(t.fee_growth_global_a),feeGrowthGlobalB:new R(t.fee_growth_global_b),feeProtocolCoinA:new R(t.fee_protocol_coin_a),feeProtocolCoinB:new R(t.fee_protocol_coin_b),feeRate:t.fee_rate,liquidity:new R(t.liquidity),tickIndexes:[],tickSpacing:Number(t.tickSpacing),ticks:[],collection_name:t.collectionName}}function pB(t){const e=new R(t);return e.lt(Ne)?{bits:e.neg().xor(new R(2).pow(new R(64)).sub(new R(1))).add(new R(1)).toString()}:{bits:e.toString()}}var x2="0x1::coin::CoinInfo",S2="0x1::coin::CoinStore",f1="0x3::token::TokenStore",gB="0x3::token::WithdrawEvent",yB="PoolLiquidityCoin",So="clmm_router",T2="factory",A2="Pools",mB="pool",wB="Pool",_B="crowdsale",bB="CrowdsalePool",vB="fairlaunch",xB="FairlaunchPool",Hi="cetus_script",E2="cscoin",k2="liquidity",Ph="scripts";function SB(t){return t.startsWith("0x")?`${t.slice(2)}`:t}function Gi(t){let e="";const n=SB(t),r=n.length/2;for(let i=0;i<r;i++)e+=String.fromCharCode(parseInt(n.substr(i*2,2),16));return TB(e)}function TB(t){let e,n,r,i,s,o;for(e="",r=t.length,n=0;n<r;)switch(i=t.charCodeAt(n++),i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(n-1);break;case 12:case 13:s=t.charCodeAt(n++),e+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=t.charCodeAt(n++),o=t.charCodeAt(n++),e+=String.fromCharCode((i&15)<<12|(s&63)<<6|(o&63)<<0);break}return e}var AB=/^0x1::coin::CoinStore<(.+)>$/;function ft(t,...e){const n=Array.isArray(e[e.length-1])?e.pop():[];let i=[t,...e].filter(Boolean).join("::");return n&&n.length&&(i+=`<${n.join(", ")}>`),i}function h1(t){return ft(ht.fromUint8Array(t.value.address.address).hex(),t.value.module_name.value,t.value.name.value,[])}function EB(t){const e=t.value.type_args[0],n=t.value.type_args[1],r=h1(e),i=h1(n),s=ft(ht.fromUint8Array(t.value.address.address).hex(),t.value.module_name.value,t.value.name.value,[r,i]);return{coinA:r,coinB:i,lpAddress:s}}function cg(t){var e;let n=t.replace(/\s/g,"");const r=n.match(/(<.+>)$/),i=(e=r==null?void 0:r[0])==null?void 0:e.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(i)return n=n.slice(0,n.indexOf("<")),{...cg(n),type_arguments:[...i]};const s=n.split("::");return{full_address:n,address:s[0],module:s[1],name:s[2],type_arguments:[]}}function p1(t){const e=t.match(AB);return e?e[1]:""}function kB(t){return`${S2}<${t}>`}function BB(t){return`${x2}<${t}>`}var Zf=class{constructor(e,n=0){this.overdueTime=n,this.value=e}getCacheData(){return this.value===null?null:this.overdueTime===0?this.value:Date.parse(new Date().toString())>this.overdueTime?(this.value=null,null):this.value}},g1=443636,y1=-443636,Jf="79226673515401279992447579055",Yf="4295048016",ma=new R(1e6),xd=class{static getDefaultSqrtPriceLimit(e){return new R(e?Yf:Jf)}static getDefaultOtherAmountThreshold(e){return e?Ne:wu}},Sd=class{constructor(t,e){this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=t,this.denominator=e}static fromDecimal(t){return Sd.fromFraction(t.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(t,e){const n=typeof t=="number"?new R(t.toString()):t,r=typeof e=="number"?new R(e.toString()):e;return new Sd(n,r)}},IB=14,RB="59543866431248",$B="184467440737095516",PB="15793534762490258745";function CB(t,e,n){const r=t.toTwos(n).shln(e);return r.imaskn(n+1),r.fromTwos(n)}function It(t,e,n){const r=t.toTwos(n).shrn(e);return r.imaskn(n-e+1),r.fromTwos(n-e)}function OB(t){let e;return t&1?e=new R("79232123823359799118286999567"):e=new R("79228162514264337593543950336"),t&2&&(e=It(e.mul(new R("79236085330515764027303304731")),96,256)),t&4&&(e=It(e.mul(new R("79244008939048815603706035061")),96,256)),t&8&&(e=It(e.mul(new R("79259858533276714757314932305")),96,256)),t&16&&(e=It(e.mul(new R("79291567232598584799939703904")),96,256)),t&32&&(e=It(e.mul(new R("79355022692464371645785046466")),96,256)),t&64&&(e=It(e.mul(new R("79482085999252804386437311141")),96,256)),t&128&&(e=It(e.mul(new R("79736823300114093921829183326")),96,256)),t&256&&(e=It(e.mul(new R("80248749790819932309965073892")),96,256)),t&512&&(e=It(e.mul(new R("81282483887344747381513967011")),96,256)),t&1024&&(e=It(e.mul(new R("83390072131320151908154831281")),96,256)),t&2048&&(e=It(e.mul(new R("87770609709833776024991924138")),96,256)),t&4096&&(e=It(e.mul(new R("97234110755111693312479820773")),96,256)),t&8192&&(e=It(e.mul(new R("119332217159966728226237229890")),96,256)),t&16384&&(e=It(e.mul(new R("179736315981702064433883588727")),96,256)),t&32768&&(e=It(e.mul(new R("407748233172238350107850275304")),96,256)),t&65536&&(e=It(e.mul(new R("2098478828474011932436660412517")),96,256)),t&131072&&(e=It(e.mul(new R("55581415166113811149459800483533")),96,256)),t&262144&&(e=It(e.mul(new R("38992368544603139932233054999993551")),96,256)),It(e,32,256)}function UB(t){const e=Math.abs(t);let n;return e&1?n=new R("18445821805675392311"):n=new R("18446744073709551616"),e&2&&(n=It(n.mul(new R("18444899583751176498")),64,256)),e&4&&(n=It(n.mul(new R("18443055278223354162")),64,256)),e&8&&(n=It(n.mul(new R("18439367220385604838")),64,256)),e&16&&(n=It(n.mul(new R("18431993317065449817")),64,256)),e&32&&(n=It(n.mul(new R("18417254355718160513")),64,256)),e&64&&(n=It(n.mul(new R("18387811781193591352")),64,256)),e&128&&(n=It(n.mul(new R("18329067761203520168")),64,256)),e&256&&(n=It(n.mul(new R("18212142134806087854")),64,256)),e&512&&(n=It(n.mul(new R("17980523815641551639")),64,256)),e&1024&&(n=It(n.mul(new R("17526086738831147013")),64,256)),e&2048&&(n=It(n.mul(new R("16651378430235024244")),64,256)),e&4096&&(n=It(n.mul(new R("15030750278693429944")),64,256)),e&8192&&(n=It(n.mul(new R("12247334978882834399")),64,256)),e&16384&&(n=It(n.mul(new R("8131365268884726200")),64,256)),e&32768&&(n=It(n.mul(new R("3584323654723342297")),64,256)),e&65536&&(n=It(n.mul(new R("696457651847595233")),64,256)),e&131072&&(n=It(n.mul(new R("26294789957452057")),64,256)),e&262144&&(n=It(n.mul(new R("37481735321082")),64,256)),n}var Ot=class{static priceToSqrtPriceX64(e,n,r){return st.toX64(e.mul(Br.pow(10,r-n)).sqrt())}static sqrtPriceX64ToPrice(e,n,r){return st.fromX64(e).pow(2).mul(Br.pow(10,n-r))}static tickIndexToSqrtPriceX64(e){return e>0?new R(OB(e)):new R(UB(e))}static sqrtPriceX64ToTickIndex(e){if(e.gt(new R(Jf))||e.lt(new R(Yf)))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");const n=e.bitLength()-1,r=new R(n-64),i=CB(r,32,128);let s=new R("8000000000000000","hex"),o=0,a=new R(0),c=n>=64?e.shrn(n-63):e.shln(63-n);for(;s.gt(new R(0))&&o<IB;){c=c.mul(c);const m=c.shrn(127);c=c.shrn(63+m.toNumber()),a=a.add(s.mul(m)),s=s.shrn(1),o+=1}const u=a.shrn(32),d=i.add(u).mul(new R(RB)),f=It(d.sub(new R($B)),64,128).toNumber(),p=It(d.add(new R(PB)),64,128).toNumber();return f===p?f:Ot.tickIndexToSqrtPriceX64(p).lte(e)?p:f}static tickIndexToPrice(e,n,r){return Ot.sqrtPriceX64ToPrice(Ot.tickIndexToSqrtPriceX64(e),n,r)}static priceToTickIndex(e,n,r){return Ot.sqrtPriceX64ToTickIndex(Ot.priceToSqrtPriceX64(e,n,r))}static priceToInitializableTickIndex(e,n,r,i){return Ot.getInitializableTickIndex(Ot.priceToTickIndex(e,n,r),i)}static getInitializableTickIndex(e,n){return e-e%n}static getNextInitializableTickIndex(e,n){return Ot.getInitializableTickIndex(e,n)+n}static getPrevInitializableTickIndex(e,n){return Ot.getInitializableTickIndex(e,n)-n}};function B2(t){const e=[];for(const n of t){const r={index:Number(BigInt.asIntN(64,BigInt(n.index.bits)).toString()),sqrtPrice:new R(n.sqrt_price),liquidityNet:new R(BigInt.asIntN(64,BigInt(n.liquidity_net.bits)).toString()),liquidityGross:new R(n.liquidity_gross),feeGrowthOutsideA:new R(n.fee_growth_outside_a),feeGrowthOutsideB:new R(n.fee_growth_outside_b),rewardersGrowthOutside:[new R(n.rewarders_growth_outside[0]),new R(n.rewarders_growth_outside[1]),new R(n.rewarders_growth_outside[2])]};e.push(r)}return e}function MB(t,e,n,r){const i=t.gt(e)?t.sub(e):e.sub(t),s=n.mul(i).shln(64),o=t.mul(e),a=s.div(o),c=s.mod(o);return r&&!c.eq(Ne)?a.add(new R(1)):a}function I2(t,e,n,r){if(n.eq(Ne))return t;const i=st.checkMulShiftLeft(t,e,64,256),s=e.shln(64),o=st.checkMul(t,n,256);if(!r&&s.lte(o))throw new ir("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product","DivideByZero");const a=r?st.checkDivRoundUpIf(i,s.add(o),!0):st.checkDivRoundUpIf(i,s.sub(o),!0);if(a.lt(new R(Yf)))throw new ir("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price","CoinAmountMinSubceeded ");if(a.gt(new R(Jf)))throw new ir("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price","CoinAmountMaxExceeded");return a}function R2(t,e,n,r){const i=st.checkDivRoundUpIf(n.shln(64),e,!r),s=r?t.add(i):t.sub(i);if(s.lt(new R(Yf))||s.gt(new R(Jf)))throw new ir("getNextSqrtPriceAUp - Next sqrt price out of bounds","SqrtPriceOutOfBounds");return s}function NB(t,e,n,r){return r?I2(t,e,n,!0):R2(t,e,n,!0)}function qB(t,e,n,r){return r?R2(t,e,n,!1):I2(t,e,n,!1)}function m1(t,e,n,r){const i=t.gt(e)?t.sub(e):e.sub(t);if(n.lte(Ne)||i.eq(Ne))return Ne;let s;if(r){const o=new R(n).mul(new R(i)).shln(64),a=e.mul(t),c=o.div(a);s=o.mod(a).eq(Ne)?c:c.add(Xs)}else{const o=new R(n).mul(new R(i));s=o.and(wu).gt(Ne)?o.shrn(64).add(Xs):o.shrn(64)}return s}function w1(t,e,n,r){const i=t.gt(e)?t.sub(e):e.sub(t);if(n.lte(Ne)||i.eq(Ne))return Ne;let s;if(r){const o=n.mul(i);s=o.and(wu).gt(Ne)?o.shrn(64).add(Xs):o.shrn(64)}else{const o=n.mul(i).shln(64),a=e.mul(t);s=o.div(a)}return s}function $2(t,e,n,r,i,s){if(n===Ne)return{amountIn:Ne,amountOut:Ne,nextSqrtPrice:e,feeAmount:Ne};const o=t.gte(e);let a,c,u,l;if(s){const d=st.checkMulDivFloor(r,st.checkUnsignedSub(ma,i),ma,64),f=m1(t,e,n,o);f.gt(d)?(a=d,l=st.checkUnsignedSub(r,d),u=NB(t,n,d,o)):(a=f,l=st.checkMulDivCeil(a,i,ma.sub(i),64),u=e),c=w1(t,u,n,o)}else{const d=w1(t,e,n,o);d.gt(r)?(c=r,u=qB(t,n,r,o)):(c=d,u=e),a=m1(t,u,n,o),l=st.checkMulDivCeil(a,i,ma.sub(i),64)}return{amountIn:a,amountOut:c,nextSqrtPrice:u,feeAmount:l}}function DB(t,e,n,r,i){let s=n,o=r.liquidity,{currentSqrtPrice:a}=r;const c={amountIn:Ne,amountOut:Ne,feeAmount:Ne,refAmount:Ne,nextSqrtPrice:Ne,crossTickNum:0};let u,l;const d=xd.getDefaultSqrtPriceLimit(t);for(const f of i){if(t){if(r.currentTickIndex<f.index)continue}else if(r.currentTickIndex>f.index)continue;if(f===null)continue;t&&d.gt(f.sqrtPrice)||!t&&d.lt(f.sqrtPrice)?u=d:u=f.sqrtPrice;const p=$2(a,u,o,s,new R(r.feeRate),e);if(p.amountIn.eq(Ne)||(s=e?s.sub(p.amountIn.add(p.feeAmount)):s.sub(p.amountOut)),c.amountIn=c.amountIn.add(p.amountIn),c.amountOut=c.amountOut.add(p.amountOut),c.feeAmount=c.feeAmount.add(p.feeAmount),p.nextSqrtPrice.eq(f.sqrtPrice)?(l=t?f.liquidityNet.mul(new R(-1)):f.liquidityNet,o=l.gt(Ne)?o.add(l):o.sub(l.abs()),a=f.sqrtPrice):a=p.nextSqrtPrice,c.crossTickNum+=1,s.eq(Ne))break}return c.amountIn=c.amountIn.add(c.feeAmount),c.nextSqrtPrice=a,c}function wa(t,e,n){const r=R.min(t,e),i=R.max(t,e),s=st.fromX64_BN(n.mul(i).mul(r)),o=i.sub(r);return s.div(o)}function _a(t,e,n){const r=R.min(t,e),s=R.max(t,e).sub(r);return n.shln(64).div(s)}var go=class{constructor(){}static getFeeRate(e){return Sd.fromFraction(e,1e6)}static updateFeeRate(e,n,r,i,s){const o=st.checkMulDivCeil(n,new R(i),ma,64),a=r===0?Ne:st.checkMulDivFloor(n,new R(r),ma,64),c=n.mul(o).mul(a);if(s?e.feeProtocolCoinA=e.feeProtocolCoinA.add(o):e.feeProtocolCoinB=e.feeProtocolCoinB.add(o),c.eq(Ne)||e.liquidity.eq(Ne))return{refFee:a,clmm:e};const u=c.shln(64).div(e.liquidity);return s?e.feeGrowthGlobalA=e.feeGrowthGlobalA.add(u):e.feeGrowthGlobalB=e.feeGrowthGlobalB.add(u),{refFee:a,clmm:e}}static getProtocolFeeRate(e){return Sd.fromFraction(e,1e4)}static getCoinAmountFromLiquidity(e,n,r,i,s){const o=new Br(e.toString()),a=new Br(n.toString()),c=new Br(r.toString()),u=new Br(i.toString());let l,d;return n.lt(r)?(l=st.toX64_Decimal(o).mul(u.sub(c)).div(c.mul(u)),d=new Br(0)):n.lt(i)?(l=st.toX64_Decimal(o).mul(u.sub(a)).div(a.mul(u)),d=st.fromX64_Decimal(o.mul(a.sub(c)))):(l=new Br(0),d=st.fromX64_Decimal(o.mul(u.sub(c)))),s?{coinA:new R(l.ceil().toString()),coinB:new R(d.ceil().toString())}:{coinA:new R(l.floor().toString()),coinB:new R(d.floor().toString())}}static estimateLiquidityFromcoinAmounts(e,n,r,i){if(n>r)throw new Error("lower tick cannot be greater than lower tick");const s=Ot.sqrtPriceX64ToTickIndex(e),o=Ot.tickIndexToSqrtPriceX64(n),a=Ot.tickIndexToSqrtPriceX64(r);if(s<n)return wa(o,a,i.coinA);if(s>=r)return _a(a,o,i.coinB);const c=wa(e,a,i.coinA),u=_a(e,o,i.coinB);return R.min(c,u)}static estLiquidityAndcoinAmountFromOneAmounts(e,n,r,i,s,o,a){const c=Ot.sqrtPriceX64ToTickIndex(a),u=Ot.tickIndexToSqrtPriceX64(e),l=Ot.tickIndexToSqrtPriceX64(n);let d;if(c<=e){if(!i)throw new Error("lower tick cannot calculate liquidity by coinB");d=wa(u,l,r)}else if(c>=n){if(i)throw new Error("upper tick cannot calculate liquidity by coinA");d=_a(l,u,r)}else i?d=wa(a,l,r):d=_a(a,u,r);const f=go.getCoinAmountFromLiquidity(d,a,u,l,s),p=f.coinA.mul(new R(1+o)),w=f.coinB.mul(new R(1+o));return{tokenMaxA:p,tokenMaxB:w,liquidityAmount:d}}},LB=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async fetchAccountResource(e,n,r=0){let i=this._cache[e+n];if(i!=null&&i.getCacheData())return i.value;const s=await this.sdk.Resources.fetchAccountResource(e,n);return i=new Zf(s,r),this._cache[e+n]=i,s}calculateRates(e){const{currentPool:n}=e,r=v2(n);let i;e.a2b?i=e.swapTicks.sort((f,p)=>p.index-f.index):i=e.swapTicks.sort((f,p)=>f.index-p.index);const s=DB(e.a2b,e.byAmountIn,e.amount,r,i);let o=!1;e.byAmountIn?o=s.amountIn.lt(e.amount):o=s.amountOut.lt(e.amount);const a=xd.getDefaultSqrtPriceLimit(e.a2b);e.a2b&&s.nextSqrtPrice.lt(a)&&(o=!0),!e.a2b&&s.nextSqrtPrice.gt(a)&&(o=!0);let c=0;s.crossTickNum>6&&s.crossTickNum<40&&(c=22e3*(s.crossTickNum-6)),s.crossTickNum>40&&(o=!0);const u=Ot.sqrtPriceX64ToPrice(r.currentSqrtPrice,e.decimalsA,e.decimalsB).toNumber(),l=Ot.sqrtPriceX64ToPrice(s.nextSqrtPrice,e.decimalsA,e.decimalsB).toNumber(),d=Math.abs(u-l)/u*100;return{estimatedAmountIn:s.amountIn,estimatedAmountOut:s.amountOut,estimatedEndSqrtPrice:s.nextSqrtPrice,estimatedFeeAmount:s.feeAmount,isExceed:o,extraComputeLimit:c,amount:e.amount,aToB:e.a2b,byAmountIn:e.byAmountIn,priceImpactPct:d}}transformSwapData(e){const{modules:n}=this._sdk.sdkOptions.networkOptions,r=e.filter(o=>o.type!=="write_resource"?!1:o.data.type===`${n.ClmmIntegrate}::calculator::CalculatedSwapResult`);return r.length===0?[]:r[0].data.data.data||[]}async preswap(e){const{modules:n,simulationAccount:r}=this.sdk.sdkOptions.networkOptions,i=new en(this.sdk.sdkOptions.rpcUrl),s=`${n.ClmmIntegrate}::scripts`,o="calculate_swap_result",a=[new G.TypeTagStruct(G.StructTag.fromString(e.pool.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.pool.coinTypeB))],c=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool.poolAddress)),ue.bcsSerializeBool(e.a2b),ue.bcsSerializeBool(e.by_amount_in),ue.bcsSerializeUint64(BigInt(e.amount))],u=new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(s,o,a,c)),l=gd(r.address),d=await i.generateRawTransaction(l,u),f=gd(r.pubkey),p=new G.Ed25519PublicKey(f.toUint8Array()),w=await i.simulateTransaction(p,d),m=this.transformSwapData(w[0].changes),v=Ot.sqrtPriceX64ToPrice(new R(e.pool.current_sqrt_price),e.decimalsA,e.decimalsB).toNumber(),k=Ot.sqrtPriceX64ToPrice(new R(m.after_sqrt_price),e.decimalsA,e.decimalsB).toNumber(),E=Math.abs(v-k)/v*100;return{estimatedAmountIn:m.amount_in&&m.fee_amount?new R(m.amount_in).add(new R(m.fee_amount)).toString():"",estimatedAmountOut:m.amount_out,estimatedEndSqrtPrice:m.after_sqrt_price,estimatedFeeAmount:m.fee_amount,isExceed:m.is_exceed,amount:e.amount,aToB:e.a2b,byAmountIn:e.by_amount_in,priceImpactPct:E}}createSwapTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${So}`,s="swap",o=xd.getDefaultSqrtPriceLimit(e.a_to_b);if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool_addr)),ue.bcsSerializeBool(e.a_to_b),ue.bcsSerializeBool(e.by_amount_in),ue.bcsSerializeUint64(BigInt(e.amount)),ue.bcsSerializeUint64(BigInt(e.amount_limit)),ue.bcsSerializeU128(BigInt(o.toString())),ue.bcsSerializeStr(e.partner)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const a=[e.pool_addr,e.a_to_b,e.by_amount_in,e.amount,e.amount_limit,o.toString(),e.partner],c=[e.coinTypeA,e.coinTypeB];return{type:"entry_function_payload",function:ft(i,s),type_arguments:c,arguments:a}}},HB=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}createAddLiquidityTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=!("delta_liquidity"in e),s=`${r.LiquidswapDeployer}::${So}`,o=i?"add_liquidity_fix_token":"add_liquidity";if(n){const d=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB))],f=i?[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool)),ue.bcsSerializeUint64(Number(e.amount_a)),ue.bcsSerializeUint64(Number(e.amount_b)),ue.bcsSerializeBool(e.fix_amount_a),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_lower))),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_upper))),ue.bcsSerializeBool(e.is_open),ue.bcsSerializeUint64(e.index)]:[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool)),ue.bcsSerializeU128(e.delta_liquidity.toNumber()),ue.bcsSerializeUint64(Number(e.max_amount_a)),ue.bcsSerializeUint64(Number(e.max_amount_b)),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_lower))),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_upper))),ue.bcsSerializeBool(e.is_open),ue.bcsSerializeUint64(e.index)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(s,o,d,f))}const a=BigInt.asUintN(64,BigInt(e.tick_lower)).toString(),c=BigInt.asUintN(64,BigInt(e.tick_upper)).toString(),u=i?[e.pool,e.amount_a,e.amount_b,e.fix_amount_a,a,c,e.is_open,e.index]:[e.pool,e.delta_liquidity.toString(),String(e.max_amount_a),String(e.max_amount_b),a,c,e.is_open,e.index],l=[e.coinTypeA,e.coinTypeB];return{type:"entry_function_payload",function:ft(s,o),type_arguments:l,arguments:u}}removeLiquidityTransactionPayload(e,n=!1){Yl(e.delta_liquidity.gtn(0),"ZERO_LIQUIDITY");const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${So}`,s=`${r.ClmmIntegrate}::${k2}`,o=["remove_liquidity","remove_all_liquidity","remove_all_liquidity_for_two","remove_all_liquidity_for_three"];let a,c,u=[];if(e.rewards_num===0){if(n){const l=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB))],d=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool)),ue.bcsSerializeU128(e.delta_liquidity.toNumber()),ue.bcsSerializeUint64(e.min_amount_a),ue.bcsSerializeUint64(e.min_amount_b),ue.bcsSerializeUint64(e.pos_index),ue.bcsSerializeBool(e.is_close)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,o[0],l,d))}a=ft(i,o[0]),c=[e.coinTypeA,e.coinTypeB],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}else if(e.rewards_num===1){if(n){const l=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeC))],d=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool)),ue.bcsSerializeU128(e.delta_liquidity.toNumber()),ue.bcsSerializeUint64(e.min_amount_a),ue.bcsSerializeUint64(e.min_amount_b),ue.bcsSerializeUint64(e.pos_index),ue.bcsSerializeBool(e.is_close)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(s,o[1],l,d))}a=ft(s,o[1]),c=[e.coinTypeA,e.coinTypeB,e.coinTypeC],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}else if(e.rewards_num===2){if(n){const l=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeC)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeD))],d=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool)),ue.bcsSerializeU128(e.delta_liquidity.toNumber()),ue.bcsSerializeUint64(e.min_amount_a),ue.bcsSerializeUint64(e.min_amount_b),ue.bcsSerializeUint64(e.pos_index),ue.bcsSerializeBool(e.is_close)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(s,o[2],l,d))}a=ft(s,o[2]),c=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}else{if(n){const l=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeC)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeD)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeE))],d=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool)),ue.bcsSerializeU128(e.delta_liquidity.toNumber()),ue.bcsSerializeUint64(e.min_amount_a),ue.bcsSerializeUint64(e.min_amount_b),ue.bcsSerializeUint64(e.pos_index),ue.bcsSerializeBool(e.is_close)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(s,o[3],l,d))}a=ft(s,o[3]),c=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD,e.coinTypeE],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}return{type:"entry_function_payload",function:a,type_arguments:c,arguments:u}}closePositionTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${So}`,s="close_position";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool_address)),ue.bcsSerializeUint64(e.pos_index)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coinTypeA,e.coinTypeB],c=[e.pool_address,e.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}collectFeeTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${So}`,s="collect_fee";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool)),ue.bcsSerializeUint64(e.pos_index)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coinTypeA,e.coinTypeB],c=[e.pool,e.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}};function gt(t){return Br.isDecimal(t)?t:new Br(t===void 0?0:t)}function P2(t){return gt(10).pow(gt(t).abs())}function jB(t){return t!=null&&t!==""&&!isNaN(Number(t.toString()))}function _1(t){return t.isAxiosError,t}function zB(t){let e="";const r=new Gf(t).parseTypeTag().value.type_args;if(r.length>0){const i=r[0];i.value.name.value===yB||i.value.name.value===E2?e=EB(i).lpAddress:e=ft(ht.fromUint8Array(i.value.address.address).toShortString(),i.value.module_name.value,i.value.name.value,[])}return e}var FB=5*60*1e3,ji=24*60*60*1e3;function b1(t){return Date.parse(new Date().toString())+t}var GB=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getPoolImmutablesResource(e=!1){const n=this._sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer,r=`${n}_getMmutablesPools`,i=this.getCacheData(r);let s;if(!e&&i!=null)s=i;else{const a=ft(n,T2,A2),c=await this.fetchAccountResource(n,a);s=JSON.parse(JSON.stringify(c==null?void 0:c.data.data)),this.updateCache(r,s,ji)}return s.data}buildPoolImmutables(e,n,r){const i=r.key,s=ft(i.coin_type_a.account_address,Gi(i.coin_type_a.module_name),Gi(i.coin_type_a.struct_name)),o=ft(i.coin_type_b.account_address,Gi(i.coin_type_b.module_name),Gi(i.coin_type_b.struct_name)),a=ft(ft(n,mB,wB),[s,o]);return{coinTypeA:s,coinTypeB:o,poolType:a,poolAddress:e,tickSpacing:i.tick_spacing}}async getPoolImmutables(e=[],n=0,r=100,i=!0){const s=this._sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer,o=[],a=await this.getPoolImmutablesResource(i),c=e.length>0;for(let u=0;u<a.length;u+=1){const l=a[u],d=l.value;if(!(c&&!e.includes(d))){if(!c){const f=Number(u);if(f<n||f>=n+r)continue}o.push(this.buildPoolImmutables(d,s,l))}}return o}async getPools(e=[],n=0,r=100){const i=[],s=(await this.sdk.getGlobalConfig()).is_pause,o=await this.getPoolImmutables(e,n,r,!1);for(let a=0;a<o.length;a+=1){const c=o[a],u=await this.getPoolState(c.poolAddress,c.poolType,s),l={...c,...u};i.push(l);const d=`${c.poolAddress}_pool`;this.updateCache(d,l,ji)}return i}async getPool(e,n=!0){const r=`${e}_pool`,i=this.getCacheData(r);let s;if(i!==null&&!n&&(s=i),s==null)return(await this.getPools([e]))[0];const o=(await this.sdk.getGlobalConfig(!0)).is_pause,a=await this.getPoolState(e,s.poolType,o),c={...s,...a};return this.updateCache(r,c,ji),c}async getPoolState(e,n,r,i=!0){const s=`${e}_${n}getPool`;if(!i){const d=this.getCacheData(s);if(d!==null)return d}const o=await this.fetchAccountResource(e,n),a=JSON.parse(JSON.stringify(o==null?void 0:o.data)),c=a.rewarder_infos,u=[];c.forEach(d=>{const f=ft(d.coin_type.account_address,Gi(d.coin_type.module_name),Gi(d.coin_type.struct_name)),p=st.fromX64(new R(d.emissions_per_second)),w=Math.floor(p.toNumber()*60*60*24);u.push({...d,coinAddress:f,emissionsEveryDay:w})});const l={coinAmountA:a.coin_a.value,coinAmountB:a.coin_b.value,current_sqrt_price:a.current_sqrt_price,current_tick_index:Number(BigInt.asIntN(64,BigInt(a.current_tick_index.bits)).toString()),fee_growth_global_a:a.fee_growth_global_a,fee_growth_global_b:a.fee_growth_global_b,fee_protocol_coin_a:a.fee_protocol_coin_a,fee_protocol_coin_b:a.fee_protocol_coin_b,fee_rate:a.fee_rate,liquidity:a.liquidity,index:a.index,positionIndex:a.position_index,tick_indexes_handle:a.tick_indexes.handle,ticks_handle:a.ticks.handle,positions_handle:a.positions.handle,collectionName:a.collection_name,uri:a.uri,is_pause:r||a.is_pause,rewarder_infos:u,rewarder_last_updated_time:a.rewarder_last_updated_time};return this.updateCache(s,l,ji),l}async getTickDataByIndex(e,n){const r=await this._sdk.client.getTableItem(e,{key_type:`${this.sdk.sdkOptions.networkOptions.modules.IntegerMate}::i64::I64`,value_type:`${this.sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer}::pool::Tick`,key:pB(n)}),i=JSON.parse(JSON.stringify(r));return{index:i.index,sqrtPrice:i.sqrt_price,liquidityGross:i.liquidity_gross,liquidityNet:i.liquidity_net,feeGrowthOutsideA:i.fee_growth_outside_a,feeGrowthOutsideB:i.fee_growth_outside_b,rewardersGrowthOutside:i.rewarders_growth_outside}}async getPoolLowerAndUpperTicks(e,n){const r=[],i=[],s=n.ticks_handle,o=await this.sdk.Resources.getPositionList(e,[n]);for(const a of o){const c=await this.sdk.Resources.getTickDataByIndex(s,a.tick_lower_index),u=await this.sdk.Resources.getTickDataByIndex(s,a.tick_upper_index);r.push(c),i.push(u)}return[r,i]}async getPositionInfoByIndex(e,n){const r=await this._sdk.client.getTableItem(e,{key_type:"u64",value_type:`${this.sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer}::pool::Position`,key:n.toString()}),i=JSON.parse(JSON.stringify(r));return{name:"",pool:i.pool,liquidity:i.liquidity,tick_lower_index:BigInt.asIntN(64,BigInt(i.tick_lower_index.bits)).toString(),tick_upper_index:BigInt.asIntN(64,BigInt(i.tick_upper_index.bits)).toString(),fee_growth_inside_a:i.fee_growth_inside_a,fee_growth_inside_b:i.fee_growth_inside_b,fee_owed_a:i.fee_owed_a,fee_owed_b:i.fee_owed_b,reward_amount_owed_0:i.rewarder_infos[0].amount_owed,reward_amount_owed_1:i.rewarder_infos[1].amount_owed,reward_amount_owed_2:i.rewarder_infos[2].amount_owed,reward_growth_inside_0:i.rewarder_infos[0].growth_inside,reward_growth_inside_1:i.rewarder_infos[1].growth_inside,reward_growth_inside_2:i.rewarder_infos[2].growth_inside,index:n}}createPositionName(e,n){return`Cetus LP | Pool${e}-${n}`}async getPositionInfo(e,n,r=!0){if(jB(n)){const i=await this.getPositionInfoByIndex(e.positions_handle,Number(n));return i.name=this.createPositionName(e.index,i.index),i}return this.getPositionInfoByTokenName(e.poolAddress,e.positions_handle,e.collectionName,n,r)}async getPositionIndex(e,n,r,i=!1){const s=`${e}_${n}_${r}_getPositionIndex`;if(!i){const c=this.getCacheData(s);if(c!==null)return c}const o=await this._sdk.tokenClient.getTokenData(e,n,r),a=JSON.parse(JSON.stringify(o)).default_properties.data.index.value;return this.updateCache(s,a,ji),a}async getPositionInfoByTokenName(e,n,r,i,s=!0){const o=`${e}_${r}_${i}_getPositionInfo`;if(!s){const u=this.getCacheData(o);if(u!==null)return u}const a=await this.getPositionIndex(e,r,i,!1),c=await this.getPositionInfoByIndex(n,a);return c.name=i,this.updateCache(o,c,ji),c}async getGlobalConfig(e,n=!0){const r=`${e}_getGlobalConfig`;if(!n){const a=this.getCacheData(r);if(a!==null)return a}const i=await this.fetchAccountResource(e,ft(e,"config","GlobalConfig")),s=JSON.parse(JSON.stringify(i)).data,o={protocol_fee_rate:s.protocol_fee_rate,is_pause:s.is_pause};return this.updateCache(r,o,ji),o}async getSpecifyCoinInfos(e){const n=[];for(const r of e){const i=`${r}_getCoinInfos`,s=this.getCacheData(i);if(s!==null)n.push(s);else{const o=cg(r).address,a=await this._sdk.Resources.fetchAccountResource(o,BB(r));if(a!=null){const c={coinAddress:r,...a.data};n.push(c),this.updateCache(i,c,ji)}}}return n}async getCoinInfos(e,n=!0){const r=`${e}_getCoinInfos`;if(!n){const o=this.getCacheData(r);if(o!==null)return o}const i=await this.fetchAccountResources(e),s=[];return i==null||i.forEach(o=>{if(o.type.startsWith(x2)){const a=zB(o.type);a.length>0&&s.push({coinAddress:a,...o.data})}}),this.updateCache(r,s,ji),s}async getCoinStores(e,n=!0){const r=`${e}_getCoinStores`;if(!n){const o=this.getCacheData(r);if(o!==null)return o}const i=await this.fetchAccountResources(e),s=[];return i==null||i.forEach(o=>{if(o.type.startsWith(S2)){const a=p1(o.type);a.length>0&&s.push({coinAddress:a,...o.data})}}),this.updateCache(r,s,ji),s}async getCoinStore(e,n){const r=await this.fetchAccountResource(e,kB(n));if(r){const i=p1(r.type);if(i.length>0)return{coinAddress:i,...r.data}}return null}async getPositionList(e,n){const r=[];if(n.length===0)return[];const i=await this.getFilterTokenEvent(e);for(let s=0;s<i.length;s++){const o=i[s];try{for(const a of n)if(o.creator===a.poolAddress){const c=await this.getPositionInfoByTokenName(o.creator,a.positions_handle,o.collection,o.name);c.pool.length>0&&r.push({...o,...c})}}catch(a){console.log(a)}}return r}async getCollectionList(e){return await this.getFilterTokenEvent(e)}async getFilterTokenEvent(e){const n=[],r=[];let i=[];try{i=await this._sdk.client.getEventsByEventHandle(e,f1,"deposit_events")}catch(o){console.log(o)}i.forEach(o=>{n.push({key:`${o.data.id.token_data_id.creator}_${o.data.id.token_data_id.name}`,creator:o.data.id.token_data_id.creator,name:o.data.id.token_data_id.name,collection:o.data.id.token_data_id.collection,count:0})});let s=[];try{s=await this._sdk.client.getEventsByEventHandle(e,f1,"withdraw_events")}catch(o){console.log(o)}return s.forEach(o=>{if(o.type===gB){for(const a of n)if(a.count===0&&a.key===`${o.data.id.token_data_id.creator}_${o.data.id.token_data_id.name}`){a.count-=1;break}}}),n.forEach(o=>{o.count===0&&r.push({...o})}),r}async fetchAccountResource(e,n){var r;try{return await this._sdk.client.getAccountResource(e,n)}catch(i){if(_1(i)&&((r=i.response)==null?void 0:r.status)===404)return null;throw i}}async fetchAccountResources(e){var n;try{return await this._sdk.client.getAccountResources(e)}catch(r){if(_1(r)&&((n=r.response)==null?void 0:n.status)===404)return null;throw r}}updateCache(e,n,r=FB){let i=this._cache[e];i?(i.overdueTime=b1(r),i.value=n):i=new Zf(n,b1(r)),this._cache[e]=i}getCacheData(e){const n=this._cache[e];return n!==void 0&&n.getCacheData()?n.value:null}},VB=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}creatPoolTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=e.delta_liquidity.gt(Ne),s=i?`${r.LiquidswapDeployer}::${k2}`:`${r.LiquidswapDeployer}::${So}`,o=i?"create_and_add_liquidity":"create_pool";if(n){const l=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB))],d=i?[ue.bcsSerializeUint64(e.tick_spacing),ue.bcsSerializeU128(BigInt(e.initialize_sqrt_price.toString())),ue.bcsSerializeStr(e.uri),ue.bcsSerializeU128(BigInt(e.delta_liquidity.toString())),ue.bcsSerializeUint64(BigInt(e.max_amount_a.toString())),ue.bcsSerializeUint64(BigInt(e.max_amount_b.toString())),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_lower))),ue.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_upper)))]:[ue.bcsSerializeUint64(e.tick_spacing),ue.bcsSerializeU128(BigInt(e.initialize_sqrt_price.toString())),ue.bcsSerializeStr(e.uri)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(s,o,l,d))}const a=ft(s,o),c=[e.coinTypeA,e.coinTypeB],u=i?[e.tick_spacing.toString(),e.initialize_sqrt_price.toString(),e.uri.toString(),e.delta_liquidity.toString(),e.max_amount_a.toString(),e.max_amount_b.toString(),BigInt.asUintN(64,BigInt(e.tick_lower)).toString(),BigInt.asUintN(64,BigInt(e.tick_upper)).toString()]:[e.tick_spacing.toString(),e.initialize_sqrt_price.toString(),e.uri.toString()];return{type:"entry_function_payload",function:a,type_arguments:c,arguments:u}}};new R(365);new R(24);new R(3600);new R(.5);function WB(t,e,n,r,i,s){const o=new Ge(t.toString()).div(new Ge(10**n)),a=new Ge(e.toString()).div(new Ge(10**r));return o.mul(i).add(a.mul(s))}function KB(t,e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v,k,E,b,x,T,$,L){const z=new Ge(d),J=new Ge(f),Z=new Ge(m),U=new Ge(v),D=new Ge(k),B=new Ge(E),h=new Ge(b),g=new Ge(x),S=new Ge(T),I=new Ge($),N=new Ge(L),H=Ot.tickIndexToSqrtPriceX64(e),X=Ot.tickIndexToSqrtPriceX64(n),O=st.toX64_Decimal(st.fromX64(H)).round(),_=st.toX64_Decimal(st.fromX64(X)).round(),q=st.toX64_Decimal(st.fromX64(r)).round();let ye;const _e=z.mul(new Ge(10**s)).mul(_.mul(O)).div(_.sub(O)).round(),Ie=J.mul(new Ge(10**o)).div(_.sub(O)).round();t<e?ye=_e:t>n?ye=Ie:ye=Ge.min(_e,Ie);const pt=ye.mul(q.sub(O)),F=ye.mul(_.sub(q)).div(q.mul(_)).div(new Ge(10**s)).mul(h).add(pt.div(new Ge(10**o).mul(g))),Y=WB(p,w,s,o,h,g),ee=F.div(Y),ie=ye.eq(new Ge(0))?new Ge(0):new Ge(l/1e4).mul(Z).mul(new Ge(ye.toString()).div(new Ge(i.toString()).add(new Ge(ye.toString())))).div(F),le=ee.eq(new Ge(0))?new Ge(0):ee.mul(new Ge(36500/7)).div(F),oe=U.div(new Ge(10**a)).mul(S).mul(le),pe=D.div(new Ge(10**c)).mul(I).mul(le),Ee=B.div(new Ge(10**u)).mul(N).mul(le);return{feeAPR:ie,posRewarder0APR:oe,posRewarder1APR:pe,posRewarder2APR:Ee}}function XB(t,e,n,r){const i=Math.max(t,n),o=Math.min(e,r)-i,a=e-t,c=r-n,u=new Ge(a.toString()),l=new Ge(c.toString()),d=new Ge(o.toString());let f=new Ge("0");return o<0?f=new Ge("0"):a===o?f=l.div(d):c===o?f=d.div(u):f=d.mul(d).div(l).div(u),f}function ZB(t){const{clmmpool:e,position:n,tickLower:r,tickUpper:i}=t,{current_tick_index:s,fee_growth_global_a:o,fee_growth_global_b:a}=e;console.log({currentTickIndex:s,feeGrowthGlobalAX64:o,feeGrowthGlobalBX64:a});const{tick_lower_index:c,tick_upper_index:u,liquidity:l,fee_owed_a:d,fee_owed_b:f,fee_growth_inside_a:p,fee_growth_inside_b:w}=n,{feeGrowthOutsideA:m,feeGrowthOutsideB:v}=r,{feeGrowthOutsideA:k,feeGrowthOutsideB:E}=i;let b=null,x=null;s<Number(c)?(b=st.subUnderflowU128(new R(o),new R(m)),x=st.subUnderflowU128(new R(a),new R(v))):(b=m,x=v);let T=null,$=null;s<Number(u)?(T=k,$=E):(T=st.subUnderflowU128(new R(o),new R(k)),$=st.subUnderflowU128(new R(a),new R(E)));const L=st.subUnderflowU128(st.subUnderflowU128(new R(o),new R(b)),new R(T)),z=st.subUnderflowU128(st.subUnderflowU128(new R(a),new R(x)),new R($)),J=st.subUnderflowU128(new R(L),new R(p)).mul(new R(l)).shrn(64),Z=st.subUnderflowU128(new R(z),new R(w)).mul(new R(l)).shrn(64),U=new R(gt(d).add(gt(J.toString())).toString()),D=new R(gt(f).add(gt(Z.toString())).toString());return{feeOwedA:U,feeOwedB:D}}function JB(t){if(t){const e={};return t.maxGasAmount&&(e.maxGasAmount=BigInt(t.maxGasAmount)),t.gasUnitPrice&&(e.gasUnitPrice=BigInt(t.gasUnitPrice)),t.expireTimestamp&&(e.expireTimestamp=BigInt(t.expireTimestamp)),e}}function YB(t,e){return new Zl(r=>{const i=new Uint8Array(64);return new G.Ed25519Signature(i)},t.toUint8Array()).sign(e)}function QB(t){if(t){const e={};return t.maxGasAmount&&(e.max_gas_amount=t.maxGasAmount.toString()),t.gasUnitPrice&&(e.gas_unit_price=t.gasUnitPrice.toString()),t.expireTimestamp&&(e.expiration_timestamp_secs=t.expireTimestamp.toString()),e}}async function e9(t,e,n,r,i=!0){if(n instanceof G.TransactionPayload){const l=await t.generateRawTransaction(e.address,n,JB(r)),d=YB(e.pubkey,l),f=await t.submitBCSSimulation(d);return i&&console.log(f[0]),f[0]}const s=n,o=await t.generateTransaction(e.address,s,QB(r)),a={type:"ed25519_signature",public_key:e.pubkey.hex(),signature:ht.fromUint8Array(new Uint8Array(64)).hex()},c={sender:e.address.hex(),sequence_number:o.sequence_number.toString(),max_gas_amount:o.max_gas_amount.toString(),gas_unit_price:o.gas_unit_price.toString(),expiration_timestamp_secs:o.expiration_timestamp_secs.toString(),payload:s,signature:a},u=await t.client.transactions.simulateTransaction(c);return i&&console.log(u[0]),u[0]}async function yl(t,e,n,r){return e9(t,e,n,r,!1)}function v1(t,e){const n=new ue.Serializer;n.serializeU32AsUleb128(t.length);const r=n[e];return t.forEach(i=>{n.serializeU32AsUleb128(i.length),i.forEach(s=>{r.call(n,s)})}),n.getBytes()}function t9(t){const e=new ue.Serializer;return e.serializeU32AsUleb128(t.length),t.forEach(n=>{e.serializeU32AsUleb128(n.length),n.forEach(r=>{r.serialize(e)})}),e.getBytes()}function n9(t){const e=new ue.Serializer;return e.serializeU32AsUleb128(t.length),t.forEach(n=>{n.serialize(e)}),e.getBytes()}var As=1e9,r9=5*60*1e3,ml=24*60*60*1e3;function x1(t){return Date.parse(new Date().toString())+t}var i9=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getPoolImmutablesResource(e=!1){const n=this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,r=`${n}_getMmutablesPools`,i=this.getCacheData(r);let s;if(!e&&i!=null)s=i;else{const o=ft(n,T2,A2),a=await this._sdk.Resources.fetchAccountResource(n,o);s=JSON.parse(JSON.stringify(a==null?void 0:a.data)),this.updateCache(r,s,ml)}return s}async getLaunchpadPools(e=[],n=0,r=100,i=null,s=!1){const o=this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,a=[],u=(await this.getPoolImmutablesResource(s)).data.data,l=e.length>0;for(let d=0;d<u.length;d+=1){const f=u[d],{pool_address:p,creater_address:w,pool_type:m}=f.value;if(i==="fixed_price"&&m!==0||i==="fair_launch"&&m===0||l&&!e.includes(p))continue;if(!l){const z=Number(d);if(z<n||z>=n+r)continue}const v=f.key,k=ft(v.coin_raise.account_address,Gi(v.coin_raise.module_name),Gi(v.coin_raise.struct_name)),E=ft(v.coin_sale.account_address,Gi(v.coin_sale.module_name),Gi(v.coin_sale.struct_name)),b=Ri.buildLaunchpadPoolType(m===0,o,E,k),x={coin_type_sale:E,coin_type_raise:k,pool_type:b,pool_address:p,creator:w,pool_mode:m===0?"fixed_price":"fair_launch"},T=await this.getLaunchpadPoolState(x.pool_address,x.pool_type,x.pool_mode),$={...x,...T};await this.calculateLaunchpadPoolField($),a.push($);const L=`${p}_pool`;this.updateCache(L,$,ml)}return a}async getLaunchpadPool(e,n=!0){const r=`${e}_pool`,i=this.getCacheData(r);let s;if(i!==null&&!n&&(s=i),s==null)return(await this.getLaunchpadPools([e]))[0];const o=await this.getLaunchpadPoolState(e,s.pool_type,s.pool_mode),a={...s,...o};return await this.calculateLaunchpadPoolField(a),this.updateCache(r,a,ml),a}async getSpecifyCoinDecimals(e){const n={};(await this._sdk.Token.getSpecifyTokenListByCache(e)).forEach(o=>{n[o.address]=o.decimals});const i=e.filter(o=>n[o]===void 0);return(await this._sdk.Resources.getSpecifyCoinInfos(i)).forEach(o=>{n[o.coinAddress]=Number(o.decimals)}),n}async calculateLaunchpadPoolField(e){const n=await this.getSpecifyCoinDecimals([e.coin_type_sale,e.coin_type_raise]),r=Number(n[e.coin_type_sale]),i=Number(n[e.coin_type_raise]);if(e.initialize_price=Ri.priceFixToReal(e.initialize_price,r,i),Ri.isFixedPricePool(e))e.raise_total=Ri.raiseTotalAmount(e,r,i);else{e.raise_total=Ri.raiseTotalAmount(e,r,i);const o=gt(e.raise_coin_amount).div(gt(10).pow(gt(i))),a=gt(e.sale_total).div(gt(10).pow(gt(r)));a.toNumber()>0?e.price=o.div(a).toNumber():e.price=0}return Ri.updatePoolStaus(e),!0}async getLaunchpadPoolState(e,n,r,i=!0){const s=`${e}_${n}_getLaunchpadPoolState`;if(!i){const u=this.getCacheData(s);if(u!==null)return u}const o=await this._sdk.Resources.fetchAccountResource(e,n),a=JSON.parse(JSON.stringify(o==null?void 0:o.data)),c=Ri.buildLaunchpadFixedPoolState(r,a);return this.updateCache(s,c,ml),c}async getOwnerLaunchpadCoins(e){const n=await this._sdk.Resources.getCoinStores(e),r=[];return n.forEach(i=>{const s=cg(i.coinAddress);s.module===E2&&r.push({coin_type_sale:s.type_arguments[0],coin_type_raise:s.type_arguments[1],coin_address:i.coinAddress,balance:Number(i.coin.value)})}),r}async getSimplePosition(e){const n=await this._sdk.Resources.fetchAccountResource(e,ft(this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,"clmmProxy","LockedPosition")),r=JSON.parse(JSON.stringify(n==null?void 0:n.data));return{position_name:r.token_id.token_data_id.name,collection:r.token_id.token_data_id.collection,creator:r.token_id.token_data_id.creator,unlock_time:r.unlock_time,is_redeem:r.is_redeem}}async hasPoolWhitelist(e){const{launchpad:n}=this._sdk.sdkOptions.networkOptions,r={handle:"",exist:!1};try{const i=await this._sdk.Resources.fetchAccountResource(e,ft(n.cetusLaunchpad,"whitelist","Whitelist")),s=JSON.parse(JSON.stringify(i==null?void 0:i.data));return r.exist=Number(s.users.length)>0,r.handle=s.users.inner.handle,r}catch(i){console.log(i)}return r}async inPoolWhitelist(e,n){if(!n.exist)return!1;try{return await this._sdk.client.getTableItem(n.handle,{key_type:"address",value_type:"u8",key:e}),!0}catch(r){console.log(r)}return!1}buildLaunchpadCoinType(e,n){return ft(this._sdk.sdkOptions.networkOptions.launchpad.crowdCoin,"cscoin","CS",[e,n])}creatPoolTransactionPayload(e,n=!1){const{launchpad:r}=this.sdk.sdkOptions.networkOptions,i="is_admin"in e,s=`${r.cetusLaunchpad}::${Hi}`,o=i?e.is_admin?"create_crowdsale_pool_authority":"create_crowdsale_pool":"create_fairlaunch_pool",a=Ri.priceRealToFix(e.initialize_price,e.sale_decimals,e.raise_decimals);console.log("fixPrice:",a);const c=Ot.priceToSqrtPriceX64(gt(e.initialize_price),e.sale_decimals,e.raise_decimals).toString();return i?Ri.buildCreatCrowdsalePoolPayload(e,c,a,s,o,n):Ri.buildCreatFairlaunchPoolPayload(e,c,a,s,o,n)}updatePoolTransactionPayload(e,n=!1){const{launchpad:r}=this.sdk.sdkOptions.networkOptions,i=`${r.cetusLaunchpad}::${Hi}`,s="update_pool";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_sale)),new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_raise))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool_addr)),ue.bcsSerializeUint64(e.start_time),ue.bcsSerializeUint64(e.liquidity_rate*100),ue.bcsSerializeUint64(e.activity_duration),ue.bcsSerializeUint64(e.calmdown_duraction),ue.bcsSerializeUint64(e.settle_duration),ue.bcsSerializeUint64(e.locked_duration)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr,e.start_time,e.liquidity_rate*100,e.activity_duration,e.calmdown_duraction,e.settle_duration,e.locked_duration];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}purchaseTransactionPayload(e,n=!1){const{launchpad:r}=this.sdk.sdkOptions.networkOptions,i=`${r.cetusLaunchpad}::${Hi}`,s="purchase";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_sale)),new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_raise))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool_addr)),ue.bcsSerializeUint64(e.raise_amount_in)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr,e.raise_amount_in];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}revokeTransactionPayload(e,n=!1){const{launchpad:r}=this.sdk.sdkOptions.networkOptions,i=`${r.cetusLaunchpad}::${Hi}`,s="revoke";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_sale)),new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_raise))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool_addr)),ue.bcsSerializeUint64(e.cs_coin_amount)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr,e.cs_coin_amount];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}settleTransactionPayload(e,n=!1){const{launchpad:r}=this.sdk.sdkOptions.networkOptions,i=`${r.cetusLaunchpad}::${Hi}`,s=e.pool_mode==="fixed_price",o=s?"crowd_sale_settle":"fair_launch_settle";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_sale)),new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_raise))];return s?new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,o,u,[])):new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,o,u,[ue.bcsSerializeU128(BigInt(e.initialize_sqrt_price))]))}const a=ft(i,o),c=[e.coin_type_sale,e.coin_type_raise];return{type:"entry_function_payload",function:a,type_arguments:c,arguments:s?[]:[e.initialize_sqrt_price]}}claimTransactionPayload(e,n=!1){const{launchpad:r}=this.sdk.sdkOptions.networkOptions,i=`${r.cetusLaunchpad}::${Hi}`,s="claim";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_sale)),new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_raise))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool_addr)),ue.bcsSerializeUint64(e.cs_coin_amount)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr,e.cs_coin_amount];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}claimFeeTransactionPayload(e,n=!1){const{launchpad:r}=this.sdk.sdkOptions.networkOptions,i=`${r.cetusLaunchpad}::${Hi}`,s="claim_fee";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_sale)),new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_raise))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool_addr))];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}withdrawTransactionPayload(e,n=!1){const{launchpad:r}=this.sdk.sdkOptions.networkOptions,i=`${r.cetusLaunchpad}::${Hi}`,s=e.is_withdraw_sale?"withdraw_sale":"withdraw_raise";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_sale)),new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_raise))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool_addr))];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coin_type_sale,e.coin_type_raise],c=[e.pool_addr];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}redeemPositionTransactionPayload(e,n=!1){const{launchpad:r}=this.sdk.sdkOptions.networkOptions,i=`${r.cetusLaunchpad}::${Hi}`,s="redeem_position";if(n){const c=[new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_sale)),new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_raise))];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,c,[]))}const o=ft(i,s),a=[e.coin_type_sale,e.coin_type_raise];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:[]}}userToWhitelistTransactionPayload(e,n=!1){const{launchpad:r}=this.sdk.sdkOptions.networkOptions,i=`${r.cetusLaunchpad}::${Hi}`,s=e.isAdd?"add_user_to_whitelist":"remove_user_from_whitelist";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_sale)),new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_raise))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.user_addr))];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coin_type_sale,e.coin_type_raise],c=[e.user_addr];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}updateCache(e,n,r=r9){let i=this._cache[e];i?(i.overdueTime=x1(r),i.value=n):i=new Zf(n,x1(r)),this._cache[e]=i}getCacheData(e){const n=this._cache[e];return n!==void 0&&n.getCacheData()?n.value:null}};function s9(t,e,n,r){const i=t.shln(64),s=n.sub(e);return r?st.divRoundUp(i,s):i.div(s)}var Ri=class{static minSettlePurchaseAmount(e){return gt(e.sale_total).mul(e.initialize_price).mul(e.least_raise_rate).toNumber()}static get_sale_liquidity_amount(e,n,r,i,s,o){const a=Ch.getMinIndex(e),c=Ch.getMaxIndex(e),u=this.priceRealToFix(i,s,o),l=new R(n*u*r),d=new R(Ot.priceToSqrtPriceX64(gt(u),0,0).toString()),f=s9(l,Ot.tickIndexToSqrtPriceX64(a),d,!1);return MB(d,Ot.tickIndexToSqrtPriceX64(c),f,!0).toString()}static raiseTotalAmount(e,n,r){const i=gt(n-r).abs().toNumber();return n>r?Number(gt(e.sale_total).mul(e.initialize_price).div(gt(10).pow(gt(i))).toString()):Number(gt(e.sale_total).mul(e.initialize_price).mul(gt(10).pow(gt(i))).toString())}static priceRealToFix(e,n,r){const i=gt(n-r).toNumber();return Number(gt(e).div(gt(10).pow(gt(i))).toString())}static priceFixToReal(e,n,r){const i=gt(n-r).toNumber();return Number(gt(e).mul(gt(10).pow(gt(i))).toString())}static buildLaunchpadPoolType(e,n,r,i){return e?ft(ft(n,_B,bB),[r,i]):ft(ft(n,vB,xB),[r,i])}static isFixedPricePool(e){return e.pool_mode==="fixed_price"}static getFairLaunchSettleSqrtPrice(e,n,r){if(e.pool_status!=="Settle")throw new Error("The pool is not in settle ");const i=Ot.priceToSqrtPriceX64(gt(e.price),n,r).toString();return console.log("sqrtPrice: ",i.toString()),i.toString()}static async updatePoolStaus(e){const n=Ri.isFixedPricePool(e),r=Number(gt(Date.now()/1e3).toFixed(0));if(e.end_activity_time=Number(e.start_activity_time)+Number(e.activity_duration),n)if(e.end_settle_time=Number(e.end_activity_time)+Number(e.settle_duration),e.is_settle)e.pool_status="Ended";else if(r<Number(e.start_activity_time))e.pool_status="Upcoming";else if(r>=e.start_activity_time&&r<e.end_activity_time)e.pool_status="Live";else if(r>=e.end_activity_time&&r<e.end_settle_time){const i=e.raise_coin_amount,s=gt(e.raise_total).mul(gt(e.least_raise_rate)).toNumber();i<s?e.pool_status="Failed":e.pool_status="Settle"}else e.pool_status="Failed";else if(e.end_calm_down_time=Number(e.end_activity_time)+Number(e.calmdown_duration),e.end_settle_time=Number(e.end_calm_down_time)+Number(e.settle_duration),e.is_settle)e.pool_status="Ended";else if(r<Number(e.start_activity_time))e.pool_status="Upcoming";else if(r>=e.start_activity_time&&r<e.end_activity_time)e.pool_status="Live";else if(r>=e.end_activity_time&&r<e.end_calm_down_time)e.pool_status="Calmdown";else if(r>=e.end_calm_down_time&&r<e.end_settle_time){const i=e.raise_coin_amount,s=gt(e.raise_total).mul(gt(e.least_raise_rate)).toNumber();i<s?e.pool_status="Failed":e.pool_status="Settle"}else e.pool_status="Failed";return!0}static buildLaunchpadFixedPoolState(e,n){return e==="fixed_price"?{sale_coin_amount:n.sale_coin.value,raise_coin_amount:n.raise_coin.value,activity_duration:n.activity_duration,clmm_pool_address:n.clmm_pool_address,cs_burn_cap:n.cs_burn_cap.dummy_field,cs_mint_cap:n.cs_mint_cap.dummy_field,fee_amount:n.fee_amount,fee_rate:n.fee_rate,initialize_price:Number(n.initialize_price)/As,initialize_sqrt_price:BigInt(n.initialize_sqrt_price),is_settle:n.is_settle,least_raise_rate:Number(n.least_raise_rate)/100,liquidity_rate:Number(n.liquidity_rate)/100,locked_duration:n.locked_duration,sale_total:n.sale_total,raise_total:0,settle_duration:n.settle_duration,start_activity_time:n.start_time,unused_raise:n.unused_raise,unused_sale:n.unused_sale,has_whiteList:n.has_white_list,pool_status:"Upcoming",end_activity_time:0,end_settle_time:0}:{price:0,sale_coin_amount:0,raise_coin_amount:n.raise_coin.value,sale_total:n.sale_coin.value,raise_total:0,calmdown_duration:n.calmdown_duration,initialize_price:Number(n.price)/As,activity_duration:n.activity_duration,clmm_pool_address:n.clmm_pool_address,cs_burn_cap:n.cs_burn_cap.dummy_field,cs_mint_cap:n.cs_mint_cap.dummy_field,fee_amount:n.fee_amount,fee_rate:n.fee_rate,is_settle:n.is_settle,least_raise_rate:Number(n.least_raise_amount)/100,liquidity_rate:Number(n.liquidity_rate)/100,locked_duration:n.locked_duration,settle_duration:n.settle_duration,start_activity_time:n.start_time,has_whiteList:n.has_white_list,pool_status:"Upcoming",end_activity_time:0,end_calm_down_time:0,end_settle_time:0}}static buildCreatCrowdsalePoolPayload(e,n,r,i,s,o=!1){if(o){const l=[new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_sale)),new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_raise))],d=e.is_admin?[ue.bcsSerializeU128(r*As),ue.bcsSerializeU128(BigInt(n)),ue.bcsSerializeUint64(e.tick_spacing),ue.bcsSerializeUint64(e.sale_total),ue.bcsSerializeUint64(e.start_time),ue.bcsSerializeUint64(e.least_raise_rate*100),ue.bcsSerializeUint64(e.activity_duration),ue.bcsSerializeUint64(e.settle_duration),ue.bcsSerializeUint64(e.locked_duration),ue.bcsSerializeU8(0)]:[ue.bcsSerializeU128(r*As),ue.bcsSerializeU128(BigInt(n)),ue.bcsSerializeUint64(e.tick_spacing),ue.bcsSerializeUint64(e.sale_total),ue.bcsSerializeUint64(e.start_time),ue.bcsSerializeUint64(e.least_raise_rate*100),ue.bcsSerializeUint64(e.liquidity_rate*100),ue.bcsSerializeUint64(e.activity_duration),ue.bcsSerializeUint64(e.settle_duration),ue.bcsSerializeUint64(e.locked_duration),ue.bcsSerializeU8(0)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,l,d))}const a=ft(i,s),c=[e.coin_type_sale,e.coin_type_raise],u=e.is_admin?[r*As,n,e.tick_spacing,e.sale_total,e.start_time,e.least_raise_rate*100,e.activity_duration,e.settle_duration,e.locked_duration,0]:[r*As,n,e.tick_spacing,e.sale_total,e.start_time,e.least_raise_rate*100,e.liquidity_rate*100,e.activity_duration,e.settle_duration,e.locked_duration,0];return{type:"entry_function_payload",function:a,type_arguments:c,arguments:u}}static buildCreatFairlaunchPoolPayload(e,n,r,i,s,o=!1){if(o){const l=[new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_sale)),new G.TypeTagStruct(G.StructTag.fromString(e.coin_type_raise))],d=[ue.bcsSerializeU128(r*As),ue.bcsSerializeU128(BigInt(n)),ue.bcsSerializeUint64(e.tick_spacing),ue.bcsSerializeUint64(e.sale_total),ue.bcsSerializeUint64(e.start_time),ue.bcsSerializeUint64(e.least_raise_rate*100),ue.bcsSerializeUint64(e.liquidity_rate*100),ue.bcsSerializeUint64(e.activity_duration),ue.bcsSerializeUint64(e.calmdown_duraction),ue.bcsSerializeUint64(e.settle_duration),ue.bcsSerializeUint64(e.locked_duration)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,l,d))}const a=ft(i,s),c=[e.coin_type_sale,e.coin_type_raise],u=[r*As,n,e.tick_spacing,e.sale_total,e.start_time,e.liquidity_rate*100,ue.bcsSerializeUint64(e.least_raise_rate*100),e.activity_duration,e.calmdown_duraction,e.settle_duration,e.locked_duration];return{type:"entry_function_payload",function:a,type_arguments:c,arguments:u}}};function o9(t){let e;switch(t){case 0:e=5;break;case 1:e=10;break;case 2:e=20;break;case 3:e=25;break;default:e=1}const n=100/e+1,r=new Array(n);for(let i=0;i<n;i+=1)r[i]=i*e;return r}function ed(t,e){const n=o9(e),r=new Array(n.length),i=t.divn(100);return n.forEach((s,o)=>{r[o]=i.muln(s)}),r}function a9(t,e,n,r){for(let i=e;i<t;i+=1)n.amountInArray[i]=n.amountInArray[i].add(r.amountIn),n.amountOutArray[i]=n.amountOutArray[i].add(r.amountOut),n.feeAmountArray[i]=n.feeAmountArray[i].add(r.feeAmount);return n}function c9(t,e,n,r,i){let s=new R(r.liquidity),{currentSqrtPrice:o}=r,a={amountInArray:[],amountOutArray:[],feeAmountArray:[],refAmountArray:[],nextSqrtPriceArray:[],crossTickNumArray:[],isExceed:[]};n.forEach(()=>{a.amountInArray.push(Ne),a.amountOutArray.push(Ne),a.feeAmountArray.push(Ne),a.refAmountArray.push(Ne),a.nextSqrtPriceArray.push(Ne),a.crossTickNumArray.push(0)});let c,u;const l=xd.getDefaultSqrtPriceLimit(t),d=n.length;let f=n[1],p=1,w=0,m;t?m=i.sort((v,k)=>k.index-v.index):m=i.sort((v,k)=>v.index-k.index);for(const v of m){if(w+=1,t){if(r.currentTickIndex<v.index)continue}else if(r.currentTickIndex>v.index)continue;if(v===null)continue;t&&l.gt(v.sqrtPrice)||!t&&l.lt(v.sqrtPrice)?c=l:c=v.sqrtPrice;let k={amountIn:Ne,amountOut:Ne,nextSqrtPrice:Ne,feeAmount:Ne};const E=o,b=s;let x=f,T=p;for(let $=p;$<d;$+=1){const L=$2(o,c,s,f,new R(r.feeRate),e);if(k=L,L.amountIn.eq(Ne)||(f=e?f.sub(L.amountIn.add(L.feeAmount)):f.sub(L.amountOut)),f.eq(Ne))a.amountInArray[$]=a.amountInArray[$].add(L.amountIn),a.amountOutArray[$]=a.amountOutArray[$].add(L.amountOut),a.feeAmountArray[$]=a.feeAmountArray[$].add(L.feeAmount),L.nextSqrtPrice.eq(v.sqrtPrice)?(u=t?v.liquidityNet.mul(new R(-1)):v.liquidityNet,s=u.gt(Ne)?s.add(u):s.sub(u.abs()),o=v.sqrtPrice):o=L.nextSqrtPrice,a.crossTickNumArray[$]+=1,a.amountInArray[$]=a.amountInArray[$].add(a.feeAmountArray[$]),a.nextSqrtPriceArray[$]=o,s=b,o=E,a.crossTickNumArray[$]=w,f=x.add(n[1].muln($-T+1)),p+=1;else{a=a9(d,$,a,L),x=f,T=p;break}}if(p===d)break;k.nextSqrtPrice.eq(v.sqrtPrice)?(u=t?v.liquidityNet.mul(new R(-1)):v.liquidityNet,s=u.gt(Ne)?s.add(u):s.sub(u.abs()),o=v.sqrtPrice):o=k.nextSqrtPrice;for(let $=p;$<d;$+=1)a.crossTickNumArray[$]+=1}return e?n.forEach((v,k)=>{a.isExceed.push(a.amountInArray[k].lt(v))}):n.forEach((v,k)=>{a.isExceed.push(a.amountOutArray[k].lt(v))}),a}var u9=class{constructor(t,e,n,r,i,s){this.minSplitUnit=e,this.a2b=r,this.byAmountIn=i,this.clmmpool=n,this.ticks=s,this.amountArray=[],this.createSplitSwapParams=this.createSplitSwapParams.bind(this),this.createSplitSwapParams(t,e),this.splitSwapResult={amountInArray:[],amountOutArray:[],feeAmountArray:[],refAmountArray:[],nextSqrtPriceArray:[],crossTickNumArray:[],isExceed:[]},this.computeSwap=this.computeSwap.bind(this),this.getSplitSwapResult=this.getSplitSwapResult.bind(this)}createSplitSwapParams(t,e){const n=ed(t,e);this.amountArray=n}computeSwap(){this.splitSwapResult=c9(this.a2b,this.byAmountIn,this.amountArray,this.clmmpool,this.ticks)}getSplitSwapResult(){return this.splitSwapResult}},Ch=class{static getMinIndex(e){return y1+Math.abs(y1)%e}static getMaxIndex(e){return g1-g1%e}};function l9(t,e){const n=Math.abs(t)%e;return t>0?n>e/2?t+e-n:t-n:n>e/2?t-e+n:t+n}function d9(t,e,n,r,i,s){const o=t.rewarder_infos,a=[];for(let c=0;c<o.length;c+=1){let u=s[c];e!==null&&(t.current_tick_index<r?u=s[c].sub(new R(e.rewardersGrowthOutside[c])):u=e.rewardersGrowthOutside[c]);let l=new R(0);n!==null&&(t.current_tick_index>=i?l=s[c].sub(new R(n.rewardersGrowthOutside[c])):l=n.rewardersGrowthOutside[c]);const d=st.subUnderflowU128(st.subUnderflowU128(new R(s[c]),new R(u)),new R(l));a.push(d)}return a}var f9=class{constructor(e){this._sdk=e,this.growthGlobal=[Ne,Ne,Ne]}get sdk(){return this._sdk}async listRewarderInfosFromClmmpool(e){const n=await this.sdk.Resources.getPool(e),r=[];for(const i of n.rewarder_infos)r.push(i);return r}async emissionsEveryDay(e){const n=await this.listRewarderInfosFromClmmpool(e);if(!n)return null;const r=[];for(const i of n){const s=st.fromX64(new R(i.emissions_per_second));r.push({emissions:Math.floor(s.toNumber()*60*60*24),coin_address:i.coinAddress})}return r}async collectRewarderAmount(e,n){const r=await this.sdk.Resources.getPositionInfo(e,n);return r?{reward_amount_owed_0:r.reward_amount_owed_0,reward_amount_owed_1:r.reward_amount_owed_1,reward_amount_owed_2:r.reward_amount_owed_2}:null}async updatePoolRewarder(e,n){const r=await this.sdk.Resources.getPool(e),i=r.rewarder_last_updated_time;if(r.rewarder_last_updated_time=n,r.liquidity===0||n.eq(i))return r;const s=n.div(new R(1e3)).sub(new R(i)).add(new R(15)),o=r.rewarder_infos;for(let a=0;a<o.length;a+=1){const c=o[a],u=st.checkMulDivFloor(s,new R(c.emissions_per_second),new R(r.liquidity),128);this.growthGlobal[a]=new R(c.growth_global).add(new R(u))}return r}async posRewardersAmount(e,n,r,i){const s=Date.parse(new Date().toString()),o=await this.updatePoolRewarder(e,new R(s)),a=await this.sdk.Resources.getPositionInfo(o,n),c=parseInt(a.tick_lower_index,10),u=parseInt(a.tick_upper_index,10),l=d9(o,r,i,c,u,this.growthGlobal),d=[],f=[];if(l.length>0){const p=st.subUnderflowU128(l[0],new R(a.reward_growth_inside_0)),w=st.checkMulShiftRight(new R(a.liquidity),p,64,256);d.push(l[0]),f.push({amount_owed:new R(a.reward_amount_owed_0).add(w),coin_address:o.rewarder_infos[0].coinAddress})}if(l.length>1){const p=st.subUnderflowU128(l[1],new R(a.reward_growth_inside_1)),w=st.checkMulShiftRight(new R(a.liquidity),p,64,256);d.push(l[1]),f.push({amount_owed:new R(a.reward_amount_owed_1).add(w),coin_address:o.rewarder_infos[1].coinAddress})}if(l.length>2){const p=st.subUnderflowU128(l[2],new R(a.reward_growth_inside_2)),w=st.checkMulShiftRight(new R(a.liquidity),p,64,256);d.push(l[2]),f.push({amount_owed:new R(a.reward_amount_owed_2).add(w),coin_address:o.rewarder_infos[2].coinAddress})}return f}async poolRewardersAmount(e,n,r,i){const s=Date.parse(new Date().toString()),o=await this.updatePoolRewarder(n,new R(s)),a=await this.sdk.Resources.getPositionList(e,[o]),c=[Ne,Ne,Ne];for(let u=0;u<a.length;u+=1){const l=await this.posRewardersAmount(n,a[u],r[u],i[u]);for(let d=0;d<3;d+=1)c[d]=c[d].add(l[d].amount_owed)}return c}collectPosRewarderTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${So}`,s="collect_rewarder";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeC))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool_address)),ue.bcsSerializeU8(e.index),ue.bcsSerializeUint64(e.pos_index)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coinTypeA,e.coinTypeB,e.coinTypeC],c=[e.pool_address,e.index,e.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}collectPoolRewarderTransactionPayload(e,n=!1){if(e.rewarder_nums===1){const s={pool_address:e.pool_address,index:0,pos_index:e.pos_index,coinTypeA:e.coinTypeA,coinTypeB:e.coinTypeB,coinTypeC:e.coinTypeC};return this.collectPosRewarderTransactionPayload(s,n)}const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.ClmmIntegrate}::${Ph}`;if(e.rewarder_nums===2){const s="collect_rewarder_for_two";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeC)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeD))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool_address)),ue.bcsSerializeUint64(e.pos_index)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD],c=[e.pool_address,e.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}if(e.rewarder_nums===3){const s="collect_rewarder_for_three";if(n){const u=[new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeB)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeC)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeD)),new G.TypeTagStruct(G.StructTag.fromString(e.coinTypeE))],l=[ue.bcsToBytes(G.AccountAddress.fromHex(e.pool_address)),ue.bcsSerializeUint64(e.pos_index)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,u,l))}const o=ft(i,s),a=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD,e.coinTypeE],c=[e.pool_address,e.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}}},h9=5*60*1e3,wl=24*60*60*1e3;function S1(t){return Date.parse(new Date().toString())+t}var p9=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getOwnerTokenList(e,n,r=!1){const i="getAllRegisteredTokenList";if(!r){const d=this.getCacheData(i);if(d!==null)return d}const{modules:s}=this._sdk.sdkOptions.networkOptions,o=`${s.TokenDeployer}::coin_list`,a="fetch_full_list",c=new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(o,a,[],[ue.bcsToBytes(G.AccountAddress.fromHex(n))])),u=await yl(new en(this.sdk.sdkOptions.rpcUrl),e,c),l=this.transformTokenData(u.changes);return this.updateCache(i,l,wl),l}async getTokenListByCoinType(e,n=0,r=20){const{fraphQLUrl:i}=this._sdk.sdkOptions;if(!i)throw Error("The fraphQLUrl is not configured in the SDK");const s={query:`query MyQuery {
  coin_infos(
  limit: ${r}, offset: ${n},  order_by: {name: desc}, where: {  coin_type: {_regex: "${e}"}}
  ) {
    coin_type
    symbol
    name
    decimals
    creator_address
    coin_type_hash
  }
}
`,variables:null,operationName:"MyQuery"},o=await Ui.post(i,s),a=[];return o.data.data.coin_infos.forEach(c=>{a.push({address:c.coin_type,symbol:c.symbol,official_symbol:c.symbol,decimals:c.decimals,name:c.name,coingecko_id:"",project_url:"",logo_url:""})}),a}async getSpecifyTokenListByCache(e){const n="getAllRegisteredTokenList",r=this.getCacheData(n),i=[];if(r!==null){const s=r;for(const o of e)for(const a of s)if(o===a.address){i.push(a);continue}}return i}async getAllRegisteredTokenList(e,n=!1){const r="getAllRegisteredTokenList";if(!n){const d=this.getCacheData(r);if(d!==null)return d}const{modules:i}=this._sdk.sdkOptions.networkOptions,s=`${i.TokenDeployer}::coin_list`,o="fetch_all_registered_coin_info",a=new en(this.sdk.sdkOptions.rpcUrl),c=new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(s,o,[],[])),u=await yl(a,e,c),l=this.transformTokenData(u.changes);return this.updateCache(r,l,wl),l}transformTokenData(e){const n=[],{modules:r}=this._sdk.sdkOptions.networkOptions,i=e.filter(a=>a.type!=="write_resource"?!1:a.data.type===`${r.TokenDeployer}::coin_list::CoinList<${r.TokenDeployer}::coin_list::CoinInfo>`);if(i.length===0)return n;const o=i[0].data.data;return"full_list"in o&&o.full_list.value_list.forEach(a=>{const c={...a},u=a.extensions.data;for(const l of u){if(l.key==="labels")try{l.value=JSON.parse(decodeURIComponent(Ih.decode(l.value)))}catch{}c[l.key]=l.value}n.push(c)}),n}async getAllRegisteredPoolList(e,n=!1){const r="getAllRegisteredPoolList";if(!n){const d=this.getCacheData(r);if(d!==null)return d}const{modules:i}=this._sdk.sdkOptions.networkOptions,s=`${i.TokenDeployer}::lp_list`,o="fetch_all_registered_coin_info",a=new en(this.sdk.sdkOptions.rpcUrl),c=new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(s,o,[],[])),u=await yl(a,e,c),l=this.transformPoolData(u.changes);return this.updateCache(r,l,wl),l}async getOwnerPoolList(e,n,r=!1){const i="getAllRegisteredPoolList";if(!r){const d=this.getCacheData(i);if(d!==null)return d}const{modules:s}=this._sdk.sdkOptions.networkOptions,o=`${s.TokenDeployer}::lp_list`,a="fetch_full_list",c=new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(o,a,[],[ue.bcsToBytes(G.AccountAddress.fromHex(n))])),u=await yl(new en(this.sdk.sdkOptions.rpcUrl),e,c),l=this.transformPoolData(u.changes);return this.updateCache(i,l,wl),l}transformPoolData(e){const n=[],{modules:r}=this._sdk.sdkOptions.networkOptions,i=e.filter(a=>a.type!=="write_resource"?!1:a.data.type===`${r.TokenDeployer}::lp_list::PoolList<${r.TokenDeployer}::lp_list::PoolInfo>`);if(i.length===0)return n;const o=i[0].data.data;return"full_list"in o&&o.full_list.value_list.forEach(a=>{const c={...a},u=a.extensions.data;for(const l of u){if(l.key==="labels")try{l.value=JSON.parse(decodeURIComponent(Ih.decode(l.value)))}catch{}c[l.key]=l.value}n.push(c)}),n}async getOwnerWarpPoolList(e,n,r=!1){const i=await this.getOwnerTokenList(n,e,r),s=await this.getOwnerPoolList(n,e,r),o=[];for(const a of s){for(const c of i)c.address===a.coin_a_address&&(a.coinA=c),c.address===a.coin_b_address&&(a.coinB=c);o.push(a)}return o}async getWarpPoolList(e,n=!1){const r=await this.getAllRegisteredTokenList(e,n),i=await this.getAllRegisteredPoolList(e,n),s=[];for(const o of i){for(const a of r)a.address===o.coin_a_address&&(o.coinA=a),a.address===o.coin_b_address&&(o.coinB=a);s.push(o)}return s}updateCache(e,n,r=h9){let i=this._cache[e];i?(i.overdueTime=S1(r),i.value=n):i=new Zf(n,S1(r)),this._cache[e]=i}getCacheData(e){const n=this._cache[e];return n!==void 0&&n.getCacheData()?n.value:null}},g9=60,xn={maxAmountOut:Ne,path:[],isExceed:!1};function T1(t,e){return{pair:`${t.toUpperCase()}-${e.toUpperCase()}`,reversePair:`${e.toUpperCase()}-${t.toUpperCase()}`}}function y9(t,e,n,r){console.log("routerTable",t),console.log("feeRateArray",e),console.log("exceedTable",n);const i=t.length;if(!t.length)throw new Error("routerTable is empty");if(i!==e.length)throw new Error("routerTable length not equal to feeRateArray length");let s=r?Ne:new R(2).pow(new R(64)),o=[];const a=100/(t[0].length-1);switch(i){case 1:{s=t[0][t[0].length-1],n[0][n[0].length-1]||o.push({feeRate:e[0],percent:100});break}case 2:{for(let c=0;c<t[0].length;c+=1){const u=t[0].length-c-1,l=t[0][c].add(t[1][u]);if(l.gt(s)&&r||l.lt(s)&&!r)if(!n[0][c]&&!n[1][u])o=[],s=l,c>0&&o.push({feeRate:e[0],percent:c*a}),u>0&&o.push({feeRate:e[1],percent:u*a});else continue}break}case 3:{for(let c=0;c<t[0].length;c+=1)for(let u=0;u<t[0].length-c;u+=1){const l=t[0].length-c-u-1,d=t[0][c].add(t[1][u]).add(t[2][l]);if(d.gt(s)&&r||d.lt(s)&&!r){if(n[0][c]||n[1][u]||n[2][l])continue;o=[],s=d,c>0&&o.push({feeRate:e[0],percent:a*c}),u>0&&o.push({feeRate:e[1],percent:u*a}),l>0&&o.push({feeRate:e[2],percent:l*a})}}break}case 4:{for(let c=0;c<t[0].length;c+=1)for(let u=0;u<t[0].length-c;u+=1)for(let l=0;l<t[0].length-c-u;l+=1){const d=t[0].length-c-u-l-1,f=t[0][c].add(t[1][u]).add(t[2][l]).add(t[3][d]);if(f.gt(s)&&r||f.lt(s)&&!r){if(n[0][c]||n[1][u]||n[2][l]||n[3][d])continue;o=[],s=f,c>0&&o.push({feeRate:e[0],percent:a*c}),u>0&&o.push({feeRate:e[1],percent:u*a}),l>0&&o.push({feeRate:e[2],percent:l*a}),d>0&&o.push({feeRate:e[3],percent:d*a})}}break}}return o.length?{maxAmountOut:s,path:o,isExceed:!1}:{maxAmountOut:Ne,path:[],isExceed:!0}}var m9=class{constructor(e){this.priceProviders=[],this.pathProviders=[],this.coinProviders={coins:[]},this.graph=new b2,this._coinSymbolMap=new Map,this._coinAddressMap=new Map,this.poolAddressMap=new Map,this.poolMap=new Map,this.ticksMap=new Map,this._sdk=e,this.leastRefreshTime=Date.now(),this.createTxParams={partitionQuantities:[],swapDirects:[],poolAddresses:[],amounts:[],partner:"",coinTypes:[]},this.splitUnit=3,this.poolDirectionMap=new Map,this.getPoolAddressMapAndDirection=this.getPoolAddressMapAndDirection.bind(this),this.setCoinList=this.setCoinList.bind(this),this.loadGraph=this.loadGraph.bind(this),this.addCoinProvider=this.addCoinProvider.bind(this),this.addPathProvider=this.addPathProvider.bind(this),this.addPriceProvider=this.addPriceProvider.bind(this),this.splitSwap=this.splitSwap.bind(this),this.splitSwapForRouter=this.splitSwapForRouter.bind(this),this.splitSwapForRouters=this.splitSwapForRouters.bind(this),this.refreshPoolofSwapRouter=this.refreshPoolofSwapRouter.bind(this),this.getBestSplitResultInOnePair=this.getBestSplitResultInOnePair.bind(this),this.findBestSplitPriceWithOneSkip=this.findBestSplitPriceWithOneSkip.bind(this),this.findBestSplitPriceWithTwoSkip=this.findBestSplitPriceWithTwoSkip.bind(this),this.findBestSplitPriceWithThreeSkip=this.findBestSplitPriceWithThreeSkip.bind(this),this.findBestSplitPrice=this.findBestSplitPrice.bind(this)}get sdk(){return this._sdk}getPoolAddressMapAndDirection(e,n){const{pair:r,reversePair:i}=T1(e,n);let s=this.poolAddressMap.get(r);if(s)return{addressMap:s,direction:!0};if(s=this.poolAddressMap.get(i),s)return{addressMap:s,direction:!1}}async setCoinList(){this.coinProviders.coins.forEach(e=>{this._coinSymbolMap.set(e.symbol,e),this._coinAddressMap.set(e.address,e)})}loadGraph(){return this.pathProviders.forEach(e=>{const{paths:n}=e;n.forEach(r=>{var i,s;const o=(i=this.graph.getVertexByKey(r.base))!=null?i:new vd(r.base),a=(s=this.graph.getVertexByKey(r.quote))!=null?s:new vd(r.quote);this.graph.addEdge(new _2(o,a));const c=this._coinSymbolMap.get(r.base),u=this._coinSymbolMap.get(r.quote);if(c!=null&&u!=null){const l=T1(r.base,r.quote).pair;this.poolAddressMap.set(l,r.addressMap)}})}),this}addPathProvider(e){return this.pathProviders.push(e),this}addPriceProvider(e){return this.priceProviders.push(e),this}addCoinProvider(e){return this.coinProviders=e,this}tokenInfo(e){return this._coinAddressMap.has(e)?this._coinAddressMap.get(e):this._coinSymbolMap.get(e)}getCreateTxParams(){return this.createTxParams}isPoolDirectionSet(e){return this.poolDirectionMap.get(e)!=null}getPoolDirection(e){if(this.isPoolDirectionSet(e))return this.poolDirectionMap.get(e)}setPoolDirection(e,n){this.poolDirectionMap.set(e,n)}getBestSplitResultInOnePair(e,n,r,i,s){if(r.eq(Ne))return{maxAmountOut:Ne,path:[],isExceed:!1};const o=[],a=[],c=[],u=this.getPoolAddressMapAndDirection(e,n),l=u==null?void 0:u.addressMap;return l&&l.forEach((d,f)=>{console.log(d,f);const p=this.poolMap.get(d),w=this.ticksMap.get(d),m=this.poolDirectionMap.get(d),v=m!=null?i&&m:i,k=new u9(r,0,p,v,s,w);k.computeSwap();const E=k.getSplitSwapResult();s?o.push(E.amountOutArray):o.push(E.amountInArray),c.push(E.isExceed),a.push(f)}),y9(o.slice(0,4),a.slice(0,4),c.slice(0,4),s)}findBestSplitPriceWithOneSkip(e,n,r,i,s){const o={maxAmountOut:new R(0),path:[],poolAddresses:[],amounts:[],isExceed:!1},a=[],c=[],u=[];if(!s){let f=xn,p=xn;if(i){if(f=this.getBestSplitResultInOnePair(e[0][0],e[0][1],n,r[0][0],i),f.isExceed||(p=this.getBestSplitResultInOnePair(e[0][2],e[0][3],f.maxAmountOut,r[0][1],i),p.isExceed))return o.isExceed=!0,o;o.maxAmountOut=p.maxAmountOut}else{if(p=this.getBestSplitResultInOnePair(e[0][2],e[0][3],n,r[0][1],i),p.isExceed||(f=this.getBestSplitResultInOnePair(e[0][0],e[0][1],p.maxAmountOut,r[0][0],i),f.isExceed))return o.isExceed=!0,o;o.maxAmountOut=f.maxAmountOut}a.push(f.path),a.push([]),a.push(p.path);const w=[],m=[];f.path.forEach(E=>{var b;i?w.push(n.muln(E.percent).divn(100).toString()):w.push(p.maxAmountOut.muln(E.percent).divn(100).toString());const x=(b=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:b.addressMap.get(E.feeRate);m.push(x)});const v=[],k=[];return p.path.forEach(E=>{var b;i?v.push(f.maxAmountOut.muln(E.percent).divn(100).toString()):v.push(n.muln(E.percent).divn(100).toString());const x=(b=this.getPoolAddressMapAndDirection(e[0][2],e[0][3]))==null?void 0:b.addressMap.get(E.feeRate);k.push(x)}),c.push(w),c.push([]),c.push(v),u.push(m),u.push([]),u.push(k),o.amounts=c,o.path=a,o.poolAddresses=u,i?o.maxAmountOut=p.maxAmountOut:o.maxAmountOut=f.maxAmountOut,o}let l=Ne;i||(l=new R(2).pow(new R(64)));const d=ed(n,this.splitUnit);for(let f=0;f<d.length;f+=1){const p=this.getBestSplitResultInOnePair(e[0][0],e[0][1],d[f],r[0][0],i);if(p.isExceed)continue;let w=xn,m=xn;if(i){if(w=this.getBestSplitResultInOnePair(e[1][0],e[1][1],d[d.length-f],r[1][0],i),w.isExceed||(m=this.getBestSplitResultInOnePair(e[1][2],e[1][3],w.maxAmountOut,r[1][1],i),m.isExceed))continue}else if(m=this.getBestSplitResultInOnePair(e[1][2],e[1][3],d[d.length-f],r[1][1],i),m.isExceed||(w=this.getBestSplitResultInOnePair(e[1][0],e[1][1],m.maxAmountOut,r[1][0],i),w.isExceed))continue;const v=[],k=[];p.path.forEach(J=>{var Z;v.push(n.muln(J.percent).divn(100).toString());const U=(Z=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:Z.addressMap.get(J.feeRate);k.push(U)});const E=[],b=[];w.path.forEach(J=>{var Z;i?E.push(n.muln(J.percent).divn(100).toString()):E.push(m.maxAmountOut.muln(J.percent).divn(100).toString());const U=(Z=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:Z.addressMap.get(J.feeRate);b.push(U)});const x=[],T=[];m.path.forEach(J=>{var Z;i?x.push(w.maxAmountOut.muln(J.percent).divn(100).toString()):x.push(n.muln(J.percent).divn(100).toString()),x.push(w.maxAmountOut.muln(J.percent).divn(100).toString());const U=(Z=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:Z.addressMap.get(J.feeRate);T.push(U)});const $=[],L=[],z=[];(m.maxAmountOut.add(p.maxAmountOut).gt(l)||w.maxAmountOut.add(p.maxAmountOut).lt(l))&&(i?l=m.maxAmountOut.add(p.maxAmountOut):l=w.maxAmountOut.add(p.maxAmountOut),$.push(w.path),$.push(p.path),$.push(m.path),L.push(E),L.push(v),L.push(x),z.push(b),z.push(k),z.push(T),o.maxAmountOut=l,o.path=$,o.amounts=L,o.poolAddresses=z)}return a.length||(o.isExceed=!0),o}findBestSplitPriceWithTwoSkip(e,n,r,i,s){console.log("hasDirectedRouter",s);const o={maxAmountOut:new R(0),path:[],amounts:[],poolAddresses:[],isExceed:!1},a=ed(n,this.splitUnit);let c=Ne;if(i||(c=new R(2).pow(new R(64))),!s){for(let u=0;u<a.length;u+=1){let l=xn,d=xn,f=xn,p=xn;if(i){if(l=this.getBestSplitResultInOnePair(e[0][0],e[0][1],a[a.length-u],r[1][0],i),l.isExceed||(d=this.getBestSplitResultInOnePair(e[0][2],e[0][3],l.maxAmountOut,r[1][1],i),d.isExceed)||(f=this.getBestSplitResultInOnePair(e[1][0],e[1][1],a[a.length-u],r[1][0],i),f.isExceed)||(p=this.getBestSplitResultInOnePair(e[1][2],e[1][3],f.maxAmountOut,r[1][1],i),p.isExceed))continue}else if(d=this.getBestSplitResultInOnePair(e[0][2],e[0][3],a[a.length-u],r[1][1],i),d.isExceed||(l=this.getBestSplitResultInOnePair(e[0][0],e[0][1],d.maxAmountOut,r[1][0],i),l.isExceed)||(p=this.getBestSplitResultInOnePair(e[1][2],e[1][3],a[a.length-u],r[1][1],i),p.isExceed)||(f=this.getBestSplitResultInOnePair(e[1][0],e[1][1],p.maxAmountOut,r[1][0],i),f.isExceed))continue;const w=[];l.path.forEach(b=>{var x;i?w.push(n.muln(b.percent).divn(100).toString()):w.push(d.maxAmountOut.muln(b.percent).divn(100).toString()),(x=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null||x.addressMap.get(b.feeRate)});const m=[];d.path.forEach(b=>{var x;i?m.push(l.maxAmountOut.muln(b.percent).divn(100).toString()):m.push(n.muln(b.percent).divn(100).toString()),(x=this.getPoolAddressMapAndDirection(e[0][2],e[0][3]))==null||x.addressMap.get(b.feeRate)});const v=[];f.path.forEach(b=>{var x;i?v.push(n.muln(b.percent).divn(100).toString()):v.push(p.maxAmountOut.muln(b.percent).divn(100).toString()),(x=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null||x.addressMap.get(b.feeRate)});const k=[];p.path.forEach(b=>{var x;i?k.push(f.maxAmountOut.muln(b.percent).divn(100).toString()):k.push(n.muln(b.percent).divn(100).toString()),(x=this.getPoolAddressMapAndDirection(e[1][1],e[1][2]))==null||x.addressMap.get(b.feeRate)});const E=[];(d.maxAmountOut.add(p.maxAmountOut).gt(c)&&i||!i&&l.maxAmountOut.add(f.maxAmountOut).lt(c))&&(i?c=d.maxAmountOut.add(p.maxAmountOut):c=l.maxAmountOut.add(f.maxAmountOut),E.push(l.path),E.push(d.path),E.push([]),E.push(f.path),E.push(p.path),o.maxAmountOut=c,o.path=E)}return console.log("result",o),o.path.length||(o.isExceed=!0),o}for(let u=0;u<a.length;u+=1)for(let l=0;l<a.length-u-1;l+=1){const d=a.length-u-l-1,f=this.getBestSplitResultInOnePair(e[0][0],e[0][1],a[d],r[0][0],i);if(f.isExceed)continue;let p=xn,w=xn,m=xn,v=xn;if(i){if(p=this.getBestSplitResultInOnePair(e[1][0],e[1][1],a[l],r[1][0],i),p.isExceed||(w=this.getBestSplitResultInOnePair(e[1][2],e[1][3],p.maxAmountOut,r[1][1],i),w.isExceed)||(m=this.getBestSplitResultInOnePair(e[2][0],e[2][1],a[u],r[2][0],i),m.isExceed)||(v=this.getBestSplitResultInOnePair(e[2][2],e[2][3],m.maxAmountOut,r[2][1],i),v.isExceed))continue}else if(w=this.getBestSplitResultInOnePair(e[1][2],e[1][3],a[l],r[1][1],i),w.isExceed||(p=this.getBestSplitResultInOnePair(e[1][0],e[1][1],w.maxAmountOut,r[1][0],i),p.isExceed)||(v=this.getBestSplitResultInOnePair(e[2][2],e[2][3],v.maxAmountOut,r[2][1],i),v.isExceed)||(m=this.getBestSplitResultInOnePair(e[2][0],e[2][1],a[u],r[2][0],i),m.isExceed))continue;const k=[],E=[];p.path.forEach(g=>{var S;i?k.push(n.muln(g.percent).divn(100).toString()):k.push(w.maxAmountOut.muln(g.percent).divn(100).toString());const I=(S=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:S.addressMap.get(g.feeRate);E.push(I)});const b=[],x=[];w.path.forEach(g=>{var S;i?b.push(p.maxAmountOut.muln(g.percent).divn(100).toString()):b.push(n.muln(g.percent).divn(100).toString());const I=(S=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:S.addressMap.get(g.feeRate);x.push(I)});const T=[],$=[];m.path.forEach(g=>{var S;i?T.push(n.muln(g.percent).divn(100).toString()):T.push(v.maxAmountOut.muln(g.percent).divn(100).toString());const I=(S=this.getPoolAddressMapAndDirection(e[2][0],e[2][1]))==null?void 0:S.addressMap.get(g.feeRate);$.push(I)});const L=[],z=[];v.path.forEach(g=>{var S;i?L.push(m.maxAmountOut.muln(g.percent).divn(100).toString()):L.push(n.muln(g.percent).divn(100).toString());const I=(S=this.getPoolAddressMapAndDirection(e[2][2],e[2][3]))==null?void 0:S.addressMap.get(g.feeRate);z.push(I)});const J=[],Z=[];f.path.forEach(g=>{var S;J.push(n.muln(g.percent).divn(100).toString());const I=(S=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:S.addressMap.get(g.feeRate);Z.push(I)});let U=Ne;i?U=f.maxAmountOut.add(w.maxAmountOut).add(v.maxAmountOut):U=f.maxAmountOut.add(p.maxAmountOut).add(m.maxAmountOut);const D=[],B=[],h=[];(U.gt(c)&&i||U.lt(c)&&!i)&&(c=U,D.push(p.path),D.push(m.path),D.push(f.path),D.push(w.path),D.push(v.path),B.push(k),B.push(T),B.push(J),B.push(b),B.push(L),h.push(E),h.push($),h.push(Z),h.push(x),h.push(z),o.maxAmountOut=U,o.path=D,o.amounts=B,o.poolAddresses=h)}return console.log("result",o),o.path.length||(o.isExceed=!0),o}findBestSplitPriceWithThreeSkip(e,n,r,i,s){const o={maxAmountOut:new R(0),path:[],amounts:[],poolAddresses:[],isExceed:!1};let a=Ne;i||(a=new R(2).pow(new R(64)));const c=ed(n,this.splitUnit);for(let u=0;u<c.length;u+=1)for(let l=0;l<c.length-u-1;l+=1)if(s){const f=c.length-u-l-1,p=this.getBestSplitResultInOnePair(e[0][0],e[0][1],c[0],r[0][0],i);let w=xn,m=xn,v=xn,k=xn,E=xn,b=xn;if(i){if(w=this.getBestSplitResultInOnePair(e[1][0],e[1][1],c[l],r[1][0],i),w.isExceed||(m=this.getBestSplitResultInOnePair(e[1][2],e[1][3],w.maxAmountOut,r[1][1],i),m.isExceed)||(v=this.getBestSplitResultInOnePair(e[2][0],e[2][1],c[u],r[2][0],i),v.isExceed)||(k=this.getBestSplitResultInOnePair(e[2][2],e[2][3],v.maxAmountOut,r[2][1],i),k.isExceed)||(E=this.getBestSplitResultInOnePair(e[3][0],e[3][1],c[f],r[3][0],i),E.isExceed)||(b=this.getBestSplitResultInOnePair(e[3][2],e[3][3],v.maxAmountOut,r[3][1],i),b.isExceed))continue}else if(m=this.getBestSplitResultInOnePair(e[1][2],e[1][3],c[l],r[1][1],i),m.isExceed||(w=this.getBestSplitResultInOnePair(e[1][0],e[1][1],m.maxAmountOut,r[1][0],i),w.isExceed)||(k=this.getBestSplitResultInOnePair(e[2][2],e[2][3],c[u],r[2][1],i),k.isExceed)||(v=this.getBestSplitResultInOnePair(e[2][0],e[2][1],k.maxAmountOut,r[2][0],i),v.isExceed)||(b=this.getBestSplitResultInOnePair(e[3][2],e[3][3],c[f],r[3][1],i),b.isExceed)||(E=this.getBestSplitResultInOnePair(e[3][0],e[3][1],k.maxAmountOut,r[3][0],i),E.isExceed))continue;const x=[],T=[];w.path.forEach(_=>{var q;i?x.push(n.muln(_.percent).divn(100).toString()):x.push(m.maxAmountOut.muln(_.percent).divn(100).toString());const ye=(q=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:q.addressMap.get(_.feeRate);T.push(ye)});const $=[],L=[];m.path.forEach(_=>{var q;i?$.push(w.maxAmountOut.muln(_.percent).divn(100).toString()):$.push(n.muln(_.percent).divn(100).toString());const ye=(q=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:q.addressMap.get(_.feeRate);L.push(ye)});const z=[],J=[];v.path.forEach(_=>{var q;i?z.push(n.muln(_.percent).divn(100).toString()):z.push(k.maxAmountOut.muln(_.percent).divn(100).toString());const ye=(q=this.getPoolAddressMapAndDirection(e[2][0],e[2][1]))==null?void 0:q.addressMap.get(_.feeRate);J.push(ye)});const Z=[],U=[];k.path.forEach(_=>{var q;i?Z.push(v.maxAmountOut.muln(_.percent).divn(100).toString()):Z.push(n.muln(_.percent).divn(100).toString());const ye=(q=this.getPoolAddressMapAndDirection(e[2][2],e[2][3]))==null?void 0:q.addressMap.get(_.feeRate);U.push(ye)});const D=[],B=[];E.path.forEach(_=>{var q;i?D.push(n.muln(_.percent).divn(100).toString()):D.push(b.maxAmountOut.muln(_.percent).divn(100).toString());const ye=(q=this.getPoolAddressMapAndDirection(e[3][0],e[3][1]))==null?void 0:q.addressMap.get(_.feeRate);B.push(ye)});const h=[],g=[];b.path.forEach(_=>{var q;i?h.push(E.maxAmountOut.muln(_.percent).divn(100).toString()):h.push(n.muln(_.percent).divn(100).toString());const ye=(q=this.getPoolAddressMapAndDirection(e[3][2],e[3][3]))==null?void 0:q.addressMap.get(_.feeRate);g.push(ye)});const S=[],I=[];p.path.forEach(_=>{var q;S.push(n.muln(_.percent).divn(100).toString());const ye=(q=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:q.addressMap.get(_.feeRate);I.push(ye)});const N=[],H=[],X=[];let O=Ne;i?O=m.maxAmountOut.add(k.maxAmountOut).add(b.maxAmountOut):O=w.maxAmountOut.add(v.maxAmountOut).add(E.maxAmountOut),(O.gt(a)&&i||O.lt(a)&&!i)&&(a=O,N.push(w.path),N.push(v.path),N.push(E.path),N.push(p.path),N.push(m.path),N.push(k.path),N.push(b.path),H.push(x),H.push(z),H.push(D),H.push(S),H.push($),H.push(Z),H.push(h),X.push(T),X.push(J),X.push(B),X.push(I),X.push(L),X.push(U),X.push(g),o.maxAmountOut=O,o.path=N,o.amounts=H,o.poolAddresses=X)}else for(let d=0;d<c.length-u-l-1;d+=1){const f=c.length-u-l-d-1,p=this.getBestSplitResultInOnePair(e[0][0],e[0][1],c[d],r[0][0],i);let w=xn,m=xn,v=xn,k=xn,E=xn,b=xn;if(i){if(w=this.getBestSplitResultInOnePair(e[1][0],e[1][1],c[l],r[1][0],i),w.isExceed||(m=this.getBestSplitResultInOnePair(e[1][2],e[1][3],w.maxAmountOut,r[1][1],i),m.isExceed)||(v=this.getBestSplitResultInOnePair(e[2][0],e[2][1],c[u],r[2][0],i),v.isExceed)||(k=this.getBestSplitResultInOnePair(e[2][2],e[2][3],v.maxAmountOut,r[2][1],i),k.isExceed)||(E=this.getBestSplitResultInOnePair(e[3][0],e[3][1],c[f],r[3][0],i),E.isExceed)||(b=this.getBestSplitResultInOnePair(e[3][2],e[3][3],v.maxAmountOut,r[3][1],i),b.isExceed))continue}else if(m=this.getBestSplitResultInOnePair(e[1][2],e[1][3],c[l],r[1][1],i),m.isExceed||(w=this.getBestSplitResultInOnePair(e[1][0],e[1][1],m.maxAmountOut,r[1][0],i),w.isExceed)||(k=this.getBestSplitResultInOnePair(e[2][2],e[2][3],c[u],r[2][1],i),k.isExceed)||(v=this.getBestSplitResultInOnePair(e[2][0],e[2][1],k.maxAmountOut,r[2][0],i),v.isExceed)||(b=this.getBestSplitResultInOnePair(e[3][2],e[3][3],c[f],r[3][1],i),b.isExceed)||(E=this.getBestSplitResultInOnePair(e[3][0],e[3][1],k.maxAmountOut,r[3][0],i),E.isExceed))continue;const x=[],T=[];w.path.forEach(X=>{var O;i?x.push(n.muln(X.percent).divn(100).toString()):x.push(m.maxAmountOut.muln(X.percent).divn(100).toString());const _=(O=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:O.addressMap.get(X.feeRate);T.push(_)});const $=[],L=[];m.path.forEach(X=>{var O;i?$.push(w.maxAmountOut.muln(X.percent).divn(100).toString()):$.push(n.muln(X.percent).divn(100).toString());const _=(O=this.getPoolAddressMapAndDirection(e[0][2],e[0][3]))==null?void 0:O.addressMap.get(X.feeRate);L.push(_)});const z=[],J=[];v.path.forEach(X=>{var O;i?z.push(n.muln(X.percent).divn(100).toString()):z.push(k.maxAmountOut.muln(X.percent).divn(100).toString());const _=(O=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:O.addressMap.get(X.feeRate);J.push(_)});const Z=[],U=[];k.path.forEach(X=>{var O;i?Z.push(v.maxAmountOut.muln(X.percent).divn(100).toString()):Z.push(n.muln(X.percent).divn(100).toString());const _=(O=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:O.addressMap.get(X.feeRate);U.push(_)});const D=[],B=[];E.path.forEach(X=>{var O;i?D.push(n.muln(X.percent).divn(100).toString()):D.push(b.maxAmountOut.muln(X.percent).divn(100).toString());const _=(O=this.getPoolAddressMapAndDirection(e[2][0],e[2][1]))==null?void 0:O.addressMap.get(X.feeRate);B.push(_)});const h=[],g=[];b.path.forEach(X=>{var O;i?h.push(E.maxAmountOut.muln(X.percent).divn(100).toString()):h.push(n.muln(X.percent).divn(100).toString());const _=(O=this.getPoolAddressMapAndDirection(e[2][2],e[2][3]))==null?void 0:O.addressMap.get(X.feeRate);g.push(_)});let S=Ne;i?S=p.maxAmountOut.add(m.maxAmountOut).add(k.maxAmountOut).add(b.maxAmountOut):S=p.maxAmountOut.add(w.maxAmountOut).add(v.maxAmountOut).add(E.maxAmountOut);const I=[],N=[],H=[];(S.gt(a)&&i||!i&&S.lt(a))&&(a=S,I.push(w.path),I.push(v.path),I.push(E.path),I.push(p.path),I.push(m.path),I.push(k.path),I.push(b.path),N.push(x),N.push($),N.push(z),N.push([]),N.push(Z),N.push(D),N.push(h),H.push(T),H.push(L),H.push(J),H.push([]),H.push(U),H.push(B),H.push(g),o.maxAmountOut=S,o.path=I,o.amounts=N,o.poolAddresses=H)}return o.path.length||(o.isExceed=!0),o}findBestSplitPrice(e,n,r,i,s){var o,a,c,u;let l=e.length,d=!1;e[0].length===2&&(d=!0,l-=1);let f={maxAmountOut:Ne,path:[],poolAddresses:[],amounts:[],isExceed:!1},p={maxAmountOut:Ne,path:[],isExceed:!1};const w=[],m=[];switch(console.log("skipNumber",l),l){case 0:p=this.getBestSplitResultInOnePair(e[0][0],e[0][1],n,r[0][0],i),f.maxAmountOut=p.maxAmountOut,f.path.push(p.path),p.path.forEach(T=>{var $;const L=($=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:$.addressMap.get(T.feeRate);w.push(L);const z=n.muln(T.percent).divn(100).toString();m.push(z)}),f.amounts.push(m),f.poolAddresses.push(w);break;case 1:f=this.findBestSplitPriceWithOneSkip(e,n,r,i,d);break;case 2:f=this.findBestSplitPriceWithTwoSkip(e,n,r,i,d);break;case 3:f=this.findBestSplitPriceWithThreeSkip(e,n,r,i,d);break}if(f.isExceed)return f;const v=[];for(let T=0;T<f.path.length;T+=1){const{length:$}=f.path[T];v.push($)}const k=[];for(let T=0;T<r.length;T+=1){const{length:$}=r[T];$!==1&&k.push(r[T][0])}for(let T=0;T<r.length;T+=1){const{length:$}=r[T];$===1&&k.push(r[T][0])}for(let T=0;T<r.length;T+=1){const{length:$}=r[T];$!==1&&k.push(r[T][1])}const E=[];k.forEach((T,$)=>{const L=[];for(let z=0;z<v[$];z+=1)L.push(T);E.push(L)});for(let T=0;T<f.poolAddresses.length;T+=1)for(let $=0;$<f.poolAddresses[T].length;$+=1){const L=this.getPoolDirection(f.poolAddresses[T][$]);L&&(E[T][$]=E[T][$]&&L)}const b=[],x=(o=this._coinSymbolMap.get(e[0][0]))==null?void 0:o.address;b.push(x);for(let T=0;T<e.length;T+=1)if(e[T].length!==2){const $=(a=this._coinSymbolMap.get(e[T][1]))==null?void 0:a.address;b.push($)}if(e[0].length===2){const T=(c=this._coinSymbolMap.get(e[0][1]))==null?void 0:c.address;b.push(T)}else{const T=(u=this._coinSymbolMap.get(e[0][e[0].length-1]))==null?void 0:u.address;b.push(T)}return this.createTxParams={partitionQuantities:v,swapDirects:E,poolAddresses:f.poolAddresses,amounts:f.amounts,partner:s,coinTypes:b},console.log("🚀 ~ file: routerModule.ts:789 ~ RouterModule ~ this.createTxParams:",this.createTxParams),f}async price(e,n,r,i,s){var o,a;const c=this.tokenInfo(e),u=this.tokenInfo(n);if(c===void 0||u===void 0)return;const l=this.graph.getVertexByKey(c.symbol),d=this.graph.getVertexByKey(u.symbol),f=this.graph.findAllPath(l,d),p=Array.from(f);console.log("🚀 ~ file: routerModule.ts:803 ~ RouterModule ~ price ~ allPaths:",p);const w=[],m=[],v=[];for(let k=0;k<p.length;k+=1){const E=p[k];if(E.length>3)continue;const b=[],x=[];for(let T=0;T<E.length-1;T+=1){const $=E[T].value.toString(),L=E[T+1].value.toString(),z=(o=this.getPoolAddressMapAndDirection($,L))==null?void 0:o.addressMap,J=(a=this.getPoolAddressMapAndDirection($,L))==null?void 0:a.direction;z!==void 0&&J!==void 0&&(x.push(J),b.push($),b.push(L),z.forEach(Z=>{w.push(Z)}))}if(v.push(x),m.push(b),b.length===2&&m.length>1){const T=m[0].slice();m[0]=b,m[m.length-1]=T;const $=v[0].slice();v[0]=x,v[m.length-1]=$}}return await this.refreshPoolofSwapRouter(w),this.findBestSplitPrice(m,r,v,i,s)}splitSwap(e,n,r=!1){const{modules:i}=this.sdk.sdkOptions.networkOptions,s=`${i.ClmmIntegrate}::${Ph}`,o=n?"exact_input_split_swap":"exact_output_split_swap";if(console.log({funcName:o}),r){const l=[];for(const p of e.coinTypes){const w=new G.TypeTagStruct(G.StructTag.fromString(p));l.push(w)}const d=[];e.poolAddresses.forEach(p=>{const w=[];p.forEach(m=>{w.push(G.AccountAddress.fromHex(m))}),d.push(w)});const f=[ue.bcsSerializeUint64(e.partitionQuantities[0]),ue.serializeVectorWithFunc(e.swapDirects[0],"serializeBool"),n9(d[0]),ue.serializeVectorWithFunc(e.amounts[0],"serializeU64"),ue.bcsSerializeStr(e.partner)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(s,o,l,f))}const a=ft(s,o),c=e.coinTypes,u=[e.partitionQuantities[0].toString(),e.swapDirects[0].toString(),e.poolAddresses[0].toString(),e.amounts[0].toString(),e.partner.toString()];return{type:"entry_function_payload",function:a,type_arguments:c,arguments:u}}splitSwapForRouter(e,n,r=!1){const{modules:i}=this.sdk.sdkOptions.networkOptions,s=`${i.ClmmIntegrate}::${Ph}`;if(r){const u=[];for(const f of e.coinTypes){const p=new G.TypeTagStruct(G.StructTag.fromString(f));u.push(p)}const l=[];e.poolAddresses.forEach(f=>{const p=[];f.forEach(w=>{p.push(G.AccountAddress.fromHex(w))}),l.push(p)});const d=[ue.serializeVectorWithFunc(e.partitionQuantities,"serializeU64"),v1(e.swapDirects,"serializeBool"),t9(l),v1(e.amounts,"serializeU64"),ue.bcsSerializeStr(e.partner)];return new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(s,n,u,d))}const o=ft(s,n),a=e.coinTypes,c=[e.partitionQuantities.toString(),e.swapDirects.toString(),e.poolAddresses.toString(),e.amounts.toString(),e.partner.toString()];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}splitSwapForRouters(e,n,r=!1){const{length:i}=e.partitionQuantities;let s;switch(i){case 3:n?s="exact_input_split_swap_for_router_three":s="exact_output_split_swap_for_router_three";break;case 5:n?s="exact_input_split_swap_for_router_four":s="exact_output_split_swap_for_router_four";break;case 7:n?s="exact_input_split_swap_for_router_five":s="exact_output_split_swap_for_router_five";break;default:return this.splitSwap(e,n,r)}return this.splitSwapForRouter(e,s,r)}async refreshPoolofSwapRouter(e){if(Date.now()-this.leastRefreshTime<g9)return;const r=[];for(let i=0;i<e.length;i+=1){const s=await this._sdk.Resources.getPool(e[i]);r.push(s)}for(let i=0;i<e.length;i+=1){const s=v2(r[i]);if(this.poolMap.set(e[i],s),this.getPoolDirection(e[i])==null){const c=this.getPoolAddressMapAndDirection(s.coinA,s.coinB);c&&this.poolDirectionMap.set(e[i],c.direction)}const o=await this._sdk.Fetcher.fetchTicks({pool:e[i],coinTypeA:r[i].coinTypeA,coinTypeB:r[i].coinTypeB}),a=B2(o);this.ticksMap.set(e[i],a)}}},w9=class{constructor(t){this._sdk=t}get sdk(){return this._sdk}transformTickData(t){const e=[],{modules:n}=this._sdk.sdkOptions.networkOptions,r=t.filter(o=>o.type!=="write_resource"?!1:o.data.type===`${n.FetcherDeployer}::fetcher::FetchTicksResult`);if(r.length===0)return{ticks:e,index:0,offset:0};const s=r[0].data.data;return{ticks:s.ticks||[],index:Number(s.index),offset:Number(s.offset)}}async getTicks(t){const{modules:e,simulationAccount:n}=this.sdk.sdkOptions.networkOptions,r=new en(this.sdk.sdkOptions.rpcUrl),i=`${e.FetcherDeployer}::scripts`,s="fetch_ticks",o=[new G.TypeTagStruct(G.StructTag.fromString(t.coinTypeA)),new G.TypeTagStruct(G.StructTag.fromString(t.coinTypeB))],a=[ue.bcsToBytes(G.AccountAddress.fromHex(t.pool)),ue.bcsSerializeUint64(t.index),ue.bcsSerializeUint64(t.offset),ue.bcsSerializeUint64(t.limit)],c=new G.TransactionPayloadEntryFunction(G.EntryFunction.natural(i,s,o,a)),u=gd(n.address),l=await r.generateRawTransaction(u,c),d=gd(n.pubkey),f=new G.Ed25519PublicKey(d.toUint8Array()),p=await r.simulateTransaction(f,l);return this.transformTickData(p[0].changes)}async fetchTicks(t){let e=[],n=0,r=0;const i=512;for(;;){const s=await this.getTicks({pool:t.pool,coinTypeA:t.coinTypeA,coinTypeB:t.coinTypeB,index:n,offset:r,limit:i});if(e=[...e,...s.ticks],s.ticks.length<i)break;s.offset<999?(r=s.offset+1,n=s.index):(n=s.index+1,r=0)}return e}},_9=class{constructor(t){this.globalConfig={protocol_fee_rate:"",is_pause:!1},this._sdkOptions=t,this._client=new en(t.rpcUrl),this._tokenClient=new V7(this._client),this._swap=new LB(this),this._position=new HB(this),this._resources=new GB(this),this._pool=new VB(this),this._rewarder=new f9(this),this._router=new m9(this),this._token=new p9(this),this._fetcher=new w9(this),this._launchpad=new i9(this),this.globalConfig.protocol_fee_rate=""}async getGlobalConfig(t=!1){return(this.globalConfig.protocol_fee_rate.length===0||t)&&(this.globalConfig=await this._resources.getGlobalConfig(this._sdkOptions.networkOptions.modules.LiquidswapDeployer)),this.globalConfig}get client(){return this._client}get tokenClient(){return this._tokenClient}get Swap(){return this._swap}get Position(){return this._position}get Pool(){return this._pool}get Resources(){return this._resources}get Rewarder(){return this._rewarder}get Token(){return this._token}get Router(){return this._router}get Fetcher(){return this._fetcher}get Launchpad(){return this._launchpad}get sdkOptions(){return this._sdkOptions}};function xr(t,e){const n=P2(e);return gt(t).div(n).toString()}function Sr(t,e){const n=P2(e);return gt(t).mul(n)}function C2(t){const e=t.split("x");let n=t;return e[1][0]==="0"&&(n=e[0]+"x"+e[1].slice(1)),n}const b9=(t,e,n=!0)=>{if(`${t}`=="0")return!parseFloat(e)||!n?0:"0.".padEnd(e+2,"0");if(!t)return"--";const r=parseFloat(t),i=t.toString(),s=r<0;let o=i;if(i.toLowerCase().includes("e")){const a=i.match(/(\d+?)(?:\.(\d*))?e([+-])(\d+)/),c=a[1],u=a[2],l=a[3],d=a[4];let f="",p=u?u.substr(d):"";if(p&&(p=`.${p}`),l!=="-"){for(let w=0;w<d;w+=1){const m=u[w]||"0";f+=m}o=c+f+p}else{let w="0";for(let m=0;m<d;m+=1)f=(c[c.length-m-1]||"0")+f;c.length>d&&(w=c.substr(0,c.length-d)),o=`${w}.${f}${u}`}}if(e&&n){let a=`${o.split(".")[0]}.`;const c=o.split(".")[1]||"";for(let u=0;u<e;u+=1)a+=c[u]||"0";o=a}if(o.length>14){const a=o.split(".");a[0].length>14?o=`${a[0].slice(0,14)}+`:(o=o.slice(0,13),o.indexOf(".")===12&&(o=o.slice(0,12)))}return`${s?"-":""}${o}`};function dn(t,e){if(e=e>-1?e:0,`${t}`=="0")return parseFloat(e)?"0.".padEnd(e+2,"0"):"0";if(!t)return"--";let n=!1;parseFloat(t)<0&&(n=!0);const r=`${Math.abs(parseFloat(t))}`;if(r==="NaN")return"--";let i=r;if(r.toLowerCase().includes("e")){if(r.toLowerCase().includes("+"))return b9(r,e);const o=r.toLowerCase().split("e");let a=o[0];const c=Math.abs(parseFloat(o[1]));let u="",l=a.length,d;for(o[0].split(".")[1]&&(a=o[0].split(".")[0]+o[0].split(".")[1],l=o[0].split(".")[0].length),d=0;d<c-l;d+=1)u+="0";i=`0.${u}${a}`}if(`${e}`!="0"&&!e||`${parseFloat(t)}`=="NaN")return(n?"-":"")+i;const s=i.split(".");if(e===0)i=parseInt(i,10);else if(e>0&&s[1])if(s[1].length>e)if(s[1].includes("999999999")){const o=parseFloat(i).toFixed(e+1);i=o.slice(0,o.length-1)}else i=`${s[0]}.${s[1].slice(0,e)}`;else i=parseFloat(i).toFixed(e);else i=parseFloat(i).toFixed(e);if(i.length>=14&&i.includes(".")){const o=i.split(".");o[0].length>14?i=`${o[0].slice(0,14)}+`:(i=i.slice(0,13),i.indexOf(".")===12&&(i=i.slice(0,12)))}return(n?"-":"")+i}function yH(t,e){const n=String(t);if(!n.includes("."))return n;const r=n.split("."),i=r[0],s=r[1].slice(0,e);return ba(s)?`${i}.${ba(s)}`:`${i}`}function ba(t){return t.replace(/(\s|0|\.)+$/g,"")}function Qs(t,e){if(typeof t=="number"&&isNaN(t)||!Number(t))return 0;if(!String(t).includes("."))return t;const n=String(t).split(".");if(n[1]&&n[1].length<=e&&Number(n[1]))return t;const r=Math.pow(10,-e);if(Number(t)<r)return n[1]&&ba(n[1])?n[0]+"."+ba(n[1]):n[0];const i=dn(t,e),s=String(i).split(".");return i==="--"?"--":s[1]&&ba(String(s[1]))?s[0]+"."+ba(String(s[1])):s[0]}const v9=(t,e)=>isNaN(t)||!t?t:(t=String(t),Number(t)==0?0:isNaN(e)?t.replace(/^\d+/,n=>n.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")):(e===0&&(t=t.split(".")[0]),t.replace(/(\d+)(\.\d+)?/,(n,r,i)=>r.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")+(i?i.slice(0,e+1):""))));function x9(t,e){const r=String(t).split(".");let i=!0;if(!r[1]||r[1]&&r[1].length<=e||r[0]!=="0")return!1;if(r&&r[1]&&r[0]==="0"&&r[1][r[1].length-1]==="1")for(let s=0;s<r[1].length-1;s++)r[1]!=="0"&&(i=!1);else i=!1;return i}const Oh=(t,e,n=2)=>{if(t=="∞")return t;if(isNaN(t)||Number(t)==0)return 0;const r=Qs(t,e),i=Math.pow(10,-e);return Number(r)&&Math.abs(Number(r))<=i||x9(r,e)?Oh(t,e+n):r};function mH(t){if(t){const e=t.toString(),n=e.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return e.replace(n,"$1,")}}function wH(t){return Object.keys(t).length===0}const _H=(t,e)=>{if(!e)return null;for(const n in t){const r=t[n];if(r.address.toUpperCase()===e.toUpperCase())return r}return null};function as(t){return t.toString().length===1?"0"+t:t}function A1(t){const e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();return e+"-"+as(n)+"-"+as(r)}function S9(t){const e=t.getMonth()+1,n=t.getDate();return as(e)+"/"+as(n)}function E1(t){const e=t.getHours(),n=t.getMinutes(),r=t.getSeconds();return as(e)+":"+as(n)+":"+as(r)}function T9(t){const e=t.getHours(),n=t.getMinutes();return as(e)+":"+as(n)}function A9(t){const n=new Date(t),r=n.getTimezoneOffset()+480;return n.setMinutes(n.getMinutes()+r),n}const bH=(t,e)=>{if(t){const n=A9(t);if(!e)return A1(n)+" "+E1(n);switch(e){case"HMS":return E1(n);case"YMD":return A1(n);case"MD":return S9(n);case"HM":return T9(n)}}},vH=(t,e)=>isNaN(t)||!t?t:Number(t)<1e-6&&Number(t)!==0?"<0.000001":v9(Qs(String(t),e),e);function xH(t){const e=t.replace("%","");return Number(e)}function SH(t,e=1){return!t||isNaN(Number(t))?t:Math.abs(String(t))<1e3?Oh(t,e):Oh(Number(t)/1e3,e)+"k"}const iu=async t=>new Promise(e=>{setTimeout(()=>{e(1)},t)}),k1=5,O2=hp("wallet",{state:()=>({loading:!1,autoRefreshTime:k1,countdown:0,connected:!1,aptosConnected:!1,suiConnected:!1,address:"",aptosAddress:"",suiAddress:"",platform:"",isShowWalletModal:!1,walletName:"",aptosWalletName:"",suiWalletName:"",currentWallet:null,aptosCurrentWallet:null,suiCurrentWallet:null,walletIcon:"",aptosWalletIcon:"",suiWalletIcon:"",switchWallet:!1,assets:{},walletIconName:"",aptosWalletIconName:"",suiWalletIconName:"",walletNetwork:""}),actions:{setLoading(t){t&&(this.countdown=k1),this.loading=t,t||(this.countdown=0)},setCountdown(t){this.countdown=t},setWalletStatus(){this.connected=!0},setSwitchWallet(t){this.switchWallet=t},setIsShowWalletModal(t){this.isShowWalletModal=t},setWalletInfo(t,e){this.connected=t,this.platform=e},setCurrentWallet(t){t.wallet?(this.currentWallet=t.wallet,this.connected=t.isConnected,this.address=t.account,this.walletIcon=t.icon,this.walletName=t.wallet.name,t.platform==="Sui"?(this.suiCurrentWallet=t.wallet,this.suiConnected=t.isConnected,this.suiAddress=t.account,this.suiWalletIcon=t.icon,this.suiWalletName=t.wallet.name,this.walletName=t.walletName):(this.aptosCurrentWallet=t.wallet,this.aptosConnected=t.isConnected,this.aptosAddress=t.account,this.aptosWalletIcon=t.icon,this.aptosWalletName=t.wallet.name)):(this.currentWallet=null,this.connected=!1,this.address="",this.walletIcon="",this.walletName="",t.platform==="Sui"?(this.suiCurrentWallet=null,this.suiConnected=!1,this.suiAddress="",this.suiWalletIcon="",this.suiWalletName=""):(this.aptosCurrentWallet=null,this.aptosConnected=!1,this.aptosAddress="",this.aptosWalletIcon="",this.aptosWalletName=""))},setAssets(t){console.log(t,"data===>"),this.assets=t},setWalletIconName(t){this.walletIconName=t,localStorage.setItem("walletIconName",t)},setNetwork(t){this.walletNetwork=t,console.log(this.walletNetwork,"====>this.walletNetwork")}}});var Uh={},E9={get exports(){return Uh},set exports(t){Uh=t}},Td={},k9={get exports(){return Td},set exports(t){Td=t}},B1;function B9(){return B1||(B1=1,function(t,e){(function(n,r){t.exports=r()})(ga,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof ga<"u"&&ga.crypto&&(s=ga.crypto),!s&&typeof Qm=="function")try{s=pp}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function E(){}return function(b){var x;return E.prototype=b,x=new E,E.prototype=null,x}}(),c={},u=c.lib={},l=u.Base=function(){return{extend:function(E){var b=a(this);return E&&b.mixIn(E),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var b in E)E.hasOwnProperty(b)&&(this[b]=E[b]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=l.extend({init:function(E,b){E=this.words=E||[],b!=i?this.sigBytes=b:this.sigBytes=E.length*4},toString:function(E){return(E||p).stringify(this)},concat:function(E){var b=this.words,x=E.words,T=this.sigBytes,$=E.sigBytes;if(this.clamp(),T%4)for(var L=0;L<$;L++){var z=x[L>>>2]>>>24-L%4*8&255;b[T+L>>>2]|=z<<24-(T+L)%4*8}else for(var J=0;J<$;J+=4)b[T+J>>>2]=x[J>>>2];return this.sigBytes+=$,this},clamp:function(){var E=this.words,b=this.sigBytes;E[b>>>2]&=4294967295<<32-b%4*8,E.length=r.ceil(b/4)},clone:function(){var E=l.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var b=[],x=0;x<E;x+=4)b.push(o());return new d.init(b,E)}}),f=c.enc={},p=f.Hex={stringify:function(E){for(var b=E.words,x=E.sigBytes,T=[],$=0;$<x;$++){var L=b[$>>>2]>>>24-$%4*8&255;T.push((L>>>4).toString(16)),T.push((L&15).toString(16))}return T.join("")},parse:function(E){for(var b=E.length,x=[],T=0;T<b;T+=2)x[T>>>3]|=parseInt(E.substr(T,2),16)<<24-T%8*4;return new d.init(x,b/2)}},w=f.Latin1={stringify:function(E){for(var b=E.words,x=E.sigBytes,T=[],$=0;$<x;$++){var L=b[$>>>2]>>>24-$%4*8&255;T.push(String.fromCharCode(L))}return T.join("")},parse:function(E){for(var b=E.length,x=[],T=0;T<b;T++)x[T>>>2]|=(E.charCodeAt(T)&255)<<24-T%4*8;return new d.init(x,b)}},m=f.Utf8={stringify:function(E){try{return decodeURIComponent(escape(w.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return w.parse(unescape(encodeURIComponent(E)))}},v=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(E){typeof E=="string"&&(E=m.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var b,x=this._data,T=x.words,$=x.sigBytes,L=this.blockSize,z=L*4,J=$/z;E?J=r.ceil(J):J=r.max((J|0)-this._minBufferSize,0);var Z=J*L,U=r.min(Z*4,$);if(Z){for(var D=0;D<Z;D+=L)this._doProcessBlock(T,D);b=T.splice(0,Z),x.sigBytes-=U}return new d.init(b,U)},clone:function(){var E=l.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0});u.Hasher=v.extend({cfg:l.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){E&&this._append(E);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(E){return function(b,x){return new E.init(x).finalize(b)}},_createHmacHelper:function(E){return function(b,x){return new k.HMAC.init(E,x).finalize(b)}}});var k=c.algo={};return c}(Math);return n})}(k9)),Td}(function(t,e){(function(n,r){t.exports=r(B9())})(ga,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,c=i.algo,u=[],l=[];(function(){function p(k){for(var E=r.sqrt(k),b=2;b<=E;b++)if(!(k%b))return!1;return!0}function w(k){return(k-(k|0))*4294967296|0}for(var m=2,v=0;v<64;)p(m)&&(v<8&&(u[v]=w(r.pow(m,1/2))),l[v]=w(r.pow(m,1/3)),v++),m++})();var d=[],f=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(p,w){for(var m=this._hash.words,v=m[0],k=m[1],E=m[2],b=m[3],x=m[4],T=m[5],$=m[6],L=m[7],z=0;z<64;z++){if(z<16)d[z]=p[w+z]|0;else{var J=d[z-15],Z=(J<<25|J>>>7)^(J<<14|J>>>18)^J>>>3,U=d[z-2],D=(U<<15|U>>>17)^(U<<13|U>>>19)^U>>>10;d[z]=Z+d[z-7]+D+d[z-16]}var B=x&T^~x&$,h=v&k^v&E^k&E,g=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),S=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),I=L+S+B+l[z]+d[z],N=g+h;L=$,$=T,T=x,x=b+I|0,b=E,E=k,k=v,v=I+N|0}m[0]=m[0]+v|0,m[1]=m[1]+k|0,m[2]=m[2]+E|0,m[3]=m[3]+b|0,m[4]=m[4]+x|0,m[5]=m[5]+T|0,m[6]=m[6]+$|0,m[7]=m[7]+L|0},_doFinalize:function(){var p=this._data,w=p.words,m=this._nDataBytes*8,v=p.sigBytes*8;return w[v>>>5]|=128<<24-v%32,w[(v+64>>>9<<4)+14]=r.floor(m/4294967296),w[(v+64>>>9<<4)+15]=m,p.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)}(Math),n.SHA256})})(E9);const I9=Uh;function R9(){const t=rt.Aptos.liquidswapDeployer,e={rpcUrl:rt.Aptos.rpcUrl,fraphQLUrl:rt.Aptos.fraphQLUrl,networkOptions:{nativeToken:"0x1::aptos_coin::AptosCoin",launchpad:{cetusLaunchpad:rt.Aptos.Launchpad,crowdCoin:rt.Aptos.LaunchpadCrowdCoin},simulationAccount:{pubkey:rt.Aptos.accountPublicKey,address:rt.Aptos.accountAddress},modules:{LiquidswapDeployer:t,ClmmIntegrate:rt.Aptos.clmmIntegrate,FetcherDeployer:rt.Aptos.fetcher,TokenDeployer:rt.Aptos.TokenDeployer,IntegerMate:rt.Aptos.IntegerMate}}},n=Jm(new _9(e)),r=O2(),i=Ym(),s=lh(()=>i),{$notify:o}=Ea(),a=F=>{const{$notify:Y}=Ea();Y.success({key:F.hash+"loading",icon:_t("img",{class:{"notify-icon":!0,"loading-animate":!0},src:s.value.theme=="default"?"/image/img-loading@2x.png":"/sui-image/img-loading.png"}),message:_t("div",{class:"notification-title"},[_t("span",{innerHTML:F.title},null)]),description:_t("div",{class:"notification-title"},[_t("div",{class:"notification-text",innerHTML:jr.global.t("newAdd.confirmingTransaction")},null),_t("a",{href:`https://explorer.aptoslabs.com/txn/${F.hash}?network=${rt.Aptos.network}`,target:"_blank",innerHTML:jr.global.t("common.viewTransaction")},null)]),duration:0,class:"ant-notification-copy ant-notification-swap"})},c=F=>{o.success({icon:_t("svg",{class:{icon:!0},"aria-hidden":!0},[_t("use",{"xlink:href":"#icon-icon-change1"})]),message:_t("div",{class:"notification-title"},[_t("span",{innerHTML:`${F.title} `+jr.global.t("newAdd.success")},null)]),description:_t("div",{class:"notification-title"},[_t("div",{class:"notification-text",innerHTML:F.desc},null),_t("a",{href:`https://explorer.aptoslabs.com/txn/${F.hash}?network=${rt.Aptos.network}`,target:"_blank",innerHTML:jr.global.t("common.viewTransaction")},null)]),duration:4.5,class:"ant-notification-copy ant-notification-swap"})},u=F=>{o.error({icon:_t("svg",{class:{icon:!0},"aria-hidden":!0},[_t("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:_t("div",{class:"notification-title"},[_t("span",{innerHTML:`${F} `+jr.global.t("newAdd.failed")},null)]),description:jr.global.t("newAdd.somethingWrong"),duration:4.5,class:"ant-notification-copy ant-notification-error"})},l=async(F,Y=!1)=>{const ee=await n.client.waitForTransactionWithResult(F.hash);if(console.log("watchTransaction###res###",ee),ee&&ee.success){o.close(F.hash+"loading"),console.log("watchTransaction#####success"),c(F);const ie={walletAddress:r.address,chainName:"Aptos",...F,...ee,date:new Date().getTime()+6048e5};return i.setTransactionList(ie),Y?{status:!0,nftInfo:ee.events.filter(pe=>pe.type.includes("CreateTokenDataEvent"))}:!0}else{if(ee&&!ee.success)return o.close(F.hash+"loading"),console.log("watchTransaction#####error"),u(F.title),!1;console.log("watchTransaction#####one more"),setTimeout(()=>l(F,Y),3e3)}},d=async(F,Y=!1)=>{const ee=await n.client.waitForTransactionWithResult(F.hash);if(console.log("watchTransaction###res###",ee),ee&&ee.success){console.log("watchTransaction#####success");const ie={walletAddress:r.address,chainName:"Aptos",...F,...ee,date:new Date().getTime()+6048e5};i.setTransactionList(ie)}},f=async F=>{try{const Y=await n.Resources.getCoinStores(F),ee=[];return Y.forEach(ie=>{let le="";ie.coinAddress.includes("0x0000000000000000000000000000000000000000000000000000000000000001")?le=ie.coinAddress.replace(/0x0000000000000000000000000000000000000000000000000000000000000001/,"0x1"):le=ie.coinAddress,ee.push({...ie,coinAddress:le})}),ee}catch{return[]}},p=async F=>{try{r.setLoading(!0);const Y=await f(F),ee={};Y.forEach(ie=>{const le=ie?ie.coin.value:"0";ee[ie.coinAddress]={...ie,balance:le}}),console.log("1212###assets####",ee),r.setAssets(ee),r.setLoading(!1)}catch(Y){console.log("getAccount##error###",Y),r.setLoading(!1),r.setAssets({})}},w=async()=>{const F={pubkey:ts(rt.Aptos.accountPublicKey),address:ts(rt.Aptos.accountAddress)},Y=await n.Token.getAllRegisteredTokenList(F);return console.log("0215####tokenList####",Y),Y},m=async(F,Y,ee)=>n.Resources.getPoolState(F,Y,ee),v=async()=>{const F={pubkey:ts(rt.Aptos.accountPublicKey),address:ts(rt.Aptos.accountAddress)};return await n.Token.getOwnerWarpPoolList(rt.Aptos.TokenDeployer,F)},k=async F=>await n.Resources.getPool(F);return{setTransations:d,showTransitionPending:a,showTransitionSuccess:c,showTransitionError:u,watchTransaction:l,getAccount:p,getPoolState:m,getPools:async F=>await n.Resources.getPools(F),getPool:k,registerCoin:F=>({function:"0x1::managed_coin::register",type_arguments:[F],arguments:[],type:"entry_function_payload"}),estLiquidityAndcoinAmountFromOneAmounts:F=>{console.log("estLiquidityAndcoinAmountFromOneAmounts###params####",F);const{tokenA:Y,tokenB:ee,lowerTick:ie,upperTick:le,coinAmount:oe,iscoinA:pe,roundUp:Ee,slippage:Re,curSqrtPrice:Te}=F,Fe=go.estLiquidityAndcoinAmountFromOneAmounts(ie,le,oe,pe,Ee,Re,Te),Se=Y.decimals,ke=ee.decimals,{tokenMaxA:Ze,tokenMaxB:qe,liquidityAmount:He}=Fe;return{tokenMaxAOrigin:Ze.toString(),tokenMaxBOrigin:qe.toString(),tokenMaxA:xr(Ze.toString(),Se),tokenMaxB:xr(qe.toString(),ke),liquidityAmount:He}},getCoinAmountFromLiquidity:F=>{const{pool:Y,position:ee,roundUp:ie}=F,le=Number(ee.tick_lower_index),oe=Number(ee.tick_upper_index),pe=Ot.tickIndexToSqrtPriceX64(le),Ee=Ot.tickIndexToSqrtPriceX64(oe),Re=go.getCoinAmountFromLiquidity(new R(ee.liquidity),new R(Y.current_sqrt_price),pe,Ee,ie),Te=xr(Re.coinA.toString(),Y.coinA.decimals),Fe=xr(Re.coinB.toString(),Y.coinB.decimals);return{coinaAmount:Te,coinbAmount:Fe}},getAddLiquidityTransactionPayload:async F=>{const{pool:Y,amount:ee,fix_amount_a:ie,roundUp:le,tick_lower:oe,tick_upper:pe,index:Ee,slippage:Re}=F;console.log(F,"===>params411");const Te=await k(Y.poolAddress),Fe=ie?Sr(ee,Y.token_a.decimals):Sr(ee,Y.token_b.decimals),Se=Ot.sqrtPriceX64ToTickIndex(new R(Te.current_sqrt_price));let ke,Ze;if(Se>oe&&Se<pe){const He=go.estLiquidityAndcoinAmountFromOneAmounts(oe,pe,new R(Fe.toString()),ie,le,Re,new R(Te.current_sqrt_price));ke=ie?Fe.toNumber():He.tokenMaxA.toNumber(),Ze=ie?He.tokenMaxB.toNumber():Fe.toNumber()}else Se>=pe?(ke=0,Ze=Fe.toNumber()):Se<=oe&&(ke=Fe.toNumber(),Ze=0);return n.Position.createAddLiquidityTransactionPayload({pool:Y.poolAddress,coinTypeA:Y.token_a.address,coinTypeB:Y.token_b.address,amount_a:ke,amount_b:Ze,fix_amount_a:ie,tick_lower:oe,tick_upper:pe,is_open:!Ee,index:Ee})},getRemoveLiquidityTransactionPayload:async F=>{const{pool:Y,coinTypeA:ee,coinTypeB:ie,coinTypeC:le,coinTypeD:oe,coinTypeE:pe,position:Ee,delta_liquidity:Re,rewards_num:Te}=F;console.log("getRemoveLiquidityTransactionPayload####delta_liquidity#####",Re.toString());const Fe=await k(Y.poolAddress),Se={...Y,...Fe},ke=Number(Ee.tick_lower_index),Ze=Number(Ee.tick_upper_index),qe=Ot.tickIndexToSqrtPriceX64(ke),He=Ot.tickIndexToSqrtPriceX64(Ze),an=go.getCoinAmountFromLiquidity(Re,new R(Se.current_sqrt_price),qe,He,!0),ct=gt(an.coinA.toString()).mul(gt(1-F.slippage)),St=gt(an.coinB.toString()).mul(gt(1-F.slippage));return await n.Position.removeLiquidityTransactionPayload({pool:Y.poolAddress,coinTypeA:ee,coinTypeB:ie,coinTypeC:le,coinTypeD:oe,coinTypeE:pe,delta_liquidity:Re,min_amount_a:Number(dn(ct.toString(),0)),min_amount_b:Number(dn(St.toString(),0)),pos_index:F.position.index,is_close:!1,rewards_num:Te})},getCollectFeeTransactionPayload:async F=>{console.log("1130###getCollectFeeTransactionPayload###params",{pool:F.pool.poolAddress,coinTypeA:F.pool.token_a.address,coinTypeB:F.pool.token_b.address,pos_index:F.position.index});const Y=await n.Position.collectFeeTransactionPayload({pool:F.pool.poolAddress,coinTypeA:F.pool.token_a.address,coinTypeB:F.pool.token_b.address,pos_index:F.position.index});return console.log("1130###getCollectFeeTransactionPayload###result##",Y),Y},getPositionList:async(F,Y)=>{if(rt.Aptos.network==="mainnet"){const ee={operationName:"AccountTokensData",variables:{owner_address:F,limit:1e5,offset:0},query:`query AccountTokensData($owner_address: String, $limit: Int, $offset: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}
    limit: $limit
    offset: $offset
  ) {
    token_data_id_hash
 creator_address
 name
    collection_name
  table_type
    property_version
    amount
    __typename
  }
}`},ie=await $fetch("https://indexer.mainnet.aptoslabs.com/v1/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)});console.log("0116###pools####",Y);const le=ie&&ie.data&&ie.data.current_token_ownerships||[],oe=[];for(let pe=0;pe<le.length;pe++){const Ee=le[pe],Re=Y[C2(Ee.creator_address)];if(Re){const Te=Ee.name.split("-")[1],Fe=Re.positions_handle,Se=await n.Resources.getPositionInfoByIndex(Fe,Te);oe.push({...Se,tokenName:Ee.name})}}return console.log("0221###aptos###getPositionList###",oe),oe}else{const ee=Object.values(Y),ie=await n.Resources.getPositionList(F,ee);return console.log("0221###aptos###getPositionList###list###",ie),ie}},getPositionInfo:async(F,Y,ee,ie="")=>({...await n.Resources.getPositionInfo(F,ee),tokenName:ee,collectionName:Y}),getSwapTransactionPayload:async F=>{const{pool:Y,a2b:ee,byAmountIn:ie,amount:le,slippage:oe}=F,pe=Y.poolAddress,Ee=Y.token_a.decimals,Re=Y.token_b.decimals,Te=await k(Y.address);let Fe;ee&&ie||!ee&&!ie?Fe=Sr(le,Ee):Fe=Sr(le,Re);const Se=await n.Swap.preswap({pool:Te,decimalsA:Ee,decimalsB:Re,a2b:ee,by_amount_in:ie,amount:Fe.toString()});console.log("1130###getSwapTransactionPayload###preSwapRes###",Se),console.log("1130###getSwapTransactionPayload###preSwapRes.estimatedAmountOut###",Se.estimatedAmountOut.toString()),console.log("1130###getSwapTransactionPayload###preSwapRes.estimatedAmountIn###",Se.estimatedAmountIn.toString());const ke=gt(Se.estimatedAmountOut.toString()),Ze=gt(Se.estimatedAmountIn.toString()),qe=ie?ke.sub(ke.mul(oe)):Ze.add(Ze.mul(oe));console.log("1130###amountLimit####",qe.toString()),console.log("1130###swap##params###",{pool_addr:pe,coinTypeA:Y.token_a.address,coinTypeB:Y.token_b.address,a_to_b:Se.aToB,by_amount_in:Se.byAmountIn,amount:Se.amount.toString(),amount_limit:dn(qe.toString(),0)||""});const He=n.Swap.createSwapTransactionPayload({pool_addr:pe,coinTypeA:Y.token_a.address,coinTypeB:Y.token_b.address,a_to_b:Se.aToB,by_amount_in:Se.byAmountIn,amount:Se.amount.toString(),amount_limit:dn(qe.toString(),0)||"",partner:""});return console.log("1130###swap##result###",He),He},getCoin:F=>({type:"entry_function_payload",function:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet",arguments:[],type_arguments:[]}),preSwap:async F=>{const{pool:Y,a2b:ee,byAmountIn:ie,amount:le}=F;console.log(F,"===>params");const oe=Y.coinA.decimals,pe=Y.coinB.decimals;let Ee=Y;Y.coinTypeA||(Ee={...Y,poolAddress:Y.address,coinTypeA:Y.coinA.address,coinTypeB:Y.coinB.address});let Re;ee&&ie||!ee&&!ie?Re=Sr(le,oe):Re=Sr(le,pe);const Te=await n.Swap.preswap({pool:Ee,decimalsA:oe,decimalsB:pe,a2b:ee,by_amount_in:ie,amount:Re.toString()});return{...Te,estimatedAmountIn:Qs(xr(Te.estimatedAmountIn.toString(),ee?oe:pe),ee?oe:pe),estimatedAmountOut:Qs(xr(Te.estimatedAmountOut.toString(),ee?pe:oe),ee?pe:oe),priceImpactPct:dn(Te.priceImpactPct,2)}},getTicks:async F=>{try{return await n.Fetcher.fetchTicks({pool:F.poolAddress,coinTypeA:F.coinTypeA,coinTypeB:F.coinTypeB})}catch(Y){console.log("getTicks Error###",Y)}},TickMath:Ot,TickUtil:Ch,ClmmPoolUtil:go,getNearestTickByTick:l9,getTickDataFromUrlData:B2,getCollectFeesQuote:async F=>{console.log(F,"params====>");const{pool:Y,position:ee,tickLowerData:ie,tickUpperData:le}=F,oe=ZB({clmmpool:Y,position:ee,tickLower:ie,tickUpper:le}),pe=xr(oe.feeOwedA.toString(),Y.token_a.decimals),Ee=xr(oe.feeOwedB.toString(),Y.token_b.decimals);return console.log("0118###useApots###result.feeOwedA.toString()###",oe.feeOwedA.toString()),console.log("0118###useApots###result.feeOwedB.toString()###",oe.feeOwedB.toString()),console.log("0118###useApots###feeOwedA###",pe),console.log("0118###useApots###feeOwedB###",Ee),{feeOwedA:Number(pe)>99999999999||Number(pe)<0?"0":pe,feeOwedB:Number(Ee)>99999999999||Number(Ee)<0?"0":Ee}},mintCoin:F=>({function:`${rt.Aptos.faucetObjectId}::coin::mint`,type_arguments:[`${rt.Aptos.faucetObjectId}::coin::${F.name}`],arguments:[F.amount],type:"entry_function_payload"}),getNftHash:F=>{const Y=`${F.creator}::${F.collection}::${F.name}`;return I9(Y).toString()},getCollectRewarderTransactionPayload:F=>n.Rewarder.collectPoolRewarderTransactionPayload(F),getPosRewardersAmount:async F=>{console.log(JSON.stringify(F),"=====>params792");const{poolAddress:Y,positionName:ee,tickLowerData:ie,tickUpperData:le}=F;return await n.Rewarder.posRewardersAmount(Y,ee,ie,le)},getTokenList:w,getTickDataByIndex:async(F,Y)=>(console.log(F,Y,"getTickDataByIndex"),await n.Resources.getTickDataByIndex(F,Y)),initSwapRouter:async F=>{n.Router.addPathProvider(F),await n.Router.setCoinList({pubkey:ts(rt.Aptos.accountPublicKey),address:ts(rt.Aptos.accountAddress)}),await n.Router.loadGraph()},getSwapRouter:async(F,Y)=>await n.Router.price(F,Y),getEstPositionAPRWithDelta:async(F,Y,ee,ie,le,oe,pe,Ee,Re,Te,Fe,Se,ke,Ze,qe,He,an,ct,St,_n,yt,Mt,Ti,rn)=>await KB(F,Y,ee,ie,le,oe,pe,Ee,Re,Te,Fe,Se,ke,Ze,qe,He,an,ct,St,_n,yt,Mt,Ti,rn),getPriceImpactPct:(F,Y,ee)=>{const ie=Ot.sqrtPriceX64ToPrice(new R(F.current_sqrt_price),F.coinA.decimals,F.coinB.decimals).toNumber(),le=ee?ie:1/ie,oe=Math.abs(le-Number(Y))/Number(Y)*100;return Number(dn(oe,2))},getLpList:v,getEstPositionAPRWithMulti:async(F,Y,ee,ie)=>await XB(F,Y,ee,ie),getCreatPoolTransactionPayload:async F=>{const{coinTypeA:Y,coinTypeB:ee,tick_lower:ie,tick_upper:le,tick_spacing:oe,initialize_sqrt_price:pe,max_amount_a:Ee,max_amount_b:Re,slippage:Te,fix_amount_a:Fe,decimalsA:Se,decimalsB:ke,liquidityInput:Ze}=F;console.log(F,"params===>");const qe=Fe?Sr(Ee,Se):Sr(Re,ke);console.log(qe,"===>coinAmount");const He=Ot.sqrtPriceX64ToTickIndex(new R(pe));let an,ct;const St=Ot.tickIndexToSqrtPriceX64(ie),_n=Ot.tickIndexToSqrtPriceX64(le);console.log(St,"===>minPriceX64"),console.log(_n,"===>maxPriceX64");let yt;return He>ie&&He<le?(yt=go.estLiquidityAndcoinAmountFromOneAmounts(ie,le,new R(qe.toString()),Fe,!0,Te,new R(pe)),an=Fe?qe.toNumber():yt.tokenMaxA.toNumber(),ct=Fe?yt.tokenMaxB.toNumber():qe.toNumber()):He>=le?(yt=_a(St,_n,new R(qe.toString())),an=new R(Ze.tokenMaxA*Math.pow(10,Se)),ct=new R(Ze.tokenMaxB*Math.pow(10,ke))):He<=ie&&(yt=wa(St,_n,new R(qe.toString())),an=new R(Ze.tokenMaxA*Math.pow(10,Se)),ct=new R(Ze.tokenMaxB*Math.pow(10,ke))),console.log(yt,"===>preAddResult"),await n.Pool.creatPoolTransactionPayload({coinTypeA:Y,coinTypeB:ee,tick_spacing:oe,initialize_sqrt_price:new R(pe),uri:"",delta_liquidity:He>ie&&He<le?yt.liquidityAmount:yt,max_amount_a:an,max_amount_b:ct,tick_lower:ie,tick_upper:le},!0)},getTokenListByCoinType:async()=>await n.Token.getTokenListByCoinType("",0,99999),getPoolImmutables:async()=>await n.Resources.getPoolImmutables(),estimateLiquidityForCoinA:wa,estimateLiquidityForCoinB:_a}}function $9(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var w=0,m=0,v=0,k=p.length;v!==k&&p[v]===0;)v++,w++;for(var E=(k-v)*u+1>>>0,b=new Uint8Array(E);v!==k;){for(var x=p[v],T=0,$=E-1;(x!==0||T<m)&&$!==-1;$--,T++)x+=256*b[$]>>>0,b[$]=x%o>>>0,x=x/o>>>0;if(x!==0)throw new Error("Non-zero carry");m=T,v++}for(var L=E-m;L!==E&&b[L]===0;)L++;for(var z=a.repeat(w);L<E;++L)z+=t.charAt(b[L]);return z}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;for(var w=0,m=0,v=0;p[w]===a;)m++,w++;for(var k=(p.length-w)*c+1>>>0,E=new Uint8Array(k);p[w];){var b=e[p.charCodeAt(w)];if(b===255)return;for(var x=0,T=k-1;(b!==0||x<v)&&T!==-1;T--,x++)b+=o*E[T]>>>0,E[T]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");v=x,w++}for(var $=k-v;$!==k&&E[$]===0;)$++;for(var L=new Uint8Array(m+(k-$)),z=m;$!==k;)L[z++]=E[$++];return L}function f(p){var w=d(p);if(w)return w;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:f}}var P9=$9;const C9=P9,O9="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var U2=C9(O9);function U9(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:t===43?62:t===47?63:0}function qo(t,e){for(var n=t.replace(/[^A-Za-z0-9+/]/g,""),r=n.length,i=e?Math.ceil((r*3+1>>2)/e)*e:r*3+1>>2,s=new Uint8Array(i),o,a,c=0,u=0,l=0;l<r;l++)if(a=l&3,c|=U9(n.charCodeAt(l))<<6*(3-a),a===3||r-l===1){for(o=0;o<3&&u<i;o++,u++)s[u]=c>>>(16>>>o&24)&255;c=0}return s}function _l(t){return t<26?t+65:t<52?t+71:t<62?t-4:t===62?43:t===63?47:65}function To(t){for(var e=2,n="",r=t.length,i=0,s=0;s<r;s++)e=s%3,s>0&&s*4/3%76===0&&(n+=""),i|=t[s]<<(16>>>e&24),(e===2||t.length-s===1)&&(n+=String.fromCodePoint(_l(i>>>18&63),_l(i>>>12&63),_l(i>>>6&63),_l(i&63)),i=0);return n.slice(0,n.length-2+e)+(e===2?"":e===1?"=":"==")}function ug(t){let e=t.replace("0x","").match(/.{1,2}/g).map(n=>parseInt(n,16));if(e===null)throw new Error(`Unable to parse HEX: ${t}`);return Uint8Array.from(e)}function lg(t){return t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"")}var M9=32;function G0(t,e){let n=new Uint8Array(e),r=0;for(;t>0;)n[r]=Number(t%BigInt(256)),t=t/BigInt(256),r+=1;return n}var Qf=t=>U2.encode(t),dg=t=>U2.decode(t),N9=class{constructor(t){this.bytePosition=0,this.dataView=new DataView(t.buffer)}shift(t){return this.bytePosition+=t,this}read8(){let t=this.dataView.getUint8(this.bytePosition);return this.shift(1),t}read16(){let t=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),t}read32(){let t=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),t}read64(){let t=this.read32(),n=this.read32().toString(16)+t.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let t=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+t.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read256(){let t=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+t.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}readBytes(t){let e=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,e,t);return this.shift(t),n}readULEB(){let t=this.bytePosition+this.dataView.byteOffset,e=new Uint8Array(this.dataView.buffer,t),{value:n,length:r}=L9(e);return this.shift(r),n}readVec(t){let e=this.readULEB(),n=[];for(let r=0;r<e;r++)n.push(t(this,r,e));return n}},q9=class{constructor({size:t=1024,maxSize:e,allocateSize:n=1024}={}){this.bytePosition=0,this.size=t,this.maxSize=e||t,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(t))}ensureSizeOrGrow(t){const e=this.bytePosition+t;if(e>this.size){const n=Math.min(this.maxSize,this.size+this.allocateSize);if(e>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${e}`);this.size=n;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(t){return this.bytePosition+=t,this}write8(t){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(t)),this.shift(1)}write16(t){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(t),!0),this.shift(2)}write32(t){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(t),!0),this.shift(4)}write64(t){return G0(BigInt(t),8).forEach(e=>this.write8(e)),this}write128(t){return G0(BigInt(t),16).forEach(e=>this.write8(e)),this}write256(t){return G0(BigInt(t),32).forEach(e=>this.write8(e)),this}writeULEB(t){return D9(t).forEach(e=>this.write8(e)),this}writeVec(t,e){return this.writeULEB(t.length),Array.from(t).forEach((n,r)=>e(this,n,r,t.length)),this}*[Symbol.iterator](){for(let t=0;t<this.bytePosition;t++)yield this.dataView.getUint8(t);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(t){return H9(this.toBytes(),t)}};function D9(t){let e=[],n=0;if(t===0)return[0];for(;t>0;)e[n]=t&127,(t>>=7)&&(e[n]|=128),n+=1;return e}function L9(t){let e=0,n=0,r=0;for(;;){let i=t[r];if(r+=1,e|=(i&127)<<n,!(i&128))break;n+=7}return{value:e,length:r}}var Vc=class{constructor(t){if(this.types=new Map,this.counter=0,t instanceof Vc){this.schema=t.schema,this.types=new Map(t.types);return}if(this.schema=t,this.registerAddressType(Vc.ADDRESS,t.addressLength,t.addressEncoding),this.registerVectorType(t.vectorType),t.types&&t.types.structs)for(let e of Object.keys(t.types.structs))this.registerStructType(e,t.types.structs[e]);if(t.types&&t.types.enums)for(let e of Object.keys(t.types.enums))this.registerEnumType(e,t.types.enums[e]);if(t.types&&t.types.aliases)for(let e of Object.keys(t.types.aliases))this.registerAlias(e,t.types.aliases[e]);t.withPrimitives!==!1&&z9(this)}tempKey(){return`bcs-struct-${++this.counter}`}ser(t,e,n){if(typeof t=="string"||Array.isArray(t)){const{name:r,params:i}=this.parseTypeName(t);return this.getTypeInterface(r).encode(this,e,n,i)}if(typeof t=="object"){const r=this.tempKey();return new Vc(this).registerStructType(r,t).ser(r,e,n)}throw new Error(`Incorrect type passed into the '.ser()' function. 
${JSON.stringify(t)}`)}de(t,e,n){if(typeof e=="string")if(n)e=j9(e,n);else throw new Error("To pass a string to `bcs.de`, specify encoding");if(typeof t=="string"||Array.isArray(t)){const{name:r,params:i}=this.parseTypeName(t);return this.getTypeInterface(r).decode(this,e,i)}if(typeof t=="object"){const r=new Vc(this),i=this.tempKey();return r.registerStructType(i,t).de(i,e,n)}throw new Error(`Incorrect type passed into the '.de()' function. 
${JSON.stringify(t)}`)}hasType(t){return this.types.has(t)}registerAlias(t,e){return this.types.set(t,e),this}registerType(t,e,n,r=()=>!0){const{name:i,params:s}=this.parseTypeName(t);return this.types.set(i,{encode(o,a,c,u){const l=s.reduce((d,f,p)=>Object.assign(d,{[f]:u[p]}),{});return this._encodeRaw.call(o,new q9(c),a,u,l)},decode(o,a,c){const u=s.reduce((l,d,f)=>Object.assign(l,{[d]:c[f]}),{});return this._decodeRaw.call(o,new N9(a),c,u)},_encodeRaw(o,a,c,u){if(r(a))return e.call(this,o,a,c,u);throw new Error(`Validation failed for type ${i}, data: ${a}`)},_decodeRaw(o,a,c){return n.call(this,o,a,c)}}),this}registerAddressType(t,e,n="hex"){switch(n){case"base64":return this.registerType(t,function(i,s){return qo(s).reduce((o,a)=>o.write8(a),i)},function(i){return To(i.readBytes(e))});case"hex":return this.registerType(t,function(i,s){return ug(s).reduce((o,a)=>o.write8(a),i)},function(i){return lg(i.readBytes(e))});default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(t){let{name:e,params:n}=this.parseTypeName(t);if(n.length>1)throw new Error("Vector can have only one type parameter; got "+e);return this.registerType(t,function(i,s,o,a){return i.writeVec(s,(c,u)=>{let l=o[0];if(!l)throw new Error(`Incorrect number of type parameters passed a to vector '${t}'`);let{name:d,params:f}=this.parseTypeName(l);if(this.hasType(d))return this.getTypeInterface(d)._encodeRaw.call(this,c,u,f,a);if(!(d in a))throw new Error(`Unable to find a matching type definition for ${d} in vector; make sure you passed a generic`);let{name:p,params:w}=this.parseTypeName(a[d]);return this.getTypeInterface(p)._encodeRaw.call(this,c,u,w,a)})},function(i,s,o){return i.readVec(a=>{let c=s[0];if(!c)throw new Error(`Incorrect number of type parameters passed to a vector '${t}'`);let{name:u,params:l}=this.parseTypeName(c);if(this.hasType(u))return this.getTypeInterface(u)._decodeRaw.call(this,a,l,o);if(!(u in o))throw new Error(`Unable to find a matching type definition for ${u} in vector; make sure you passed a generic`);let{name:d,params:f}=this.parseTypeName(o[u]);this.getTypeInterface(d)._decodeRaw.call(this,a,f,o)})})}registerStructType(t,e){for(let o in e){let a=this.tempKey(),c=e[o];!Array.isArray(c)&&typeof c!="string"&&(e[o]=a,this.registerStructType(a,c))}let n=Object.freeze(e),r=Object.keys(n),{name:i,params:s}=this.parseTypeName(t);return this.registerType(t,function(a,c,u,l){if(!c||c.constructor!==Object)throw new Error(`Expected ${i} to be an Object, got: ${c}`);if(u.length!==s.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${s.length}, got: ${u.length}`);for(let d of r){if(!(d in c))throw new Error(`Struct ${i} requires field ${d}:${n[d]}`);const{name:f,params:p}=this.parseTypeName(n[d]);if(!s.includes(f))this.getTypeInterface(f)._encodeRaw.call(this,a,c[d],p,l);else{const w=s.indexOf(f);let{name:m,params:v}=this.parseTypeName(u[w]);if(this.hasType(m)){this.getTypeInterface(m)._encodeRaw.call(this,a,c[d],v,l);continue}if(!(m in l))throw new Error(`Unable to find a matching type definition for ${m} in ${i}; make sure you passed a generic`);let{name:k,params:E}=this.parseTypeName(l[m]);this.getTypeInterface(k)._encodeRaw.call(this,a,c[d],E,l)}}return a},function(a,c,u){if(c.length!==s.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${s.length}, got: ${c.length}`);let l={};for(let d of r){const{name:f,params:p}=this.parseTypeName(n[d]);if(!s.includes(f))l[d]=this.getTypeInterface(f)._decodeRaw.call(this,a,p,u);else{const w=s.indexOf(f);let{name:m,params:v}=this.parseTypeName(c[w]);if(this.hasType(m)){l[d]=this.getTypeInterface(m)._decodeRaw.call(this,a,v,u);continue}if(!(m in u))throw new Error(`Unable to find a matching type definition for ${m} in ${i}; make sure you passed a generic`);let{name:k,params:E}=this.parseTypeName(u[m]);l[d]=this.getTypeInterface(k)._decodeRaw.call(this,a,E,u)}}return l})}registerEnumType(t,e){for(let o in e){let a=this.tempKey(),c=e[o];c!==null&&!Array.isArray(c)&&typeof c!="string"&&(e[o]=a,this.registerStructType(a,c))}let n=Object.freeze(e),r=Object.keys(n),{name:i,params:s}=this.parseTypeName(t);return this.registerType(t,function(a,c,u,l){if(!c)throw new Error(`Unable to write enum "${i}", missing data.
Received: "${c}"`);if(typeof c!="object")throw new Error(`Incorrect data passed into enum "${i}", expected object with properties: "${r.join(" | ")}".
Received: "${JSON.stringify(c)}"`);let d=Object.keys(c)[0];if(d===void 0)throw new Error(`Empty object passed as invariant of the enum "${i}"`);let f=r.indexOf(d);if(f===-1)throw new Error(`Unknown invariant of the enum "${i}", allowed values: "${r.join(" | ")}"; received "${d}"`);let p=r[f],w=n[p];if(a.write8(f),w===null)return a;let m=s.indexOf(w),v=m===-1?w:u[m];{let{name:k,params:E}=this.parseTypeName(v);return this.getTypeInterface(k)._encodeRaw.call(this,a,c[d],E,l)}},function(a,c,u){let l=a.readULEB(),d=r[l],f=n[d];if(l===-1)throw new Error(`Decoding type mismatch, expected enum "${i}" invariant index, received "${l}"`);if(f===null)return{[d]:!0};let p=s.indexOf(f),w=p===-1?f:c[p];{let{name:m,params:v}=this.parseTypeName(w);return{[d]:this.getTypeInterface(m)._decodeRaw.call(this,a,v,u)}}})}getTypeInterface(t){let e=this.types.get(t);if(typeof e=="string"){let n=[];for(;typeof e=="string";){if(n.includes(e))throw new Error(`Recursive definition found: ${n.join(" -> ")} -> ${e}`);n.push(e),e=this.types.get(e)}}if(e===void 0)throw new Error(`Type ${t} is not registered`);return e}parseTypeName(t){if(Array.isArray(t)){let[a,...c]=t;return{name:a,params:c}}if(typeof t!="string")throw new Error(`Illegal type passed as a name of the type: ${t}`);let[e,n]=this.schema.genericSeparators||["<",">"],r=t.indexOf(e),i=Array.from(t).reverse().indexOf(n);if(r===-1&&i===-1)return{name:t,params:[]};if(r===-1||i===-1)throw new Error(`Unclosed generic in name '${t}'`);let s=t.slice(0,r),o=t.slice(r+1,t.length-i-1).split(",").map(a=>a.trim());return{name:s,params:o}}},Be=Vc;Be.U8="u8";Be.U16="u16";Be.U32="u32";Be.U64="u64";Be.U128="u128";Be.U256="u256";Be.BOOL="bool";Be.VECTOR="vector";Be.ADDRESS="address";Be.STRING="string";Be.HEX="hex-string";Be.BASE58="base58-string";Be.BASE64="base64-string";function H9(t,e){switch(e){case"base58":return Qf(t);case"base64":return To(t);case"hex":return lg(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function j9(t,e){switch(e){case"base58":return dg(t);case"base64":return qo(t);case"hex":return ug(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function z9(t){t.registerType(Be.U8,function(e,n){return e.write8(n)},function(e){return e.read8()},e=>e<256),t.registerType(Be.U16,function(e,n){return e.write16(n)},function(e){return e.read16()},e=>e<65536),t.registerType(Be.U32,function(e,n){return e.write32(n)},function(e){return e.read32()},e=>e<=4294967296n),t.registerType(Be.U64,function(e,n){return e.write64(n)},function(e){return e.read64()}),t.registerType(Be.U128,function(e,n){return e.write128(n)},function(e){return e.read128()}),t.registerType(Be.U256,function(e,n){return e.write256(n)},function(e){return e.read256()}),t.registerType(Be.BOOL,function(e,n){return e.write8(n)},function(e){return e.read8().toString(10)==="1"}),t.registerType(Be.STRING,function(e,n){return e.writeVec(Array.from(n),(r,i)=>r.write8(i.charCodeAt(0)))},function(e){return e.readVec(n=>n.read8()).map(n=>String.fromCharCode(Number(n))).join("")},e=>!0),t.registerType(Be.HEX,function(e,n){return e.writeVec(Array.from(ug(n)),(r,i)=>r.write8(i))},function(e){let n=e.readVec(r=>r.read8());return lg(new Uint8Array(n))}),t.registerType(Be.BASE58,function(e,n){return e.writeVec(Array.from(dg(n)),(r,i)=>r.write8(i))},function(e){let n=e.readVec(r=>r.read8());return Qf(new Uint8Array(n))}),t.registerType(Be.BASE64,function(e,n){return e.writeVec(Array.from(qo(n)),(r,i)=>r.write8(i))},function(e){let n=e.readVec(r=>r.read8());return To(new Uint8Array(n))})}function M2(){return{genericSeparators:["<",">"],vectorType:"vector",addressLength:M9,addressEncoding:"hex"}}/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Yt=BigInt(0),Tn=BigInt(1),js=BigInt(2),su=BigInt(3),I1=BigInt(8),Vn=Object.freeze({a:Yt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Tn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),R1=(t,e)=>(t+e/js)/e,bl={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=Vn,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Tn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=R1(s*t,e),c=R1(-r*t,e);let u=je(t-a*n-c*i,e),l=je(-a*r-c*s,e);const d=u>o,f=l>o;if(d&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:f,k2:l}}},va=32,_u=32,$1=va+1,P1=2*va+1;function C1(t){const{a:e,b:n}=Vn,r=je(t*t),i=je(r*t);return je(i+e*t+n)}const vl=Vn.a===Yt;class F9 extends Error{constructor(e){super(e)}}function O1(t){if(!(t instanceof Vt))throw new TypeError("JacobianPoint expected")}class Vt{constructor(e,n,r){this.x=e,this.y=n,this.z=r}static fromAffine(e){if(!(e instanceof Yr))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Yr.ZERO)?Vt.ZERO:new Vt(e.x,e.y,Tn)}static toAffineBatch(e){const n=X9(e.map(r=>r.z));return e.map((r,i)=>r.toAffine(n[i]))}static normalizeZ(e){return Vt.toAffineBatch(e).map(Vt.fromAffine)}equals(e){O1(e);const{x:n,y:r,z:i}=this,{x:s,y:o,z:a}=e,c=je(i*i),u=je(a*a),l=je(n*u),d=je(s*c),f=je(je(r*a)*u),p=je(je(o*i)*c);return l===d&&f===p}negate(){return new Vt(this.x,je(-this.y),this.z)}double(){const{x:e,y:n,z:r}=this,i=je(e*e),s=je(n*n),o=je(s*s),a=e+s,c=je(js*(je(a*a)-i-o)),u=je(su*i),l=je(u*u),d=je(l-js*c),f=je(u*(c-d)-I1*o),p=je(js*n*r);return new Vt(d,f,p)}add(e){O1(e);const{x:n,y:r,z:i}=this,{x:s,y:o,z:a}=e;if(s===Yt||o===Yt)return this;if(n===Yt||r===Yt)return e;const c=je(i*i),u=je(a*a),l=je(n*u),d=je(s*c),f=je(je(r*a)*u),p=je(je(o*i)*c),w=je(d-l),m=je(p-f);if(w===Yt)return m===Yt?this.double():Vt.ZERO;const v=je(w*w),k=je(w*v),E=je(l*v),b=je(m*m-k-js*E),x=je(m*(E-b)-f*k),T=je(i*a*w);return new Vt(b,x,T)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const n=Vt.ZERO;if(typeof e=="bigint"&&e===Yt)return n;let r=q1(e);if(r===Tn)return this;if(!vl){let d=n,f=this;for(;r>Yt;)r&Tn&&(d=d.add(f)),f=f.double(),r>>=Tn;return d}let{k1neg:i,k1:s,k2neg:o,k2:a}=bl.splitScalar(r),c=n,u=n,l=this;for(;s>Yt||a>Yt;)s&Tn&&(c=c.add(l)),a&Tn&&(u=u.add(l)),l=l.double(),s>>=Tn,a>>=Tn;return i&&(c=c.negate()),o&&(u=u.negate()),u=new Vt(je(u.x*bl.beta),u.y,u.z),c.add(u)}precomputeWindow(e){const n=vl?128/e+1:256/e+1,r=[];let i=this,s=i;for(let o=0;o<n;o++){s=i,r.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),r.push(s);i=s.double()}return r}wNAF(e,n){!n&&this.equals(Vt.BASE)&&(n=Yr.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=n&&Mh.get(n);i||(i=this.precomputeWindow(r),n&&r!==1&&(i=Vt.normalizeZ(i),Mh.set(n,i)));let s=Vt.ZERO,o=Vt.BASE;const a=1+(vl?128/r:256/r),c=2**(r-1),u=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let f=0;f<a;f++){const p=f*c;let w=Number(e&u);e>>=d,w>c&&(w-=l,e+=Tn);const m=p,v=p+Math.abs(w)-1,k=f%2!==0,E=w<0;w===0?o=o.add(xl(k,i[m])):s=s.add(xl(E,i[v]))}return{p:s,f:o}}multiply(e,n){let r=q1(e),i,s;if(vl){const{k1neg:o,k1:a,k2neg:c,k2:u}=bl.splitScalar(r);let{p:l,f:d}=this.wNAF(a,n),{p:f,f:p}=this.wNAF(u,n);l=xl(o,l),f=xl(c,f),f=new Vt(je(f.x*bl.beta),f.y,f.z),i=l.add(f),s=d.add(p)}else{const{p:o,f:a}=this.wNAF(r,n);i=o,s=a}return Vt.normalizeZ([i,s])[0]}toAffine(e){const{x:n,y:r,z:i}=this,s=this.equals(Vt.ZERO);e==null&&(e=s?I1:e0(i));const o=e,a=je(o*o),c=je(a*o),u=je(n*a),l=je(r*c),d=je(i*o);if(s)return Yr.ZERO;if(d!==Tn)throw new Error("invZ was invalid");return new Yr(u,l)}}Vt.BASE=new Vt(Vn.Gx,Vn.Gy,Tn);Vt.ZERO=new Vt(Yt,Tn,Yt);function xl(t,e){const n=e.negate();return t?n:e}const Mh=new WeakMap;let Yr=class Os{constructor(e,n){this.x=e,this.y=n}_setWindowSize(e){this._WINDOW_SIZE=e,Mh.delete(this)}hasEvenY(){return this.y%js===Yt}static fromCompressedHex(e){const n=e.length===32,r=Po(n?e:e.subarray(1));if(!W0(r))throw new Error("Point is not on curve");const i=C1(r);let s=K9(i);const o=(s&Tn)===Tn;n?o&&(s=je(-s)):(e[0]&1)===1!==o&&(s=je(-s));const a=new Os(r,s);return a.assertValidity(),a}static fromUncompressedHex(e){const n=Po(e.subarray(1,va+1)),r=Po(e.subarray(va+1,va*2+1)),i=new Os(n,r);return i.assertValidity(),i}static fromHex(e){const n=Nh(e),r=n.length,i=n[0];if(r===va)return this.fromCompressedHex(n);if(r===$1&&(i===2||i===3))return this.fromCompressedHex(n);if(r===P1&&i===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-${$1} compressed bytes or ${P1} uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return Os.BASE.multiply(qh(e))}static fromSignature(e,n,r){const{r:i,s}=Y9(n);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=J9(Nh(e)),{n:a}=Vn,c=r===2||r===3?i+a:i,u=e0(c,a),l=je(-o*u,a),d=je(s*u,a),f=r&1?"03":"02",p=Os.fromHex(f+Oa(c)),w=Os.BASE.multiplyAndAddUnsafe(p,l,d);if(!w)throw new Error("Cannot recover signature: point at infinify");return w.assertValidity(),w}toRawBytes(e=!1){return $o(this.toHex(e))}toHex(e=!1){const n=Oa(this.x);return e?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${Oa(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:n,y:r}=this;if(!W0(n)||!W0(r))throw new Error(e);const i=je(r*r),s=C1(n);if(je(i-s)!==Yt)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Os(this.x,je(-this.y))}double(){return Vt.fromAffine(this).double().toAffine()}add(e){return Vt.fromAffine(this).add(Vt.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Vt.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,n,r){const i=Vt.fromAffine(this),s=n===Yt||n===Tn||this!==Os.BASE?i.multiplyUnsafe(n):i.multiply(n),o=Vt.fromAffine(e).multiplyUnsafe(r),a=s.add(o);return a.equals(Vt.ZERO)?void 0:a.toAffine()}};Yr.BASE=new Yr(Vn.Gx,Vn.Gy);Yr.ZERO=new Yr(Yt,Yt);function U1(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function M1(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${ac(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Po(n),left:t.subarray(e+2)}}function G9(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${ac(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=M1(t.subarray(2)),{data:r,left:i}=M1(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${ac(i)}`);return{r:e,s:r}}class Ro{constructor(e,n){this.r=e,this.s=n,this.assertValidity()}static fromCompact(e){const n=e instanceof Uint8Array,r="Signature.fromCompact";if(typeof e!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const i=n?ac(e):e;if(i.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new Ro(Ad(i.slice(0,64)),Ad(i.slice(64,128)))}static fromDER(e){const n=e instanceof Uint8Array;if(typeof e!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:i}=G9(n?e:$o(e));return new Ro(r,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:n}=this;if(!Ed(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Ed(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Vn.n>>Tn;return this.s>e}normalizeS(){return this.hasHighS()?new Ro(this.r,je(-this.s,Vn.n)):this}toDERRawBytes(){return $o(this.toDERHex())}toDERHex(){const e=U1(Dc(this.s)),n=U1(Dc(this.r)),r=e.length/2,i=n.length/2,s=Dc(r),o=Dc(i);return`30${Dc(i+r+4)}02${o}${n}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return $o(this.toCompactHex())}toCompactHex(){return Oa(this.r)+Oa(this.s)}}function qc(...t){if(!t.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((r,i)=>r+i.length,0),n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const V9=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ac(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=V9[t[n]];return e}const W9=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Oa(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Yt<=t&&t<W9))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function N1(t){const e=$o(Oa(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Dc(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Ad(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function $o(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,i=t.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}function Po(t){return Ad(ac(t))}function Nh(t){return t instanceof Uint8Array?Uint8Array.from(t):$o(t)}function q1(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Ed(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function je(t,e=Vn.P){const n=t%e;return n>=Yt?n:e+n}function ri(t,e){const{P:n}=Vn;let r=t;for(;e-- >Yt;)r*=r,r%=n;return r}function K9(t){const{P:e}=Vn,n=BigInt(6),r=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=ri(u,su)*u%e,d=ri(l,su)*u%e,f=ri(d,js)*c%e,p=ri(f,r)*f%e,w=ri(p,i)*p%e,m=ri(w,o)*w%e,v=ri(m,a)*m%e,k=ri(v,o)*w%e,E=ri(k,su)*u%e,b=ri(E,s)*p%e,x=ri(b,n)*c%e,T=ri(x,js);if(T*T%e!==t)throw new Error("Cannot find square root");return T}function e0(t,e=Vn.P){if(t===Yt||e<=Yt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=je(t,e),r=e,i=Yt,s=Tn;for(;n!==Yt;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Tn)throw new Error("invert: does not exist");return je(i,e)}function X9(t,e=Vn.P){const n=new Array(t.length),r=t.reduce((s,o,a)=>o===Yt?s:(n[a]=s,je(s*o,e)),Tn),i=e0(r,e);return t.reduceRight((s,o,a)=>o===Yt?s:(n[a]=je(s*n[a],e),je(s*o,e)),i),n}function Z9(t){const e=t.length*8-_u*8,n=Po(t);return e>0?n>>BigInt(e):n}function J9(t,e=!1){const n=Z9(t);if(e)return n;const{n:r}=Vn;return n>=r?n-r:n}let Ua,V0;function Ed(t){return Yt<t&&t<Vn.n}function W0(t){return Yt<t&&t<Vn.P}function qh(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*_u)throw new Error("Expected 32 bytes of private key");e=Ad(t)}else if(t instanceof Uint8Array){if(t.length!==_u)throw new Error("Expected 32 bytes of private key");e=Po(t)}else throw new TypeError("Expected valid private key");if(!Ed(e))throw new Error("Expected private key: 0 < key < n");return e}function Y9(t){if(t instanceof Ro)return t.assertValidity(),t;try{return Ro.fromDER(t)}catch{return Ro.fromCompact(t)}}Yr.BASE._setWindowSize(8);const Hr={node:ew,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Sl={},xa={bytesToHex:ac,hexToBytes:$o,concatBytes:qc,mod:je,invert:e0,isValidPrivateKey(t){try{return qh(t),!0}catch{return!1}},_bigintTo32Bytes:N1,_normalizePrivateKey:qh,hashToPrivateKey:t=>{t=Nh(t);const e=_u+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const n=je(Po(t),Vn.n-Tn)+Tn;return N1(n)},randomBytes:(t=32)=>{if(Hr.web)return Hr.web.getRandomValues(new Uint8Array(t));if(Hr.node){const{randomBytes:e}=Hr.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>xa.hashToPrivateKey(xa.randomBytes(_u+8)),precompute(t=8,e=Yr.BASE){const n=e===Yr.BASE?e:new Yr(e.x,e.y);return n._setWindowSize(t),n.multiply(su),n},sha256:async(...t)=>{if(Hr.web){const e=await Hr.web.subtle.digest("SHA-256",qc(...t));return new Uint8Array(e)}else if(Hr.node){const{createHash:e}=Hr.node,n=e("sha256");return t.forEach(r=>n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Hr.web){const n=await Hr.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=qc(...e),i=await Hr.web.subtle.sign("HMAC",n,r);return new Uint8Array(i)}else if(Hr.node){const{createHmac:n}=Hr.node,r=n("sha256",t);return e.forEach(i=>r.update(i)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=Sl[t];if(n===void 0){const r=await xa.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));n=qc(r,r),Sl[t]=n}return xa.sha256(n,...e)},taggedHashSync:(t,...e)=>{if(typeof Ua!="function")throw new F9("sha256Sync is undefined, you need to set it");let n=Sl[t];if(n===void 0){const r=Ua(Uint8Array.from(t,i=>i.charCodeAt(0)));n=qc(r,r),Sl[t]=n}return Ua(n,...e)},_JacobianPoint:Vt};Object.defineProperties(xa,{sha256Sync:{configurable:!1,get(){return Ua},set(t){Ua||(Ua=t)}},hmacSha256Sync:{configurable:!1,get(){return V0},set(t){V0||(V0=t)}}});function Dh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Q9(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function N2(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function eI(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Dh(t.outputLen),Dh(t.blockLen)}function tI(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function nI(t,e){N2(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Wr={number:Dh,bool:Q9,bytes:N2,hash:eI,exists:tI,output:nI},td=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,rI=Object.freeze(Object.defineProperty({__proto__:null,crypto:td},Symbol.toStringTag,{value:"Module"}));/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iI=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),bu=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),nd=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),$i=(t,e)=>t<<32-e|t>>>e,q2=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!q2)throw new Error("Non little-endian hardware is not supported");const sI=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function oI(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=sI[t[n]];return e}function aI(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,i=t.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}const D2=async()=>{};async function cI(t,e,n){let r=Date.now();for(let i=0;i<t;i++){n(i);const s=Date.now()-r;s>=0&&s<e||(await D2(),r+=s)}}function fg(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function cs(t){if(typeof t=="string"&&(t=fg(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function hg(...t){if(!t.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((r,i)=>r+i.length,0),n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class t0{clone(){return this._cloneInto()}}const uI=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function lI(t,e){if(e!==void 0&&(typeof e!="object"||!uI(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}function so(t){const e=r=>t().update(cs(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function L2(t){const e=(r,i)=>t(i).update(cs(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function tl(t=32){if(td&&typeof td.getRandomValues=="function")return td.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const dI=Object.freeze(Object.defineProperty({__proto__:null,Hash:t0,asyncLoop:cI,bytesToHex:oI,checkOpts:lI,concatBytes:hg,createView:nd,hexToBytes:aI,isLE:q2,nextTick:D2,randomBytes:tl,rotr:$i,toBytes:cs,u32:bu,u8:iI,utf8ToBytes:fg,wrapConstructor:so,wrapConstructorWithOpts:L2},Symbol.toStringTag,{value:"Module"}));class H2 extends t0{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Wr.hash(e);const r=cs(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Wr.exists(this),this.iHash.update(e),this}digestInto(e){Wr.exists(this),Wr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const n0=(t,e,n)=>new H2(t,e).update(n).digest();n0.create=(t,e)=>new H2(t,e);function fI(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}class pg extends t0{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=nd(this.buffer)}update(e){Wr.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=cs(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=nd(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Wr.exists(this),Wr.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;fI(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=nd(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const hI=(t,e,n)=>t&e^~t&n,pI=(t,e,n)=>t&e^t&n^e&n,gI=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Es=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ks=new Uint32Array(64);class j2 extends pg{constructor(){super(64,32,8,!1),this.A=Es[0]|0,this.B=Es[1]|0,this.C=Es[2]|0,this.D=Es[3]|0,this.E=Es[4]|0,this.F=Es[5]|0,this.G=Es[6]|0,this.H=Es[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ks[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=ks[d-15],p=ks[d-2],w=$i(f,7)^$i(f,18)^f>>>3,m=$i(p,17)^$i(p,19)^p>>>10;ks[d]=m+ks[d-7]+w+ks[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=$i(a,6)^$i(a,11)^$i(a,25),p=l+f+hI(a,c,u)+gI[d]+ks[d]|0,m=($i(r,2)^$i(r,13)^$i(r,22))+pI(r,i,s)|0;l=u,u=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){ks.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class yI extends j2{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Ni=so(()=>new j2),mI=so(()=>new yI),wI=Object.freeze(Object.defineProperty({__proto__:null,sha224:mI,sha256:Ni},Symbol.toStringTag,{value:"Module"})),_I=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class bI extends t0{constructor(e,n,r={},i,s,o){if(super(),this.blockLen=e,this.outputLen=n,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Wr.number(e),Wr.number(n),Wr.number(i),n<0||n>i)throw new Error("outputLen bigger than keyLen");if(r.key!==void 0&&(r.key.length<1||r.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(r.salt!==void 0&&r.salt.length!==s)throw new Error(`salt must be ${s} byte long or undefined`);if(r.personalization!==void 0&&r.personalization.length!==o)throw new Error(`personalization must be ${o} byte long or undefined`);this.buffer32=bu(this.buffer=new Uint8Array(e))}update(e){Wr.exists(this);const{blockLen:n,buffer:r,buffer32:i}=this;e=cs(e);const s=e.length;for(let o=0;o<s;){this.pos===n&&(this.compress(i,0,!1),this.pos=0);const a=Math.min(n-this.pos,s-o),c=e.byteOffset+o;if(a===n&&!(c%4)&&o+a<s){const u=new Uint32Array(e.buffer,c,Math.floor((s-o)/4));for(let l=0;o+n<s;l+=i.length,o+=n)this.length+=n,this.compress(u,l,!1);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,this.length+=a,o+=a}return this}digestInto(e){Wr.exists(this),Wr.output(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,this.buffer.subarray(n).fill(0),this.compress(r,0,!0);const i=bu(e);this.get().forEach((s,o)=>i[o]=s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.length=r,e.finished=i,e.destroyed=s,e.outputLen=o,e.buffer.set(n),e.pos=a,e}}const Tl=BigInt(2**32-1),Lh=BigInt(32);function z2(t,e=!1){return e?{h:Number(t&Tl),l:Number(t>>Lh&Tl)}:{h:Number(t>>Lh&Tl)|0,l:Number(t&Tl)|0}}function vI(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=z2(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const xI=(t,e)=>BigInt(t>>>0)<<Lh|BigInt(e>>>0),SI=(t,e,n)=>t>>>n,TI=(t,e,n)=>t<<32-n|e>>>n,AI=(t,e,n)=>t>>>n|e<<32-n,EI=(t,e,n)=>t<<32-n|e>>>n,kI=(t,e,n)=>t<<64-n|e>>>n-32,BI=(t,e,n)=>t>>>n-32|e<<64-n,II=(t,e)=>e,RI=(t,e)=>t,$I=(t,e,n)=>t<<n|e>>>32-n,PI=(t,e,n)=>e<<n|t>>>32-n,CI=(t,e,n)=>e<<n-32|t>>>64-n,OI=(t,e,n)=>t<<n-32|e>>>64-n;function UI(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const MI=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),NI=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,qI=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),DI=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,LI=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),HI=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,We={fromBig:z2,split:vI,toBig:xI,shrSH:SI,shrSL:TI,rotrSH:AI,rotrSL:EI,rotrBH:kI,rotrBL:BI,rotr32H:II,rotr32L:RI,rotlSH:$I,rotlSL:PI,rotlBH:CI,rotlBL:OI,add:UI,add3L:MI,add3H:NI,add4L:qI,add4H:DI,add5H:HI,add5L:LI},zn=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ce=new Uint32Array(32);function Bs(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=Ce[2*t],u=Ce[2*t+1],l=Ce[2*e],d=Ce[2*e+1],f=Ce[2*n],p=Ce[2*n+1],w=Ce[2*r],m=Ce[2*r+1],v=We.add3L(c,l,o);u=We.add3H(v,u,d,a),c=v|0,{Dh:m,Dl:w}={Dh:m^u,Dl:w^c},{Dh:m,Dl:w}={Dh:We.rotr32H(m,w),Dl:We.rotr32L(m,w)},{h:p,l:f}=We.add(p,f,m,w),{Bh:d,Bl:l}={Bh:d^p,Bl:l^f},{Bh:d,Bl:l}={Bh:We.rotrSH(d,l,24),Bl:We.rotrSL(d,l,24)},Ce[2*t]=c,Ce[2*t+1]=u,Ce[2*e]=l,Ce[2*e+1]=d,Ce[2*n]=f,Ce[2*n+1]=p,Ce[2*r]=w,Ce[2*r+1]=m}function Is(t,e,n,r,i,s){const o=i[s],a=i[s+1];let c=Ce[2*t],u=Ce[2*t+1],l=Ce[2*e],d=Ce[2*e+1],f=Ce[2*n],p=Ce[2*n+1],w=Ce[2*r],m=Ce[2*r+1],v=We.add3L(c,l,o);u=We.add3H(v,u,d,a),c=v|0,{Dh:m,Dl:w}={Dh:m^u,Dl:w^c},{Dh:m,Dl:w}={Dh:We.rotrSH(m,w,16),Dl:We.rotrSL(m,w,16)},{h:p,l:f}=We.add(p,f,m,w),{Bh:d,Bl:l}={Bh:d^p,Bl:l^f},{Bh:d,Bl:l}={Bh:We.rotrBH(d,l,63),Bl:We.rotrBL(d,l,63)},Ce[2*t]=c,Ce[2*t+1]=u,Ce[2*e]=l,Ce[2*e+1]=d,Ce[2*n]=f,Ce[2*n+1]=p,Ce[2*r]=w,Ce[2*r+1]=m}class jI extends bI{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=zn[0]|0,this.v0h=zn[1]|0,this.v1l=zn[2]|0,this.v1h=zn[3]|0,this.v2l=zn[4]|0,this.v2h=zn[5]|0,this.v3l=zn[6]|0,this.v3h=zn[7]|0,this.v4l=zn[8]|0,this.v4h=zn[9]|0,this.v5l=zn[10]|0,this.v5h=zn[11]|0,this.v6l=zn[12]|0,this.v6h=zn[13]|0,this.v7l=zn[14]|0,this.v7h=zn[15]|0;const n=e.key?e.key.length:0;if(this.v0l^=this.outputLen|n<<8|1<<16|1<<24,e.salt){const r=bu(cs(e.salt));this.v4l^=r[0],this.v4h^=r[1],this.v5l^=r[2],this.v5h^=r[3]}if(e.personalization){const r=bu(cs(e.personalization));this.v6l^=r[0],this.v6h^=r[1],this.v7l^=r[2],this.v7h^=r[3]}if(e.key){const r=new Uint8Array(this.blockLen);r.set(cs(e.key)),this.update(r)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:u,v4h:l,v5l:d,v5h:f,v6l:p,v6h:w,v7l:m,v7h:v}=this;return[e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v]}set(e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=l|0,this.v5l=d|0,this.v5h=f|0,this.v6l=p|0,this.v6h=w|0,this.v7l=m|0,this.v7h=v|0}compress(e,n,r){this.get().forEach((c,u)=>Ce[u]=c),Ce.set(zn,16);let{h:i,l:s}=We.fromBig(BigInt(this.length));Ce[24]=zn[8]^s,Ce[25]=zn[9]^i,r&&(Ce[28]=~Ce[28],Ce[29]=~Ce[29]);let o=0;const a=_I;for(let c=0;c<12;c++)Bs(0,4,8,12,e,n+2*a[o++]),Is(0,4,8,12,e,n+2*a[o++]),Bs(1,5,9,13,e,n+2*a[o++]),Is(1,5,9,13,e,n+2*a[o++]),Bs(2,6,10,14,e,n+2*a[o++]),Is(2,6,10,14,e,n+2*a[o++]),Bs(3,7,11,15,e,n+2*a[o++]),Is(3,7,11,15,e,n+2*a[o++]),Bs(0,5,10,15,e,n+2*a[o++]),Is(0,5,10,15,e,n+2*a[o++]),Bs(1,6,11,12,e,n+2*a[o++]),Is(1,6,11,12,e,n+2*a[o++]),Bs(2,7,8,13,e,n+2*a[o++]),Is(2,7,8,13,e,n+2*a[o++]),Bs(3,4,9,14,e,n+2*a[o++]),Is(3,4,9,14,e,n+2*a[o++]);this.v0l^=Ce[0]^Ce[16],this.v0h^=Ce[1]^Ce[17],this.v1l^=Ce[2]^Ce[18],this.v1h^=Ce[3]^Ce[19],this.v2l^=Ce[4]^Ce[20],this.v2h^=Ce[5]^Ce[21],this.v3l^=Ce[6]^Ce[22],this.v3h^=Ce[7]^Ce[23],this.v4l^=Ce[8]^Ce[24],this.v4h^=Ce[9]^Ce[25],this.v5l^=Ce[10]^Ce[26],this.v5h^=Ce[11]^Ce[27],this.v6l^=Ce[12]^Ce[28],this.v6h^=Ce[13]^Ce[29],this.v7l^=Ce[14]^Ce[30],this.v7h^=Ce[15]^Ce[31],Ce.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const F2=L2(t=>new jI(t));class zI extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function FI(t){return bi(t)&&typeof t[Symbol.iterator]=="function"}function bi(t){return typeof t=="object"&&t!=null}function Si(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function GI(t){const{done:e,value:n}=t.next();return e?void 0:n}function VI(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Si(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*D1(t,e,n,r){FI(t)||(t=[t]);for(const i of t){const s=VI(i,e,n,r);s&&(yield s)}}function*gg(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&bi(e.schema)&&bi(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(t,a)){const f=gg(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:n.message});for(const p of f)p[0]?(c=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):s&&(l=p[1],u===void 0?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):bi(t)&&(l!==void 0||u in t)&&(t[u]=l))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class Zi{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return D1(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return D1(l,u,this,c)}:this.refiner=()=>[]}assert(e,n){return Do(e,this,n)}create(e,n){return yg(e,this,n)}is(e){return on(e,this)}mask(e,n){return mg(e,this,n)}validate(e,n={}){return Ic(e,this,n)}}function Do(t,e,n){const r=Ic(t,e,{message:n});if(r[0])throw r[0]}function yg(t,e,n){const r=Ic(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function mg(t,e,n){const r=Ic(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function on(t,e){return!Ic(t,e)[0]}function Ic(t,e,n={}){const r=gg(t,e,n),i=GI(r);return i[0]?[new zI(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Qn(...t){const e=t[0].type==="type",n=t.map(i=>i.schema),r=Object.assign({},...n);return e?WI(r):j(r)}function Ar(t,e){return new Zi({type:t,schema:null,validator:e})}function fr(){return Ar("any",()=>!0)}function re(t){return new Zi({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Si(e)}`}})}function Ke(){return Ar("boolean",t=>typeof t=="boolean")}function nr(){return Ar("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${Si(t)}`)}function he(t){const e=Si(t),n=typeof t;return new Zi({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Si(r)}`}})}function G2(){return Ar("never",()=>!1)}function xt(t){return new Zi({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function V(){return Ar("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Si(t)}`)}function j(t){const e=t?Object.keys(t):[],n=G2();return new Zi({type:"object",schema:t||null,*entries(r){if(t&&bi(r)){const i=new Set(Object.keys(r));for(const s of e)i.delete(s),yield[s,r[s],t[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return bi(r)||`Expected an object, but received: ${Si(r)}`},coercer(r){return bi(r)?{...r}:r}})}function se(t){return new Zi({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function hr(t,e){return new Zi({type:"record",schema:null,*entries(n){if(bi(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return bi(n)||`Expected an object, but received: ${Si(n)}`}})}function W(){return Ar("string",t=>typeof t=="string"||`Expected a string, but received: ${Si(t)}`)}function An(t){const e=G2();return new Zi({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Si(n)}`}})}function WI(t){const e=Object.keys(t);return new Zi({type:"type",schema:t,*entries(n){if(bi(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return bi(n)||`Expected an object, but received: ${Si(n)}`},coercer(n){return bi(n)?{...n}:n}})}function Le(t){const e=t.map(n=>n.type).join(" | ");return new Zi({type:"union",schema:null,coercer(n){for(const r of t){const[i,s]=r.validate(n,{coerce:!0});if(!i)return s}return n},validator(n,r){const i=[];for(const s of t){const[...o]=gg(n,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Si(n)}`,...i]}})}function V2(t){return/^\d+\.\d+\.\d+$/.test(t)}function qi(t){if(!V2(t))throw new Error("Invalid semver version: "+t);const[e,n,r]=t.split(".").map(i=>parseInt(i,10));return{major:e,minor:n,patch:r}}function KI(t,e){const n=qi(t),r=qi(e);return n.major!==r.major?n.major<r.major:n.minor!==r.minor?n.minor<r.minor:n.patch!==r.patch?n.patch<r.patch:!1}function XI(t,e){const n=qi(t),r=qi(e);return n.major!==r.major?n.major<=r.major:n.minor!==r.minor?n.minor<=r.minor:n.patch!==r.patch?n.patch<=r.patch:!0}function ZI(t,e){const n=qi(t),r=qi(e);return n.major!==r.major?n.major>r.major:n.minor!==r.minor?n.minor>r.minor:n.patch!==r.patch?n.patch>r.patch:!1}function JI(t,e){const n=qi(t),r=qi(e);return n.major!==r.major?n.major>=r.major:n.minor!==r.minor?n.minor>=r.minor:n.patch!==r.patch?n.patch>=r.patch:!0}function YI(t,e){return qi(t),qi(e),t===e}var QI={isValid:V2,parse:qi,lt:KI,lte:XI,gt:ZI,gte:JI,eq:YI},Kr={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.output=cr.exists=cr.hash=cr.bytes=cr.bool=cr.number=void 0;function kd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}cr.number=kd;function W2(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}cr.bool=W2;function wg(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}cr.bytes=wg;function K2(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");kd(t.outputLen),kd(t.blockLen)}cr.hash=K2;function X2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}cr.exists=X2;function Z2(t,e){wg(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}cr.output=Z2;const eR={number:kd,bool:W2,bytes:wg,hash:K2,exists:X2,output:Z2};cr.default=eR;var cc={},J2={},_g={};const tR=gc(rI);(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=tR,n=x=>new Uint8Array(x.buffer,x.byteOffset,x.byteLength);t.u8=n;const r=x=>new Uint32Array(x.buffer,x.byteOffset,Math.floor(x.byteLength/4));t.u32=r;const i=x=>new DataView(x.buffer,x.byteOffset,x.byteLength);t.createView=i;const s=(x,T)=>x<<32-T|x>>>T;if(t.rotr=s,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(x,T)=>T.toString(16).padStart(2,"0"));function a(x){if(!(x instanceof Uint8Array))throw new Error("Uint8Array expected");let T="";for(let $=0;$<x.length;$++)T+=o[x[$]];return T}t.bytesToHex=a;function c(x){if(typeof x!="string")throw new TypeError("hexToBytes: expected string, got "+typeof x);if(x.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const T=new Uint8Array(x.length/2);for(let $=0;$<T.length;$++){const L=$*2,z=x.slice(L,L+2),J=Number.parseInt(z,16);if(Number.isNaN(J)||J<0)throw new Error("Invalid byte sequence");T[$]=J}return T}t.hexToBytes=c;const u=async()=>{};t.nextTick=u;async function l(x,T,$){let L=Date.now();for(let z=0;z<x;z++){$(z);const J=Date.now()-L;J>=0&&J<T||(await(0,t.nextTick)(),L+=J)}}t.asyncLoop=l;function d(x){if(typeof x!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof x}`);return new TextEncoder().encode(x)}t.utf8ToBytes=d;function f(x){if(typeof x=="string"&&(x=d(x)),!(x instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof x})`);return x}t.toBytes=f;function p(...x){if(!x.every(L=>L instanceof Uint8Array))throw new Error("Uint8Array list expected");if(x.length===1)return x[0];const T=x.reduce((L,z)=>L+z.length,0),$=new Uint8Array(T);for(let L=0,z=0;L<x.length;L++){const J=x[L];$.set(J,z),z+=J.length}return $}t.concatBytes=p;class w{clone(){return this._cloneInto()}}t.Hash=w;const m=x=>Object.prototype.toString.call(x)==="[object Object]"&&x.constructor===Object;function v(x,T){if(T!==void 0&&(typeof T!="object"||!m(T)))throw new TypeError("Options should be object or undefined");return Object.assign(x,T)}t.checkOpts=v;function k(x){const T=L=>x().update(f(L)).digest(),$=x();return T.outputLen=$.outputLen,T.blockLen=$.blockLen,T.create=()=>x(),T}t.wrapConstructor=k;function E(x){const T=(L,z)=>x(z).update(f(L)).digest(),$=x({});return T.outputLen=$.outputLen,T.blockLen=$.blockLen,T.create=L=>x(L),T}t.wrapConstructorWithOpts=E;function b(x=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(x));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=b})(_g);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const e=cr,n=_g;class r extends n.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,e.default.hash(o);const c=(0,n.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let d=0;d<l.length;d++)l[d]^=54;this.iHash.update(l),this.oHash=o.create();for(let d=0;d<l.length;d++)l[d]^=106;this.oHash.update(l),l.fill(0)}update(o){return e.default.exists(this),this.iHash.update(o),this}digestInto(o){e.default.exists(this),e.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:d,outputLen:f}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=d,o.outputLen=f,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i=(s,o,a)=>new r(s,o).update(a).digest();t.hmac=i,t.hmac.create=(s,o)=>new r(s,o)})(J2);Object.defineProperty(cc,"__esModule",{value:!0});cc.pbkdf2Async=cc.pbkdf2=void 0;const Al=cr,nR=J2,Ma=_g;function Y2(t,e,n,r){Al.default.hash(t);const i=(0,Ma.checkOpts)({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Al.default.number(s),Al.default.number(o),Al.default.number(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,Ma.toBytes)(e),u=(0,Ma.toBytes)(n),l=new Uint8Array(o),d=nR.hmac.create(t,c),f=d._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:d,PRFSalt:f}}function Q2(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function rR(t,e,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=Y2(t,e,n,r);let u;const l=new Uint8Array(4),d=(0,Ma.createView)(l),f=new Uint8Array(a.outputLen);for(let p=1,w=0;w<s;p++,w+=a.outputLen){const m=o.subarray(w,w+a.outputLen);d.setInt32(0,p,!1),(u=c._cloneInto(u)).update(l).digestInto(f),m.set(f.subarray(0,m.length));for(let v=1;v<i;v++){a._cloneInto(u).update(f).digestInto(f);for(let k=0;k<m.length;k++)m[k]^=f[k]}}return Q2(a,c,o,u,f)}cc.pbkdf2=rR;async function iR(t,e,n,r){const{c:i,dkLen:s,asyncTick:o,DK:a,PRF:c,PRFSalt:u}=Y2(t,e,n,r);let l;const d=new Uint8Array(4),f=(0,Ma.createView)(d),p=new Uint8Array(c.outputLen);for(let w=1,m=0;m<s;w++,m+=c.outputLen){const v=a.subarray(m,m+c.outputLen);f.setInt32(0,w,!1),(l=u._cloneInto(l)).update(d).digestInto(p),v.set(p.subarray(0,v.length)),await(0,Ma.asyncLoop)(i-1,o,k=>{c._cloneInto(l).update(p).digestInto(p);for(let E=0;E<v.length;E++)v[E]^=p[E]})}return Q2(c,u,a,l,p)}cc.pbkdf2Async=iR;const sR=gc(wI),[oR,aR]=We.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Rs=new Uint32Array(80),$s=new Uint32Array(80);class nl extends pg{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:p,Gl:w,Hh:m,Hl:v}=this;return[e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v]}set(e,n,r,i,s,o,a,c,u,l,d,f,p,w,m,v){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=w|0,this.Hh=m|0,this.Hl=v|0}process(e,n){for(let b=0;b<16;b++,n+=4)Rs[b]=e.getUint32(n),$s[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const x=Rs[b-15]|0,T=$s[b-15]|0,$=We.rotrSH(x,T,1)^We.rotrSH(x,T,8)^We.shrSH(x,T,7),L=We.rotrSL(x,T,1)^We.rotrSL(x,T,8)^We.shrSL(x,T,7),z=Rs[b-2]|0,J=$s[b-2]|0,Z=We.rotrSH(z,J,19)^We.rotrBH(z,J,61)^We.shrSH(z,J,6),U=We.rotrSL(z,J,19)^We.rotrBL(z,J,61)^We.shrSL(z,J,6),D=We.add4L(L,U,$s[b-7],$s[b-16]),B=We.add4H(D,$,Z,Rs[b-7],Rs[b-16]);Rs[b]=B|0,$s[b]=D|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:p,Fl:w,Gh:m,Gl:v,Hh:k,Hl:E}=this;for(let b=0;b<80;b++){const x=We.rotrSH(d,f,14)^We.rotrSH(d,f,18)^We.rotrBH(d,f,41),T=We.rotrSL(d,f,14)^We.rotrSL(d,f,18)^We.rotrBL(d,f,41),$=d&p^~d&m,L=f&w^~f&v,z=We.add5L(E,T,L,aR[b],$s[b]),J=We.add5H(z,k,x,$,oR[b],Rs[b]),Z=z|0,U=We.rotrSH(r,i,28)^We.rotrBH(r,i,34)^We.rotrBH(r,i,39),D=We.rotrSL(r,i,28)^We.rotrBL(r,i,34)^We.rotrBL(r,i,39),B=r&s^r&a^s&a,h=i&o^i&c^o&c;k=m|0,E=v|0,m=p|0,v=w|0,p=d|0,w=f|0,{h:d,l:f}=We.add(u|0,l|0,J|0,Z|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const g=We.add3L(Z,D,h);r=We.add3H(g,J,U,B),i=g|0}({h:r,l:i}=We.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=We.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=We.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=We.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=We.add(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:w}=We.add(this.Fh|0,this.Fl|0,p|0,w|0),{h:m,l:v}=We.add(this.Gh|0,this.Gl|0,m|0,v|0),{h:k,l:E}=We.add(this.Hh|0,this.Hl|0,k|0,E|0),this.set(r,i,s,o,a,c,u,l,d,f,p,w,m,v,k,E)}roundClean(){Rs.fill(0),$s.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class cR extends nl{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class uR extends nl{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class lR extends nl{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const dR=so(()=>new nl),fR=so(()=>new cR),hR=so(()=>new uR),pR=so(()=>new lR),gR=Object.freeze(Object.defineProperty({__proto__:null,SHA512:nl,sha384:pR,sha512:dR,sha512_224:fR,sha512_256:hR},Symbol.toStringTag,{value:"Module"})),yR=gc(gR),mR=gc(dI);Object.defineProperty(Kr,"__esModule",{value:!0});Kr.mnemonicToSeedSync=Kr.mnemonicToSeed=Kr.validateMnemonic=Kr.entropyToMnemonic=Kr.mnemonicToEntropy=Kr.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const ev=cr,tv=cc,wR=sR,nv=yR,_R=mR,El=Ou,bR=t=>t[0]==="あいこくしん";function rv(t){if(typeof t!="string")throw new TypeError(`Invalid mnemonic type: ${typeof t}`);return t.normalize("NFKD")}function bg(t){const e=rv(t),n=e.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:n}}function iv(t){ev.default.bytes(t,16,20,24,28,32)}function vR(t,e=128){if(ev.default.number(e),e%32!==0||e>256)throw new TypeError("Invalid entropy");return av((0,_R.randomBytes)(e/8),t)}Kr.generateMnemonic=vR;const xR=t=>{const e=8-t.length/4;return new Uint8Array([(0,wR.sha256)(t)[0]>>e<<e])};function sv(t){if(!Array.isArray(t)||t.length!==2048||typeof t[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return t.forEach(e=>{if(typeof e!="string")throw new Error(`Wordlist: non-string element: ${e}`)}),El.utils.chain(El.utils.checksum(1,xR),El.utils.radix2(11,!0),El.utils.alphabet(t))}function ov(t,e){const{words:n}=bg(t),r=sv(e).decode(n);return iv(r),r}Kr.mnemonicToEntropy=ov;function av(t,e){return iv(t),sv(e).encode(t).join(bR(e)?"　":" ")}Kr.entropyToMnemonic=av;function SR(t,e){try{ov(t,e)}catch{return!1}return!0}Kr.validateMnemonic=SR;const cv=t=>rv(`mnemonic${t}`);function TR(t,e=""){return(0,tv.pbkdf2Async)(nv.sha512,bg(t).nfkd,cv(e),{c:2048,dkLen:64})}Kr.mnemonicToSeed=TR;function AR(t,e=""){return(0,tv.pbkdf2)(nv.sha512,bg(t).nfkd,cv(e),{c:2048,dkLen:64})}Kr.mnemonicToSeedSync=AR;const ER=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),uv=Uint8Array.from({length:16},(t,e)=>e),kR=uv.map(t=>(9*t+5)%16);let vg=[uv],xg=[kR];for(let t=0;t<4;t++)for(let e of[vg,xg])e.push(e[t].map(n=>ER[n]));const lv=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),BR=vg.map((t,e)=>t.map(n=>lv[e][n])),IR=xg.map((t,e)=>t.map(n=>lv[e][n])),RR=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),$R=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),kl=(t,e)=>t<<e|t>>>32-e;function L1(t,e,n,r){return t===0?e^n^r:t===1?e&n|~e&r:t===2?(e|~n)^r:t===3?e&r|n&~r:e^(n|~r)}const Bl=new Uint32Array(16);class PR extends pg{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:n,h2:r,h3:i,h4:s}=this;return[e,n,r,i,s]}set(e,n,r,i,s){this.h0=e|0,this.h1=n|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(e,n){for(let p=0;p<16;p++,n+=4)Bl[p]=e.getUint32(n,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,a=this.h2|0,c=a,u=this.h3|0,l=u,d=this.h4|0,f=d;for(let p=0;p<5;p++){const w=4-p,m=RR[p],v=$R[p],k=vg[p],E=xg[p],b=BR[p],x=IR[p];for(let T=0;T<16;T++){const $=kl(r+L1(p,s,a,u)+Bl[k[T]]+m,b[T])+d|0;r=d,d=u,u=kl(a,10)|0,a=s,s=$}for(let T=0;T<16;T++){const $=kl(i+L1(w,o,c,l)+Bl[E[T]]+v,x[T])+f|0;i=f,f=l,l=kl(c,10)|0,c=o,o=$}}this.set(this.h1+a+l|0,this.h2+u+f|0,this.h3+d+i|0,this.h4+r+o|0,this.h0+s+c|0)}roundClean(){Bl.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}so(()=>new PR);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const CR=BigInt(0),Sg=BigInt(1),OR=BigInt(2),r0=t=>t instanceof Uint8Array,UR=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function uc(t){if(!r0(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=UR[t[n]];return e}function dv(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Tg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function lc(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,i=t.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[n]=s}return e}function Pr(t){return Tg(uc(t))}function Ag(t){if(!r0(t))throw new Error("Uint8Array expected");return Tg(uc(Uint8Array.from(t).reverse()))}const Zs=(t,e)=>lc(t.toString(16).padStart(e*2,"0")),fv=(t,e)=>Zs(t,e).reverse(),MR=t=>lc(dv(t));function or(t,e,n){let r;if(typeof e=="string")try{r=lc(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(r0(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function gi(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!r0(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function NR(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function i0(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function qR(t){let e;for(e=0;t>0n;t>>=Sg,e+=1);return e}const DR=(t,e)=>t>>BigInt(e)&1n,LR=(t,e,n)=>t|(n?Sg:CR)<<BigInt(e),Eg=t=>(OR<<BigInt(t-1))-Sg,K0=t=>new Uint8Array(t),H1=t=>Uint8Array.from(t);function hv(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=K0(t),i=K0(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=K0())=>{i=a(H1([0]),d),r=a(),d.length!==0&&(i=a(H1([1]),d),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const p=r.slice();f.push(p),d+=r.length}return gi(...f)};return(d,f)=>{o(),c(d);let p;for(;!(p=f(u()));)c();return o(),p}}const HR={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Rc(t,e,n={}){const r=(i,s,o)=>{const a=HR[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const jR=Object.freeze(Object.defineProperty({__proto__:null,bitGet:DR,bitLen:qR,bitMask:Eg,bitSet:LR,bytesToHex:uc,bytesToNumberBE:Pr,bytesToNumberLE:Ag,concatBytes:gi,createHmacDrbg:hv,ensureBytes:or,equalBytes:NR,hexToBytes:lc,hexToNumber:Tg,numberToBytesBE:Zs,numberToBytesLE:fv,numberToHexUnpadded:dv,numberToVarBytesBE:MR,utf8ToBytes:i0,validateObject:Rc},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const er=BigInt(0),Dn=BigInt(1),wo=BigInt(2),zR=BigInt(3),Hh=BigInt(4),j1=BigInt(5),z1=BigInt(8);BigInt(9);BigInt(16);function Xn(t,e){const n=t%e;return n>=er?n:e+n}function FR(t,e,n){if(n<=er||e<er)throw new Error("Expected power/modulo > 0");if(n===Dn)return er;let r=Dn;for(;e>er;)e&Dn&&(r=r*t%n),t=t*t%n,e>>=Dn;return r}function ii(t,e,n){let r=t;for(;e-- >er;)r*=r,r%=n;return r}function jh(t,e){if(t===er||e<=er)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Xn(t,e),r=e,i=er,s=Dn;for(;n!==er;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Dn)throw new Error("invert: does not exist");return Xn(i,e)}function GR(t){const e=(t-Dn)/wo;let n,r,i;for(n=t-Dn,r=0;n%wo===er;n/=wo,r++);for(i=wo;i<t&&FR(i,e,t)!==t-Dn;i++);if(r===1){const o=(t+Dn)/Hh;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(n+Dn)/wo;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,i),n),d=a.pow(c,s),f=a.pow(c,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let m=a.sqr(f);p<u&&!a.eql(m,a.ONE);p++)m=a.sqr(m);const w=a.pow(l,Dn<<BigInt(u-p-1));l=a.sqr(w),d=a.mul(d,w),f=a.mul(f,l),u=p}return d}}function VR(t){if(t%Hh===zR){const e=(t+Dn)/Hh;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%z1===j1){const e=(t-j1)/z1;return function(r,i){const s=r.mul(i,wo),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,wo),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return GR(t)}const WR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pv(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=WR.reduce((r,i)=>(r[i]="function",r),e);return Rc(t,n)}function KR(t,e,n){if(n<er)throw new Error("Expected power > 0");if(n===er)return t.ONE;if(n===Dn)return e;let r=t.ONE,i=e;for(;n>er;)n&Dn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=1n;return r}function XR(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function kg(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ZR(t,e,n=!1,r={}){if(t<=er)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=kg(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=VR(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Eg(i),ZERO:er,ONE:Dn,create:c=>Xn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return er<=c&&c<t},is0:c=>c===er,isOdd:c=>(c&Dn)===Dn,neg:c=>Xn(-c,t),eql:(c,u)=>c===u,sqr:c=>Xn(c*c,t),add:(c,u)=>Xn(c+u,t),sub:(c,u)=>Xn(c-u,t),mul:(c,u)=>Xn(c*u,t),pow:(c,u)=>KR(a,c,u),div:(c,u)=>Xn(c*jh(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>jh(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>XR(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>n?fv(c,s):Zs(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?Ag(c):Pr(c)}});return Object.freeze(a)}function JR(t,e,n=!1){t=or("privateHash",t);const r=t.length,i=kg(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const s=n?Ag(t):Pr(t);return Xn(s,e-Dn)+Dn}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const YR=BigInt(0),X0=BigInt(1);function QR(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>YR;)s&X0&&(o=o.add(a)),a=a.double(),s>>=X0;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let u=i,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let f=1;f<a;f++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let u=t.ZERO,l=t.BASE;const d=BigInt(2**i-1),f=2**i,p=BigInt(i);for(let w=0;w<a;w++){const m=w*c;let v=Number(o&d);o>>=p,v>c&&(v-=f,o+=X0);const k=m,E=m+Math.abs(v)-1,b=w%2!==0,x=v<0;v===0?l=l.add(n(b,s[k])):u=u.add(n(x,s[E]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function gv(t){return pv(t.Fp),Rc(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kg(t.n,t.nBitLength),...t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function e$(t){const e=gv(t);Rc(e,{a:"field",b:"field",fromBytes:"function",toBytes:"function"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:t$,hexToBytes:n$}=jR,Ao={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Ao;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:t$(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Ao,n=typeof t=="string"?n$(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Ao._parseInt(n.subarray(2)),{d:o,l:a}=Ao._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)>=8?"00"+u:u,n=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},rs=BigInt(0),fi=BigInt(1);function r$(t){const e=e$(t),{Fp:n}=e;function r(f){const{a:p,b:w}=e,m=n.sqr(f),v=n.mul(m,f);return n.add(n.add(v,n.mul(f,p)),w)}function i(f){return typeof f=="bigint"&&rs<f&&f<e.n}function s(f){if(!i(f))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function o(f){const{allowedPrivateKeyLengths:p,nByteLength:w,wrapPrivateKey:m,n:v}=e;if(p&&typeof f!="bigint"){if(f instanceof Uint8Array&&(f=uc(f)),typeof f!="string"||!p.includes(f.length))throw new Error("Invalid key");f=f.padStart(w*2,"0")}let k;try{k=typeof f=="bigint"?f:Pr(or("private key",f,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof f}`)}return m&&(k=Xn(k,v)),s(k),k}const a=new Map;function c(f){if(!(f instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(p,w,m){if(this.px=p,this.py=w,this.pz=m,p==null||!n.isValid(p))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required")}static fromAffine(p){const{x:w,y:m}=p||{};if(!p||!n.isValid(w)||!n.isValid(m))throw new Error("invalid affine point");if(p instanceof u)throw new Error("projective point not allowed");const v=k=>n.eql(k,n.ZERO);return v(w)&&v(m)?u.ZERO:new u(w,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const w=n.invertBatch(p.map(m=>m.pz));return p.map((m,v)=>m.toAffine(w[v])).map(u.fromAffine)}static fromHex(p){const w=u.fromAffine(e.fromBytes(or("pointHex",p)));return w.assertValidity(),w}static fromPrivateKey(p){return u.BASE.multiply(o(p))}_setWindowSize(p){this._WINDOW_SIZE=p,a.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:p,y:w}=this.toAffine();if(!n.isValid(p)||!n.isValid(w))throw new Error("bad point: x or y not FE");const m=n.sqr(w),v=r(p);if(!n.eql(m,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){c(p);const{px:w,py:m,pz:v}=this,{px:k,py:E,pz:b}=p,x=n.eql(n.mul(w,b),n.mul(k,v)),T=n.eql(n.mul(m,b),n.mul(E,v));return x&&T}negate(){return new u(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:w}=e,m=n.mul(w,3n),{px:v,py:k,pz:E}=this;let b=n.ZERO,x=n.ZERO,T=n.ZERO,$=n.mul(v,v),L=n.mul(k,k),z=n.mul(E,E),J=n.mul(v,k);return J=n.add(J,J),T=n.mul(v,E),T=n.add(T,T),b=n.mul(p,T),x=n.mul(m,z),x=n.add(b,x),b=n.sub(L,x),x=n.add(L,x),x=n.mul(b,x),b=n.mul(J,b),T=n.mul(m,T),z=n.mul(p,z),J=n.sub($,z),J=n.mul(p,J),J=n.add(J,T),T=n.add($,$),$=n.add(T,$),$=n.add($,z),$=n.mul($,J),x=n.add(x,$),z=n.mul(k,E),z=n.add(z,z),$=n.mul(z,J),b=n.sub(b,$),T=n.mul(z,L),T=n.add(T,T),T=n.add(T,T),new u(b,x,T)}add(p){c(p);const{px:w,py:m,pz:v}=this,{px:k,py:E,pz:b}=p;let x=n.ZERO,T=n.ZERO,$=n.ZERO;const L=e.a,z=n.mul(e.b,3n);let J=n.mul(w,k),Z=n.mul(m,E),U=n.mul(v,b),D=n.add(w,m),B=n.add(k,E);D=n.mul(D,B),B=n.add(J,Z),D=n.sub(D,B),B=n.add(w,v);let h=n.add(k,b);return B=n.mul(B,h),h=n.add(J,U),B=n.sub(B,h),h=n.add(m,v),x=n.add(E,b),h=n.mul(h,x),x=n.add(Z,U),h=n.sub(h,x),$=n.mul(L,B),x=n.mul(z,U),$=n.add(x,$),x=n.sub(Z,$),$=n.add(Z,$),T=n.mul(x,$),Z=n.add(J,J),Z=n.add(Z,J),U=n.mul(L,U),B=n.mul(z,B),Z=n.add(Z,U),U=n.sub(J,U),U=n.mul(L,U),B=n.add(B,U),J=n.mul(Z,B),T=n.add(T,J),J=n.mul(h,B),x=n.mul(D,x),x=n.sub(x,J),J=n.mul(D,Z),$=n.mul(h,$),$=n.add($,J),new u(x,T,$)}subtract(p){return this.add(p.negate())}is0(){return this.equals(u.ZERO)}wNAF(p){return d.wNAFCached(this,a,p,w=>{const m=n.invertBatch(w.map(v=>v.pz));return w.map((v,k)=>v.toAffine(m[k])).map(u.fromAffine)})}multiplyUnsafe(p){const w=u.ZERO;if(p===rs)return w;if(s(p),p===fi)return this;const{endo:m}=e;if(!m)return d.unsafeLadder(this,p);let{k1neg:v,k1:k,k2neg:E,k2:b}=m.splitScalar(p),x=w,T=w,$=this;for(;k>rs||b>rs;)k&fi&&(x=x.add($)),b&fi&&(T=T.add($)),$=$.double(),k>>=fi,b>>=fi;return v&&(x=x.negate()),E&&(T=T.negate()),T=new u(n.mul(T.px,m.beta),T.py,T.pz),x.add(T)}multiply(p){s(p);let w=p,m,v;const{endo:k}=e;if(k){const{k1neg:E,k1:b,k2neg:x,k2:T}=k.splitScalar(w);let{p:$,f:L}=this.wNAF(b),{p:z,f:J}=this.wNAF(T);$=d.constTimeNegate(E,$),z=d.constTimeNegate(x,z),z=new u(n.mul(z.px,k.beta),z.py,z.pz),m=$.add(z),v=L.add(J)}else{const{p:E,f:b}=this.wNAF(w);m=E,v=b}return u.normalizeZ([m,v])[0]}multiplyAndAddUnsafe(p,w,m){const v=u.BASE,k=(b,x)=>x===rs||x===fi||!b.equals(v)?b.multiplyUnsafe(x):b.multiply(x),E=k(this,w).add(k(p,m));return E.is0()?void 0:E}toAffine(p){const{px:w,py:m,pz:v}=this,k=this.is0();p==null&&(p=k?n.ONE:n.inv(v));const E=n.mul(w,p),b=n.mul(m,p),x=n.mul(v,p);if(k)return{x:n.ZERO,y:n.ZERO};if(!n.eql(x,n.ONE))throw new Error("invZ was invalid");return{x:E,y:b}}isTorsionFree(){const{h:p,isTorsionFree:w}=e;if(p===fi)return!0;if(w)return w(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:w}=e;return p===fi?this:w?w(u,this):this.multiplyUnsafe(e.h)}toRawBytes(p=!0){return this.assertValidity(),e.toBytes(u,this,p)}toHex(p=!0){return uc(this.toRawBytes(p))}}u.BASE=new u(e.Gx,e.Gy,n.ONE),u.ZERO=new u(n.ZERO,n.ONE,n.ZERO);const l=e.nBitLength,d=QR(u,e.endo?Math.ceil(l/2):l);return{ProjectivePoint:u,normPrivateKeyToScalar:o,weierstrassEquation:r,isWithinCurveOrder:i}}function i$(t){const e=gv(t);return Rc(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function s$(t){const e=i$(t),n=e.n,r=e.Fp,i=r.BYTES+1,s=2*r.BYTES+1;function o(g){return rs<g&&g<r.ORDER}function a(g){return Xn(g,n)}function c(g){return jh(g,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:f}=r$({...e,toBytes(g,S,I){const N=S.toAffine(),H=r.toBytes(N.x),X=gi;return I?X(Uint8Array.from([S.hasEvenY()?2:3]),H):X(Uint8Array.from([4]),H,r.toBytes(N.y))},fromBytes(g){const S=g.length,I=g[0],N=g.subarray(1);if(S===i&&(I===2||I===3)){const H=Pr(N);if(!o(H))throw new Error("Point is not on curve");const X=d(H);let O=r.sqrt(X);const _=(O&fi)===fi;return(I&1)===1!==_&&(O=r.neg(O)),{x:H,y:O}}else if(S===s&&I===4){const H=r.fromBytes(N.subarray(0,r.BYTES)),X=r.fromBytes(N.subarray(r.BYTES,2*r.BYTES));return{x:H,y:X}}else throw new Error(`Point of length ${S} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=g=>uc(Zs(g,e.nByteLength));function w(g){const S=n>>fi;return g>S}function m(g){return w(g)?a(-g):g}const v=(g,S,I)=>Pr(g.slice(S,I));class k{constructor(S,I,N){this.r=S,this.s=I,this.recovery=N,this.assertValidity()}static fromCompact(S){const I=e.nByteLength;return S=or("compactSignature",S,I*2),new k(v(S,0,I),v(S,I,2*I))}static fromDER(S){const{r:I,s:N}=Ao.toSig(or("DER",S));return new k(I,N)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new k(this.r,this.s,S)}recoverPublicKey(S){const{r:I,s:N,recovery:H}=this,X=L(or("msgHash",S));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const O=H===2||H===3?I+e.n:I;if(O>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const _=H&1?"03":"02",q=u.fromHex(_+p(O)),ye=c(O),_e=a(-X*ye),Ie=a(N*ye),pt=u.BASE.multiplyAndAddUnsafe(q,_e,Ie);if(!pt)throw new Error("point at infinify");return pt.assertValidity(),pt}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return lc(this.toDERHex())}toDERHex(){return Ao.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return lc(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const E={isValidPrivateKey(g){try{return l(g),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const g=e.randomBytes(r.BYTES+8),S=JR(g,n);return Zs(S,e.nByteLength)},precompute(g=8,S=u.BASE){return S._setWindowSize(g),S.multiply(BigInt(3)),S}};function b(g,S=!0){return u.fromPrivateKey(g).toRawBytes(S)}function x(g){const S=g instanceof Uint8Array,I=typeof g=="string",N=(S||I)&&g.length;return S?N===i||N===s:I?N===2*i||N===2*s:g instanceof u}function T(g,S,I=!0){if(x(g))throw new Error("first arg must be private key");if(!x(S))throw new Error("second arg must be public key");return u.fromHex(S).multiply(l(g)).toRawBytes(I)}const $=e.bits2int||function(g){const S=Pr(g),I=g.length*8-e.nBitLength;return I>0?S>>BigInt(I):S},L=e.bits2int_modN||function(g){return a($(g))},z=Eg(e.nBitLength);function J(g){if(typeof g!="bigint")throw new Error("bigint expected");if(!(rs<=g&&g<z))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Zs(g,e.nByteLength)}function Z(g,S,I=U){if(["recovered","canonical"].some(F=>F in I))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:H}=e;let{lowS:X,prehash:O,extraEntropy:_}=I;X==null&&(X=!0),g=or("msgHash",g),O&&(g=or("prehashed msgHash",N(g)));const q=L(g),ye=l(S),_e=[J(ye),J(q)];if(_!=null){const F=_===!0?H(r.BYTES):_;_e.push(or("extraEntropy",F,r.BYTES))}const Ie=gi(..._e),pt=q;function te(F){const Y=$(F);if(!f(Y))return;const ee=c(Y),ie=u.BASE.multiply(Y).toAffine(),le=a(ie.x);if(le===rs)return;const oe=a(ee*a(pt+le*ye));if(oe===rs)return;let pe=(ie.x===le?0:2)|Number(ie.y&fi),Ee=oe;return X&&w(oe)&&(Ee=m(oe),pe^=1),new k(le,Ee,pe)}return{seed:Ie,k2sig:te}}const U={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function B(g,S,I=U){const{seed:N,k2sig:H}=Z(g,S,I);return hv(e.hash.outputLen,e.nByteLength,e.hmac)(N,H)}u.BASE._setWindowSize(8);function h(g,S,I,N=D){var ie;const H=g;if(S=or("msgHash",S),I=or("publicKey",I),"strict"in N)throw new Error("options.strict was renamed to lowS");const{lowS:X,prehash:O}=N;let _,q;try{if(typeof H=="string"||H instanceof Uint8Array)try{_=k.fromDER(H)}catch(le){if(!(le instanceof Ao.Err))throw le;_=k.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:le,s:oe}=H;_=new k(le,oe)}else throw new Error("PARSE");q=u.fromHex(I)}catch(le){if(le.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&_.hasHighS())return!1;O&&(S=e.hash(S));const{r:ye,s:_e}=_,Ie=L(S),pt=c(_e),te=a(Ie*pt),F=a(ye*pt),Y=(ie=u.BASE.multiplyAndAddUnsafe(q,te,F))==null?void 0:ie.toAffine();return Y?a(Y.x)===ye:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:T,sign:B,verify:h,ProjectivePoint:u,Signature:k,utils:E}}function o$(t,e){const n=t.ORDER;let r=0n;for(let f=n-1n;f%2n===0n;f/=2n)r+=1n;const i=r,s=(n-1n)/2n**i,o=(s-1n)/2n,a=2n**i-1n,c=2n**(i-1n),u=t.pow(e,s),l=t.pow(e,(s+1n)/2n);let d=(f,p)=>{let w=u,m=t.pow(p,a),v=t.sqr(m);v=t.mul(v,p);let k=t.mul(f,v);k=t.pow(k,o),k=t.mul(k,m),m=t.mul(k,p),v=t.mul(k,f);let E=t.mul(v,m);k=t.pow(E,c);let b=t.eql(k,t.ONE);m=t.mul(v,l),k=t.mul(E,w),v=t.cmov(m,v,b),E=t.cmov(k,E,b);for(let x=i;x>1;x--){let T=2n**(x-2n),$=t.pow(E,T);const L=t.eql($,t.ONE);m=t.mul(v,w),w=t.mul(w,w),$=t.mul(E,w),v=t.cmov(m,v,L),E=t.cmov($,E,L)}return{isValid:b,value:v}};if(t.ORDER%4n===3n){const f=(t.ORDER-3n)/4n,p=t.sqrt(t.neg(e));d=(w,m)=>{let v=t.sqr(m);const k=t.mul(w,m);v=t.mul(v,k);let E=t.pow(v,f);E=t.mul(E,k);const b=t.mul(E,p),x=t.mul(t.sqr(E),m),T=t.eql(x,w);let $=t.cmov(b,E,T);return{isValid:T,value:$}}}return d}function a$(t,e){if(pv(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=o$(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,a,c,u,l,d;i=t.sqr(r),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),u=t.sqr(a),c=t.mul(u,e.A),s=t.add(s,c),s=t.mul(s,o),u=t.mul(u,a),c=t.mul(u,e.B),s=t.add(s,c),l=t.mul(i,o);const{isValid:f,value:p}=n(s,u);d=t.mul(i,r),d=t.mul(d,p),l=t.cmov(l,o,f),d=t.cmov(d,p,f);const w=t.isOdd(r)===t.isOdd(d);return d=t.cmov(t.neg(d),d,w),l=t.div(l,a),{x:l,y:d}}}function c$(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return i0(t);throw new Error("DST must be Uint8Array or string")}const u$=Pr;function qs(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function l$(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function vu(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function Bg(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function d$(t,e,n,r){vu(t),vu(e),Bg(n),e.length>255&&(e=r(gi(i0("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(o>255)throw new Error("Invalid xmd length");const a=gi(e,qs(e.length,1)),c=qs(0,s),u=qs(n,2),l=new Array(o),d=r(gi(c,t,u,qs(0,1),a));l[0]=r(gi(d,qs(1,1),a));for(let p=1;p<=o;p++){const w=[l$(d,l[p-1]),qs(p+1,1),a];l[p]=r(gi(...w))}return gi(...l).slice(0,n)}function f$(t,e,n,r,i){if(vu(t),vu(e),Bg(n),e.length>255){const s=Math.ceil(2*r/8);e=i.create({dkLen:s}).update(i0("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(qs(n,2)).update(e).update(qs(e.length,1)).digest()}function F1(t,e,n){Rc(n,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:s,hash:o,expand:a,DST:c}=n;vu(t),Bg(e);const u=c$(c),l=r.toString(2).length,d=Math.ceil((l+i)/8),f=e*s*d;let p;if(a==="xmd")p=d$(t,u,f,o);else if(a==="xof")p=f$(t,u,f,i,o);else if(a===void 0)p=t;else throw new Error('expand must be "xmd", "xof" or undefined');const w=new Array(e);for(let m=0;m<e;m++){const v=new Array(s);for(let k=0;k<s;k++){const E=d*(k+m*s),b=p.subarray(E,E+d);v[k]=Xn(u$(b),r)}w[m]=v}return w}function h$(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[s,o,a,c]=n.map(u=>u.reduce((l,d)=>t.add(t.mul(l,r),d)));return r=t.div(s,o),i=t.mul(i,t.div(a,c)),{x:r,y:i}}}function p$(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const s=F1(r,2,{...n,DST:n.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const s=F1(r,1,{...n,DST:n.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function g$(t){return{hash:t,hmac:(e,...n)=>n0(t,e,hg(...n)),randomBytes:tl}}function y$(t,e){const n=r=>s$({...t,...g$(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const s0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Bd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),yv=BigInt(1),zh=BigInt(2),G1=(t,e)=>(t+e/zh)/e;function mv(t){const e=s0,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,d=ii(l,n,e)*l%e,f=ii(d,n,e)*l%e,p=ii(f,zh,e)*u%e,w=ii(p,i,e)*p%e,m=ii(w,s,e)*w%e,v=ii(m,a,e)*m%e,k=ii(v,c,e)*v%e,E=ii(k,a,e)*m%e,b=ii(E,n,e)*l%e,x=ii(b,o,e)*w%e,T=ii(x,r,e)*u%e,$=ii(T,zh,e);if(!eo.eql(eo.sqr($),t))throw new Error("Cannot find square root");return $}const eo=ZR(s0,void 0,void 0,{sqrt:mv}),rl=y$({a:BigInt(0),b:BigInt(7),Fp:eo,n:Bd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Bd,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-yv*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=G1(s*t,e),c=G1(-r*t,e);let u=Xn(t-a*n-c*i,e),l=Xn(-a*r-c*s,e);const d=u>o,f=l>o;if(d&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},Ni),Ig=BigInt(0),wv=t=>typeof t=="bigint"&&Ig<t&&t<s0,m$=t=>typeof t=="bigint"&&Ig<t&&t<Bd,V1={};function Id(t,...e){let n=V1[t];if(n===void 0){const r=Ni(Uint8Array.from(t,i=>i.charCodeAt(0)));n=gi(r,r),V1[t]=n}return Ni(gi(n,...e))}const Rg=t=>t.toRawBytes(!0).slice(1),Fh=t=>Zs(t,32),Z0=t=>Xn(t,s0),xu=t=>Xn(t,Bd),$g=rl.ProjectivePoint,w$=(t,e,n)=>$g.BASE.multiplyAndAddUnsafe(t,e,n);function Gh(t){let e=rl.utils.normPrivateKeyToScalar(t),n=$g.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:xu(-e),bytes:Rg(n)}}function _v(t){if(!wv(t))throw new Error("bad x: need 0 < x < p");const e=Z0(t*t),n=Z0(e*t+BigInt(7));let r=mv(n);r%2n!==0n&&(r=Z0(-r));const i=new $g(t,r,yv);return i.assertValidity(),i}function bv(...t){return xu(Pr(Id("BIP0340/challenge",...t)))}function _$(t){return Gh(t).bytes}function b$(t,e,n=tl(32)){const r=or("message",t),{bytes:i,scalar:s}=Gh(e),o=or("auxRand",n,32),a=Fh(s^Pr(Id("BIP0340/aux",o))),c=Id("BIP0340/nonce",a,i,r),u=xu(Pr(c));if(u===Ig)throw new Error("sign failed: k is zero");const{bytes:l,scalar:d}=Gh(u),f=bv(l,i,r),p=new Uint8Array(64);if(p.set(l,0),p.set(Fh(xu(d+f*s)),32),!vv(p,r,i))throw new Error("sign: Invalid signature produced");return p}function vv(t,e,n){const r=or("signature",t,64),i=or("message",e),s=or("publicKey",n,32);try{const o=_v(Pr(s)),a=Pr(r.subarray(0,32));if(!wv(a))return!1;const c=Pr(r.subarray(32,64));if(!m$(c))return!1;const u=bv(Fh(a),Rg(o),i),l=w$(o,c,xu(-u));return!(!l||!l.hasEvenY()||l.toAffine().x!==a)}catch{return!1}}rl.utils.randomPrivateKey;const v$=h$(eo,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),x$=a$(eo,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:eo.create(BigInt("-11"))});p$(rl.ProjectivePoint,t=>{const{x:e,y:n}=x$(eo.create(t[0]));return v$(e,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:eo.ORDER,m:1,k:128,expand:"xmd",hash:Ni});rl.ProjectivePoint;Ou.base58check(Ni);fg("Bitcoin seed");var Il,S$=new Uint8Array(16);function xv(){if(!Il&&(Il=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Il))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Il(S$)}const T$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function o0(t){return typeof t=="string"&&T$.test(t)}var rr=[];for(var J0=0;J0<256;++J0)rr.push((J0+256).toString(16).substr(1));function a0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(rr[t[e+0]]+rr[t[e+1]]+rr[t[e+2]]+rr[t[e+3]]+"-"+rr[t[e+4]]+rr[t[e+5]]+"-"+rr[t[e+6]]+rr[t[e+7]]+"-"+rr[t[e+8]]+rr[t[e+9]]+"-"+rr[t[e+10]]+rr[t[e+11]]+rr[t[e+12]]+rr[t[e+13]]+rr[t[e+14]]+rr[t[e+15]]).toLowerCase();if(!o0(n))throw TypeError("Stringified UUID is invalid");return n}var W1,Y0,Q0=0,eh=0;function A$(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||W1,o=t.clockseq!==void 0?t.clockseq:Y0;if(s==null||o==null){var a=t.random||(t.rng||xv)();s==null&&(s=W1=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Y0=(a[6]<<8|a[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:eh+1,l=c-Q0+(u-eh)/1e4;if(l<0&&t.clockseq===void 0&&(o=o+1&16383),(l<0||c>Q0)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Q0=c,eh=u,Y0=o,c+=122192928e5;var d=((c&268435455)*1e4+u)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=d&255;var f=c/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=f&255,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var p=0;p<6;++p)i[r+p]=s[p];return e||a0(i)}function Sv(t){if(!o0(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function E$(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var k$="6ba7b810-9dad-11d1-80b4-00c04fd430c8",B$="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Tv(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=E$(i)),typeof s=="string"&&(s=Sv(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return a0(c)}try{r.name=t}catch{}return r.DNS=k$,r.URL=B$,r}function I$(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return R$($$(P$(t),t.length*8))}function R$(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function Av(t){return(t+64>>>9<<4)+14+1}function $$(t,e){t[e>>5]|=128<<e%32,t[Av(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,c=r,u=i,l=s;n=wr(n,r,i,s,t[o],7,-680876936),s=wr(s,n,r,i,t[o+1],12,-389564586),i=wr(i,s,n,r,t[o+2],17,606105819),r=wr(r,i,s,n,t[o+3],22,-1044525330),n=wr(n,r,i,s,t[o+4],7,-176418897),s=wr(s,n,r,i,t[o+5],12,1200080426),i=wr(i,s,n,r,t[o+6],17,-1473231341),r=wr(r,i,s,n,t[o+7],22,-45705983),n=wr(n,r,i,s,t[o+8],7,1770035416),s=wr(s,n,r,i,t[o+9],12,-1958414417),i=wr(i,s,n,r,t[o+10],17,-42063),r=wr(r,i,s,n,t[o+11],22,-1990404162),n=wr(n,r,i,s,t[o+12],7,1804603682),s=wr(s,n,r,i,t[o+13],12,-40341101),i=wr(i,s,n,r,t[o+14],17,-1502002290),r=wr(r,i,s,n,t[o+15],22,1236535329),n=_r(n,r,i,s,t[o+1],5,-165796510),s=_r(s,n,r,i,t[o+6],9,-1069501632),i=_r(i,s,n,r,t[o+11],14,643717713),r=_r(r,i,s,n,t[o],20,-373897302),n=_r(n,r,i,s,t[o+5],5,-701558691),s=_r(s,n,r,i,t[o+10],9,38016083),i=_r(i,s,n,r,t[o+15],14,-660478335),r=_r(r,i,s,n,t[o+4],20,-405537848),n=_r(n,r,i,s,t[o+9],5,568446438),s=_r(s,n,r,i,t[o+14],9,-1019803690),i=_r(i,s,n,r,t[o+3],14,-187363961),r=_r(r,i,s,n,t[o+8],20,1163531501),n=_r(n,r,i,s,t[o+13],5,-1444681467),s=_r(s,n,r,i,t[o+2],9,-51403784),i=_r(i,s,n,r,t[o+7],14,1735328473),r=_r(r,i,s,n,t[o+12],20,-1926607734),n=br(n,r,i,s,t[o+5],4,-378558),s=br(s,n,r,i,t[o+8],11,-2022574463),i=br(i,s,n,r,t[o+11],16,1839030562),r=br(r,i,s,n,t[o+14],23,-35309556),n=br(n,r,i,s,t[o+1],4,-1530992060),s=br(s,n,r,i,t[o+4],11,1272893353),i=br(i,s,n,r,t[o+7],16,-155497632),r=br(r,i,s,n,t[o+10],23,-1094730640),n=br(n,r,i,s,t[o+13],4,681279174),s=br(s,n,r,i,t[o],11,-358537222),i=br(i,s,n,r,t[o+3],16,-722521979),r=br(r,i,s,n,t[o+6],23,76029189),n=br(n,r,i,s,t[o+9],4,-640364487),s=br(s,n,r,i,t[o+12],11,-421815835),i=br(i,s,n,r,t[o+15],16,530742520),r=br(r,i,s,n,t[o+2],23,-995338651),n=vr(n,r,i,s,t[o],6,-198630844),s=vr(s,n,r,i,t[o+7],10,1126891415),i=vr(i,s,n,r,t[o+14],15,-1416354905),r=vr(r,i,s,n,t[o+5],21,-57434055),n=vr(n,r,i,s,t[o+12],6,1700485571),s=vr(s,n,r,i,t[o+3],10,-1894986606),i=vr(i,s,n,r,t[o+10],15,-1051523),r=vr(r,i,s,n,t[o+1],21,-2054922799),n=vr(n,r,i,s,t[o+8],6,1873313359),s=vr(s,n,r,i,t[o+15],10,-30611744),i=vr(i,s,n,r,t[o+6],15,-1560198380),r=vr(r,i,s,n,t[o+13],21,1309151649),n=vr(n,r,i,s,t[o+4],6,-145523070),s=vr(s,n,r,i,t[o+11],10,-1120210379),i=vr(i,s,n,r,t[o+2],15,718787259),r=vr(r,i,s,n,t[o+9],21,-343485551),n=zs(n,a),r=zs(r,c),i=zs(i,u),s=zs(s,l)}return[n,r,i,s]}function P$(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(Av(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function zs(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function C$(t,e){return t<<e|t>>>32-e}function c0(t,e,n,r,i,s){return zs(C$(zs(zs(e,t),zs(r,s)),i),n)}function wr(t,e,n,r,i,s,o){return c0(e&n|~e&r,t,e,i,s,o)}function _r(t,e,n,r,i,s,o){return c0(e&r|n&~r,t,e,i,s,o)}function br(t,e,n,r,i,s,o){return c0(e^n^r,t,e,i,s,o)}function vr(t,e,n,r,i,s,o){return c0(n^(e|~r),t,e,i,s,o)}var O$=Tv("v3",48,I$);const U$=O$;function M$(t,e,n){t=t||{};var r=t.random||(t.rng||xv)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return a0(r)}function N$(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function th(t,e){return t<<e|t>>>32-e}function q$(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=t[c*64+l*4]<<24|t[c*64+l*4+1]<<16|t[c*64+l*4+2]<<8|t[c*64+l*4+3];a[c]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=a[d][p];for(var w=16;w<80;++w)f[w]=th(f[w-3]^f[w-8]^f[w-14]^f[w-16],1);for(var m=n[0],v=n[1],k=n[2],E=n[3],b=n[4],x=0;x<80;++x){var T=Math.floor(x/20),$=th(m,5)+N$(T,v,k,E)+b+e[T]+f[x]>>>0;b=E,E=k,k=th(v,30)>>>0,v=m,m=$}n[0]=n[0]+m>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+k>>>0,n[3]=n[3]+E>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var D$=Tv("v5",80,q$);const L$=D$,H$="00000000-0000-0000-0000-000000000000";function j$(t){if(!o0(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const z$=Object.freeze(Object.defineProperty({__proto__:null,NIL:H$,parse:Sv,stringify:a0,v1:A$,v3:U$,v4:M$,v5:L$,validate:o0,version:j$},Symbol.toStringTag,{value:"Module"})),u0=gc(z$);u0.v4;u0.v4;var Pg={},Su={},F$={get exports(){return Su},set exports(t){Su=t}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(F$);var Rd={},G$={get exports(){return Rd},set exports(t){Rd=t}},$d={},V$={get exports(){return $d},set exports(t){$d=t}},Pd={},W$={get exports(){return Pd},set exports(t){Pd=t}},K1;function K$(){return K1||(K1=1,function(t){var e=Kd.default;function n(r,i){if(e(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,i||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(W$)),Pd}var X1;function X$(){return X1||(X1=1,function(t){var e=Kd.default,n=K$();function r(i){var s=n(i,"string");return e(s)==="symbol"?s:String(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(V$)),$d}var Z1;function Cg(){return Z1||(Z1=1,function(t){var e=X$();function n(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,e(a.key),a)}}function r(i,s,o){return s&&n(i.prototype,s),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(G$)),Rd}var Cd={},Z$={get exports(){return Cd},set exports(t){Cd=t}},J1;function Og(){return J1||(J1=1,function(t){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Z$)),Cd}var Od={},J$={get exports(){return Od},set exports(t){Od=t}},Ud={},Y$={get exports(){return Ud},set exports(t){Ud=t}},Y1;function Q$(){return Y1||(Y1=1,function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Y$)),Ud}var Q1;function Ug(){return Q1||(Q1=1,function(t){var e=Q$();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&e(r,i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(J$)),Od}var Md={},eP={get exports(){return Md},set exports(t){Md=t}},Nd={},tP={get exports(){return Nd},set exports(t){Nd=t}},em;function nP(){return em||(em=1,function(t){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(tP)),Nd}var tm;function Mg(){return tm||(tm=1,function(t){var e=Kd.default,n=nP();function r(i,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(eP)),Md}var qd={},rP={get exports(){return qd},set exports(t){qd=t}},nm;function Ng(){return nm||(nm=1,function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(rP)),qd}var nh={},Dd={},iP={get exports(){return Dd},set exports(t){Dd=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,d,f){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,d||c,f),w=n?n+u:u;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],p]:c._events[w].push(p):(c._events[w]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)e.call(l,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,w=new Array(p);f<p;f++)w[f]=d[f].fn;return w},a.prototype.listenerCount=function(u){var l=n?n+u:u,d=this._events[l];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,l,d,f,p,w){var m=n?n+u:u;if(!this._events[m])return!1;var v=this._events[m],k=arguments.length,E,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),k){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,l),!0;case 3:return v.fn.call(v.context,l,d),!0;case 4:return v.fn.call(v.context,l,d,f),!0;case 5:return v.fn.call(v.context,l,d,f,p),!0;case 6:return v.fn.call(v.context,l,d,f,p,w),!0}for(b=1,E=new Array(k-1);b<k;b++)E[b-1]=arguments[b];v.fn.apply(v.context,E)}else{var x=v.length,T;for(b=0;b<x;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),k){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,l);break;case 3:v[b].fn.call(v[b].context,l,d);break;case 4:v[b].fn.call(v[b].context,l,d,f);break;default:if(!E)for(T=1,E=new Array(k-1);T<k;T++)E[T-1]=arguments[T];v[b].fn.apply(v[b].context,E)}}return!0},a.prototype.on=function(u,l,d){return s(this,u,l,d,!1)},a.prototype.once=function(u,l,d){return s(this,u,l,d,!0)},a.prototype.removeListener=function(u,l,d,f){var p=n?n+u:u;if(!this._events[p])return this;if(!l)return o(this,p),this;var w=this._events[p];if(w.fn)w.fn===l&&(!f||w.once)&&(!d||w.context===d)&&o(this,p);else{for(var m=0,v=[],k=w.length;m<k;m++)(w[m].fn!==l||f&&!w[m].once||d&&w[m].context!==d)&&v.push(w[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(iP);var rm;function sP(){return rm||(rm=1,function(t){var e=Su;Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=e(Og()),r=e(Cg()),i=e(Ug()),s=e(Mg()),o=e(Ng()),a=Dd;function c(f){var p=u();return function(){var m=(0,o.default)(f),v;if(p){var k=(0,o.default)(this).constructor;v=Reflect.construct(m,arguments,k)}else v=m.apply(this,arguments);return(0,s.default)(this,v)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var l=function(f){(0,i.default)(w,f);var p=c(w);function w(m,v,k){var E;return(0,n.default)(this,w),E=p.call(this),E.socket=new window.WebSocket(m,k),E.socket.onopen=function(){return E.emit("open")},E.socket.onmessage=function(b){return E.emit("message",b.data)},E.socket.onerror=function(b){return E.emit("error",b)},E.socket.onclose=function(b){E.emit("close",b.code,b.reason)},E}return(0,r.default)(w,[{key:"send",value:function(v,k,E){var b=E||k;try{this.socket.send(v),b()}catch(x){b(x)}}},{key:"close",value:function(v,k){this.socket.close(v,k)}},{key:"addEventListener",value:function(v,k,E){this.socket.addEventListener(v,k,E)}}]),w}(a.EventEmitter);function d(f,p){return new l(f,p)}}(nh)),nh}var rh={},Ld={},oP={get exports(){return Ld},set exports(t){Ld=t}},im;function aP(){return im||(im=1,function(t){function e(r,i,s,o,a,c,u){try{var l=r[c](u),d=l.value}catch(f){s(f);return}l.done?i(d):Promise.resolve(d).then(o,a)}function n(r){return function(){var i=this,s=arguments;return new Promise(function(o,a){var c=r.apply(i,s);function u(d){e(c,o,a,u,l,"next",d)}function l(d){e(c,o,a,u,l,"throw",d)}u(void 0)})}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(oP)),Ld}var sm;function cP(){return sm||(sm=1,function(t){var e=Su;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(ux),r=e(aP()),i=e(Kd),s=e(Og()),o=e(Cg()),a=e(Ug()),c=e(Mg()),u=e(Ng()),l=Dd;function d(m){var v=f();return function(){var E=(0,u.default)(m),b;if(v){var x=(0,u.default)(this).constructor;b=Reflect.construct(E,arguments,x)}else b=E.apply(this,arguments);return(0,c.default)(this,b)}}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var p=function(m,v){var k={};for(var E in m)Object.prototype.hasOwnProperty.call(m,E)&&v.indexOf(E)<0&&(k[E]=m[E]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,E=Object.getOwnPropertySymbols(m);b<E.length;b++)v.indexOf(E[b])<0&&Object.prototype.propertyIsEnumerable.call(m,E[b])&&(k[E[b]]=m[E[b]]);return k},w=function(m){(0,a.default)(k,m);var v=d(k);function k(E){var b,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,k);var L=T.autoconnect,z=L===void 0?!0:L,J=T.reconnect,Z=J===void 0?!0:J,U=T.reconnect_interval,D=U===void 0?1e3:U,B=T.max_reconnects,h=B===void 0?5:B,g=p(T,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return b=v.call(this),b.webSocketFactory=E,b.queue={},b.rpc_id=0,b.address=x,b.autoconnect=z,b.ready=!1,b.reconnect=Z,b.reconnect_timer_id=void 0,b.reconnect_interval=D,b.max_reconnects=h,b.rest_options=g,b.current_reconnects=0,b.generate_request_id=$||function(){return++b.rpc_id},b.autoconnect&&b._connect(b.address,Object.assign({autoconnect:b.autoconnect,reconnect:b.reconnect,reconnect_interval:b.reconnect_interval,max_reconnects:b.max_reconnects},b.rest_options)),b}return(0,o.default)(k,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(b,x,T,$){var L=this;return!$&&(0,i.default)(T)==="object"&&($=T,T=null),new Promise(function(z,J){if(!L.ready)return J(new Error("socket not ready"));var Z=L.generate_request_id(b,x),U={jsonrpc:"2.0",method:b,params:x||null,id:Z};L.socket.send(JSON.stringify(U),$,function(D){if(D)return J(D);L.queue[Z]={promise:[z,J]},T&&(L.queue[Z].timeout=setTimeout(function(){delete L.queue[Z],J(new Error("reply timeout"))},T))})})}},{key:"login",value:function(){var E=(0,r.default)(n.default.mark(function x(T){var $;return n.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,this.call("rpc.login",T);case 2:if($=z.sent,$){z.next=5;break}throw new Error("authentication failed");case 5:return z.abrupt("return",$);case 6:case"end":return z.stop()}},x,this)}));function b(x){return E.apply(this,arguments)}return b}()},{key:"listMethods",value:function(){var E=(0,r.default)(n.default.mark(function x(){return n.default.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,this.call("__listMethods");case 2:return $.abrupt("return",$.sent);case 3:case"end":return $.stop()}},x,this)}));function b(){return E.apply(this,arguments)}return b}()},{key:"notify",value:function(b,x){var T=this;return new Promise(function($,L){if(!T.ready)return L(new Error("socket not ready"));var z={jsonrpc:"2.0",method:b,params:x||null};T.socket.send(JSON.stringify(z),function(J){if(J)return L(J);$()})})}},{key:"subscribe",value:function(){var E=(0,r.default)(n.default.mark(function x(T){var $;return n.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return typeof T=="string"&&(T=[T]),z.next=3,this.call("rpc.on",T);case 3:if($=z.sent,!(typeof T=="string"&&$[T]!=="ok")){z.next=6;break}throw new Error("Failed subscribing to an event '"+T+"' with: "+$[T]);case 6:return z.abrupt("return",$);case 7:case"end":return z.stop()}},x,this)}));function b(x){return E.apply(this,arguments)}return b}()},{key:"unsubscribe",value:function(){var E=(0,r.default)(n.default.mark(function x(T){var $;return n.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return typeof T=="string"&&(T=[T]),z.next=3,this.call("rpc.off",T);case 3:if($=z.sent,!(typeof T=="string"&&$[T]!=="ok")){z.next=6;break}throw new Error("Failed unsubscribing from an event with: "+$);case 6:return z.abrupt("return",$);case 7:case"end":return z.stop()}},x,this)}));function b(x){return E.apply(this,arguments)}return b}()},{key:"close",value:function(b,x){this.socket.close(b||1e3,x)}},{key:"_connect",value:function(b,x){var T=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(b,x),this.socket.addEventListener("open",function(){T.ready=!0,T.emit("open"),T.current_reconnects=0}),this.socket.addEventListener("message",function($){var L=$.data;L instanceof ArrayBuffer&&(L=Buffer.from(L).toString());try{L=JSON.parse(L)}catch{return}if(L.notification&&T.listeners(L.notification).length){if(!Object.keys(L.params).length)return T.emit(L.notification);var z=[L.notification];if(L.params.constructor===Object)z.push(L.params);else for(var J=0;J<L.params.length;J++)z.push(L.params[J]);return Promise.resolve().then(function(){T.emit.apply(T,z)})}if(!T.queue[L.id])return L.method&&L.params?Promise.resolve().then(function(){T.emit(L.method,L.params)}):void 0;"error"in L=="result"in L&&T.queue[L.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),T.queue[L.id].timeout&&clearTimeout(T.queue[L.id].timeout),L.error?T.queue[L.id].promise[1](L.error):T.queue[L.id].promise[0](L.result),delete T.queue[L.id]}),this.socket.addEventListener("error",function($){return T.emit("error",$)}),this.socket.addEventListener("close",function($){var L=$.code,z=$.reason;T.ready&&setTimeout(function(){return T.emit("close",L,z)},0),T.ready=!1,T.socket=void 0,L!==1e3&&(T.current_reconnects++,T.reconnect&&(T.max_reconnects>T.current_reconnects||T.max_reconnects===0)&&(T.reconnect_timer_id=setTimeout(function(){return T._connect(b,x)},T.reconnect_interval)))})}}]),k}(l.EventEmitter);t.default=w}(rh)),rh}var na=Su;Object.defineProperty(Pg,"__esModule",{value:!0});var Ev=Pg.Client=void 0,uP=na(Cg()),lP=na(Og()),dP=na(Ug()),fP=na(Mg()),om=na(Ng()),hP=na(sP()),pP=na(cP());function gP(t){var e=yP();return function(){var r=(0,om.default)(t),i;if(e){var s=(0,om.default)(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return(0,fP.default)(this,i)}}function yP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var mP=function(t){(0,dP.default)(n,t);var e=gP(n);function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.autoconnect,o=s===void 0?!0:s,a=i.reconnect,c=a===void 0?!0:a,u=i.reconnect_interval,l=u===void 0?1e3:u,d=i.max_reconnects,f=d===void 0?5:d,p=arguments.length>2?arguments[2]:void 0;return(0,lP.default)(this,n),e.call(this,hP.default,r,{autoconnect:o,reconnect:c,reconnect_interval:l,max_reconnects:f},p)}return(0,uP.default)(n)}(pP.default);Ev=Pg.Client=mP;var qg=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Zt=(t,e,n)=>(qg(t,e,"read from private field"),n?n.call(t):e.get(t)),Wc=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Kc=(t,e,n,r)=>(qg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Xc=(t,e,n)=>(qg(t,e,"access private method"),n),ti=W(),wP=W(),_P=W(),wn=W(),Or=W(),qr=V(),oo=Le([j({AddressOwner:Or}),j({ObjectOwner:Or}),j({Shared:j({initial_shared_version:V()})}),he("Immutable")]),bP=Ar("SuiJsonValue",()=>!0),kv=32;function vP(t){return xP(t)&&SP(t)===kv}function il(t,e=!1){let n=t.toLowerCase();return!e&&n.startsWith("0x")&&(n=n.slice(2)),`0x${n.padStart(kv*2,"0")}`}function Dg(t,e=!1){return il(t,e)}function xP(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function SP(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}Le([W(),he("package")]);var Vi=j({digest:ti,objectId:W(),version:Le([V(),W()])}),TP=j({payment:re(Vi),owner:W(),price:V(),budget:V()}),AP=Qn(Vi,j({type:W(),owner:oo,previousTransaction:ti})),EP=hr(W(),fr()),kP=hr(W(),W()),Bv=j({type:W(),fields:EP,hasPublicTransfer:Ke()}),Iv=j({disassembled:kP}),BP=Le([Qn(Bv,j({dataType:he("moveObject")})),Qn(Iv,j({dataType:he("package")}))]);j({type:W(),hasPublicTransfer:Ke(),version:qr,bcsBytes:re(V())});var IP=j({id:wn,moduleMap:hr(W(),W())}),RP=Le([Qn(Bv,j({dataType:he("moveObject")})),Qn(IP,j({dataType:he("package")}))]);BigInt(1e9);var ra=W(),$P=j({objectId:wn,version:qr,digest:ra,type:se(W()),content:se(BP),bcs:se(RP),owner:se(oo),previousTransaction:se(ti),storageRebate:se(V()),display:se(hr(W(),W()))});j({showType:se(Ke()),showContent:se(Ke()),showBcs:se(Ke()),showOwner:se(Ke()),showPreviousTransaction:se(Ke()),showStorageRebate:se(Ke()),showDisplay:se(Ke())});Le([he("Exists"),he("NotExists"),he("Deleted")]);re(AP);var PP=j({tag:W(),object_id:se(wn),version:se(qr),digest:se(ra)}),CP=j({data:se($P),error:se(PP)});function Rv(t){return t.data}function OP(t){if(t.error&&"object_id"in t.error&&"version"in t.error&&"digest"in t.error){const e=t.error;return{objectId:e.object_id,version:e.version,digest:e.digest}}}function UP(t){if("reference"in t)return t.reference;const e=Rv(t);return e?{objectId:e.objectId,version:e.version,digest:e.digest}:OP(t)}function MP(t){var e;return on(t,oo)?t:(e=Rv(t))==null?void 0:e.owner}function NP(t){const e=MP(t);if(typeof e=="object"&&"Shared"in e)return e.Shared.initial_shared_version}var qP=j({objectId:wn,atCheckpoint:se(V())});j({data:re(CP),nextCursor:se(qP),hasNextPage:Ke()});var $v=j({txDigest:ti,eventSeq:qr}),Lg=j({id:$v,packageId:wn,transactionModule:W(),sender:Or,type:W(),parsedJson:se(hr(W(),fr())),bcs:se(W()),timestampMs:se(nr())});j({data:re(Lg),nextCursor:Le([$v,he(null)]),hasNextPage:Ke()});var DP=V();j({subscription:DP,result:Lg});var Tu=W(),LP=j({epoch:Tu,storage_charge:V(),computation_charge:V(),storage_rebate:V(),epoch_start_timestamp_ms:se(V())}),HP=j({epoch:V(),round:V(),commit_timestamp_ms:V()}),jP=j({objects:re(wn)}),Qi=Le([he("GasCoin"),j({Input:V()}),j({Result:V()}),j({NestedResult:An([V(),V()])})]),zP=j({arguments:se(re(Qi)),type_arguments:se(re(W())),package:wn,module:W(),function:W()}),FP=Le([j({MoveCall:zP}),j({TransferObjects:An([re(Qi),Qi])}),j({SplitCoins:An([Qi,re(Qi)])}),j({MergeCoins:An([Qi,re(Qi)])}),j({Publish:Iv}),j({MakeMoveVec:An([xt(W()),re(Qi)])})]),GP=Le([j({type:he("pure"),valueType:se(W()),value:bP}),j({type:he("object"),objectType:he("immOrOwnedObject"),objectId:wn,version:qr,digest:ra}),j({type:he("object"),objectType:he("sharedObject"),objectId:wn,initialSharedVersion:qr,mutable:Ke()})]),VP=j({transactions:re(FP),inputs:re(GP)}),WP=Le([Qn(LP,j({kind:he("ChangeEpoch")})),Qn(HP,j({kind:he("ConsensusCommitPrologue")})),Qn(jP,j({kind:he("Genesis")})),Qn(VP,j({kind:he("ProgrammableTransaction")}))]),KP=j({messageVersion:he("v1"),transaction:WP,sender:Or,gasData:TP}),am=W(),XP=Le([am,re(am)]);j({epoch:Tu,signature:XP,signers_map:re(V())});var ZP=j({computationCost:W(),storageCost:W(),storageRebate:W(),nonRefundableStorageFee:W()}),JP=Le([he("success"),he("failure")]),YP=j({status:JP,error:se(W())}),Rl=j({owner:oo,reference:Vi}),QP=j({objectId:wn,sequenceNumber:qr}),Hg=j({messageVersion:he("v1"),status:YP,executedEpoch:Tu,modifiedAtVersions:se(re(QP)),gasUsed:ZP,sharedObjects:se(re(Vi)),transactionDigest:ti,created:se(re(Rl)),mutated:se(re(Rl)),unwrapped:se(re(Rl)),deleted:se(re(Vi)),unwrapped_then_deleted:se(re(Vi)),wrapped:se(re(Vi)),gasObject:Rl,eventsDigest:se(_P),dependencies:se(re(ti))}),jg=re(Lg),eC=An([re(V()),W()]),tC=An([Qi,re(V()),W()]),nC=j({mutableReferenceOutputs:se(re(tC)),returnValues:se(re(eC))});j({effects:Hg,events:jg,results:se(re(nC)),error:se(W())});var rC=W(),iC=j({data:KP,txSignatures:re(W())}),sC=j({type:he("published"),packageId:wn,version:qr,digest:ra,modules:re(W())}),oC=j({type:he("transferred"),sender:Or,recipient:oo,objectType:W(),objectId:wn,version:qr,digest:ra}),aC=j({type:he("mutated"),sender:Or,owner:oo,objectType:W(),objectId:wn,version:qr,previousVersion:qr,digest:ra}),cC=j({type:he("deleted"),sender:Or,objectType:W(),objectId:wn,version:qr}),uC=j({type:he("wrapped"),sender:Or,objectType:W(),objectId:wn,version:qr}),lC=j({type:he("created"),sender:Or,owner:oo,objectType:W(),objectId:wn,version:qr,digest:ra}),Pv=Le([sC,oC,aC,cC,uC,lC]),Cv=j({owner:oo,coinType:W(),amount:W()}),dC=j({digest:ti,transaction:se(iC),effects:se(Hg),events:se(jg),timestampMs:se(V()),checkpoint:se(V()),confirmedLocalExecution:se(Ke()),objectChanges:se(re(Pv)),balanceChanges:se(re(Cv)),errors:se(re(W()))});j({showInput:se(Ke()),showEffects:se(Ke()),showEvents:se(Ke()),showObjectChanges:se(Ke()),showBalanceChanges:se(Ke())});j({data:re(dC),nextCursor:Le([ti,he(null)]),hasNextPage:Ke()});j({effects:Hg,events:jg,objectChanges:re(Pv),balanceChanges:re(Cv)});var Ov="0x2",zg="0x1",fC="object",hC="ID",pC=`${Ov}::sui::SUI`;Dg("0x6");j({decimals:V(),name:W(),symbol:W(),description:W(),iconUrl:Le([W(),he(null)]),id:Le([wn,he(null)])});function gC(t){t.registerType("utf8string",(e,n)=>{const r=Array.from(new TextEncoder().encode(n));return e.writeVec(r,(i,s)=>i.write8(s))},e=>{let n=e.readVec(r=>r.read8());return new TextDecoder().decode(new Uint8Array(n))})}var ua="vector",yC={kind:"TransactionKind",sender:Be.ADDRESS,gasData:"GasData",expiration:"TransactionExpiration"},mC={enums:{"Option<T>":{None:null,Some:"T"},ObjectArg:{ImmOrOwned:"SuiObjectRef",Shared:"SharedObjectRef"},CallArg:{Pure:[ua,Be.U8],Object:"ObjectArg",ObjVec:[ua,"ObjectArg"]},TypeTag:{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:"TypeTag",struct:"StructTag",u16:null,u32:null,u256:null},TransactionKind:{ProgrammableTransaction:"ProgrammableTransaction",ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null},TransactionExpiration:{None:null,Epoch:Be.U64},TransactionData:{V1:"TransactionDataV1"}},structs:{SuiObjectRef:{objectId:Be.ADDRESS,version:Be.U64,digest:"ObjectDigest"},SharedObjectRef:{objectId:Be.ADDRESS,initialSharedVersion:Be.U64,mutable:Be.BOOL},StructTag:{address:Be.ADDRESS,module:Be.STRING,name:Be.STRING,typeParams:[ua,"TypeTag"]},GasData:{payment:[ua,"SuiObjectRef"],owner:Be.ADDRESS,price:Be.U64,budget:Be.U64},SenderSignedData:{data:"TransactionData",txSignatures:[ua,[ua,Be.U8]]},TransactionDataV1:yC},aliases:{ObjectDigest:Be.BASE58}},Uv=new Be({...M2(),types:mC});gC(Uv);var wC=j({amount:V(),id:wn,transferTxDigest:ti});j({transferredGasObjects:re(wC),error:xt(W())});var _C=Le([W(),j({Object:W()})]);re(_C);var bC=j({address:W(),name:W()}),vC=Le([he("Private"),he("Public"),he("Friend")]),Fg=j({abilities:re(W())}),xC=j({constraints:Fg,isPhantom:Ke()}),SC=j({TypeParameter:V()});function Mv(t){if(!t)return!1;if(typeof t=="string"||on(t,SC)||Nv(t))return!0;if(typeof t!="object")return!1;const e=t;return!!(on(e.Reference,Na)||on(e.MutableReference,Na)||on(e.Vector,Na))}var Na=Ar("SuiMoveNormalizedType",Mv);function Nv(t){if(!t||typeof t!="object")return!1;const e=t;if(!e.Struct||typeof e.Struct!="object")return!1;const n=e.Struct;return!(typeof n.address!="string"||typeof n.module!="string"||typeof n.name!="string"||!Array.isArray(n.typeArguments)||!n.typeArguments.every(r=>Mv(r)))}Ar("SuiMoveNormalizedStructType",Nv);var TC=j({visibility:vC,isEntry:Ke(),typeParameters:re(Fg),parameters:re(Na),return:re(Na)}),AC=j({name:W(),type:Na}),EC=j({abilities:Fg,typeParameters:re(xC),fields:re(AC)}),kC=j({fileFormatVersion:V(),address:W(),name:W(),friends:re(bC),structs:hr(W(),EC),exposedFunctions:hr(W(),TC)});hr(W(),kC);function qv(t){return typeof t=="object"&&"MutableReference"in t?t.MutableReference:void 0}function BC(t){return typeof t=="object"&&"Reference"in t?t.Reference:void 0}function Dv(t){if(typeof t=="object"&&"Struct"in t)return t;const e=BC(t),n=qv(t);if(typeof e=="object"&&"Struct"in e)return e;if(typeof n=="object"&&"Struct"in n)return n}j({value:V()});var IC=j({stakedSuiId:wn,stakeRequestEpoch:Tu,stakeActiveEpoch:Tu,principal:V(),status:Le([he("Active"),he("Pending"),he("Unstaked")]),estimatedReward:se(V())});j({validatorAddress:Or,stakingPool:wn,stakes:re(IC)});var RC=j({balance:j({value:V()}),distribution_counter:V(),current_distribution_amount:V(),stake_subsidy_period_length:V(),stake_subsidy_decrease_rate:V()});j({type:W(),fields:RC});j({value:V()});var $C=j({id:W(),size:V(),head:j({vec:re()}),tail:j({vec:re()})});j({id:W(),size:V()});j({type:W(),fields:$C});var PC=j({exchangeRates:j({id:W(),size:V()}),id:W(),pendingStake:V(),pendingPoolTokenWithdraw:V(),pendingTotalSuiWithdraw:V(),poolTokenBalance:V(),rewardsPool:j({value:V()}),activationEpoch:j({vec:re()}),deactivationEpoch:j({vec:re()}),suiBalance:V()});j({type:W(),fields:PC});j({epoch:V(),validators:se(re(An([rC,V()])))});var CC=j({suiAddress:Or,protocolPubkeyBytes:W(),networkPubkeyBytes:W(),workerPubkeyBytes:W(),proofOfPossessionBytes:W(),operationCapId:W(),name:W(),description:W(),imageUrl:W(),projectUrl:W(),p2pAddress:W(),netAddress:W(),primaryAddress:W(),workerAddress:W(),nextEpochProtocolPubkeyBytes:xt(W()),nextEpochProofOfPossession:xt(W()),nextEpochNetworkPubkeyBytes:xt(W()),nextEpochWorkerPubkeyBytes:xt(W()),nextEpochNetAddress:xt(W()),nextEpochP2pAddress:xt(W()),nextEpochPrimaryAddress:xt(W()),nextEpochWorkerAddress:xt(W()),votingPower:V(),gasPrice:V(),commissionRate:V(),nextEpochStake:V(),nextEpochGasPrice:V(),nextEpochCommissionRate:V(),stakingPoolId:W(),stakingPoolActivationEpoch:xt(V()),stakingPoolDeactivationEpoch:xt(V()),stakingPoolSuiBalance:V(),rewardsPool:V(),poolTokenBalance:V(),pendingStake:V(),pendingPoolTokenWithdraw:V(),pendingTotalSuiWithdraw:V(),exchangeRatesId:W(),exchangeRatesSize:V()});j({epoch:V(),protocolVersion:V(),systemStateVersion:V(),storageFundTotalObjectStorageRebates:V(),storageFundNonRefundableBalance:V(),referenceGasPrice:V(),safeMode:Ke(),safeModeStorageRewards:V(),safeModeComputationRewards:V(),safeModeStorageRebates:V(),safeModeNonRefundableStorageFee:V(),epochStartTimestampMs:V(),epochDurationMs:V(),stakeSubsidyStartEpoch:V(),maxValidatorCount:V(),minValidatorJoiningStake:V(),validatorLowStakeThreshold:V(),validatorVeryLowStakeThreshold:V(),validatorLowStakeGracePeriod:V(),stakeSubsidyBalance:V(),stakeSubsidyDistributionCounter:V(),stakeSubsidyCurrentDistributionAmount:V(),stakeSubsidyPeriodLength:V(),stakeSubsidyDecreaseRate:V(),totalStake:V(),activeValidators:re(CC),pendingActiveValidatorsId:W(),pendingActiveValidatorsSize:V(),pendingRemovals:re(V()),stakingPoolMappingsId:W(),stakingPoolMappingsSize:V(),inactivePoolsId:W(),inactivePoolsSize:V(),validatorCandidatesId:W(),validatorCandidatesSize:V(),atRiskValidators:re(An([Or,V()])),validatorReportRecords:re(An([Or,re(Or)]))});var OC=j({coinType:W(),coinObjectId:wn,version:V(),digest:ti,balance:V(),lockedUntilEpoch:xt(V()),previousTransaction:ti});j({data:re(OC),nextCursor:Le([wn,he(null)]),hasNextPage:Ke()});j({coinType:W(),coinObjectCount:V(),totalBalance:V(),lockedBalance:j({epochId:se(V()),number:se(V())})});j({value:V()});var UC=j({computationCost:V(),storageCost:V(),storageRebate:V(),nonRefundableStorageFee:V()});W();var cm=W();j({digest:re(V())});var Lv=fr(),MC=j({nextEpochCommittee:re(An([W(),V()])),nextEpochProtocolVersion:V(),epochCommitments:re(Lv)});j({transaction:ti,effects:wP});var NC=j({epoch:V(),sequenceNumber:W(),digest:cm,networkTotalTransactions:V(),previousDigest:se(cm),epochRollingGasCostSummary:UC,timestampMs:V(),endOfEpochData:se(MC),transactions:re(ti),checkpointCommitments:re(Lv)});j({data:re(NC),nextCursor:Le([W(),he(null)]),hasNextPage:Ke()});xa.hmacSha256Sync=(t,...e)=>{const n=n0.create(Ni,t);return e.forEach(r=>n.update(r)),n.digest()};j({jsonrpc:he("2.0"),id:W(),result:fr()});j({jsonrpc:he("2.0"),id:W(),error:j({code:fr(),message:W(),data:se(fr())})});var qC=Le([he("DynamicField"),he("DynamicObject")]),DC=j({type:W(),value:fr()}),LC=j({name:DC,bcsName:W(),type:qC,objectType:W(),objectId:wn,version:V(),digest:W()});j({data:re(LC),nextCursor:Le([wn,he(null)]),hasNextPage:Ke()});var yo,Hv=class{constructor(e){Wc(this,yo,void 0),Kc(this,yo,e)}get fullnode(){return Zt(this,yo).fullnode}get websocket(){return Zt(this,yo).websocket||Zt(this,yo).fullnode}get faucet(){return Zt(this,yo).faucet}};yo=new WeakMap;new Hv({fullnode:"http://127.0.0.1:9000",faucet:"http://127.0.0.1:9123/gas"});new Hv({fullnode:"https://fullnode.devnet.sui.io:443/",faucet:"https://faucet.devnet.sui.io/gas"});function yi(t,e){return yg(t,e)}var Hd=Symbol("transaction-argument-type"),HC=t=>Le([j({None:he(null)}),j({Some:t})]),Au=j({kind:he("Input"),index:nr(),value:se(fr()),type:se(Le([he("pure"),he("object")]))}),Gg=[Au,j({kind:he("GasCoin")}),j({kind:he("Result"),index:nr()}),j({kind:he("NestedResult"),index:nr(),resultIndex:nr()})],jC=Le([...Gg]),dc=Le([...Gg]);dc[Hd]={kind:"object"};var jv=t=>{const e=Le([...Gg]);return e[Hd]={kind:"pure",type:t},e},zv=j({kind:he("MoveCall"),target:Ar("target",W().validator),typeArguments:re(W()),arguments:re(jC)}),Fv=j({kind:he("TransferObjects"),objects:re(dc),address:jv(Be.ADDRESS)}),Gv=j({kind:he("SplitCoins"),coin:dc,amounts:re(jv("u64"))}),Vv=j({kind:he("MergeCoins"),destination:dc,sources:re(dc)}),Wv=j({kind:he("MakeMoveVec"),type:se(HC(W())),objects:re(dc)}),Kv=j({kind:he("Publish"),modules:re(re(nr())),dependencies:re(wn)}),Xv=[zv,Fv,Gv,Vv,Kv,Wv],Zv=Le([...Xv]);function zC(t){return Do(t,Zv),Xv.find(e=>on(t,e))}var uo={MoveCall(t){return yi({kind:"MoveCall",target:t.target,arguments:t.arguments??[],typeArguments:t.typeArguments??[]},zv)},TransferObjects(t,e){return yi({kind:"TransferObjects",objects:t,address:e},Fv)},SplitCoins(t,e){return yi({kind:"SplitCoins",coin:t,amounts:e},Gv)},MergeCoins(t,e){return yi({kind:"MergeCoins",destination:t,sources:e},Vv)},Publish(t,e){return yi({kind:"Publish",modules:t,dependencies:e},Kv)},MakeMoveVec({type:t,objects:e}){return yi({kind:"MakeMoveVec",type:t?{Some:t}:{None:null},objects:e},Wv)}},FC=/^vector<(.+)>$/,GC=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,_o=class{static parseFromStr(e,n=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};const r=e.match(FC);if(r)return{vector:_o.parseFromStr(r[1],n)};const i=e.match(GC);if(i)return{struct:{address:n?il(i[1]):i[1],module:i[2],name:i[3],typeParams:i[5]===void 0?[]:_o.parseStructTypeArgs(i[5],n)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,n=!1){const r=[];let i="",s=0;for(let o=0;o<e.length;o++){const a=e[o];if(a==="<"&&s++,a===">"&&s--,s===0&&a===","){r.push(i.trim()),i="";continue}i+=a}return r.push(i.trim()),r.map(o=>_o.parseFromStr(o,n))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${_o.tagToString(e.vector)}>`;if("struct"in e){const n=e.struct,r=n.typeParams.map(_o.tagToString).join(", ");return`${n.address}::${n.module}::${n.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}},Jv="Argument",ki="vector",VC="Option",WC="CallArg",um="TypeTag",KC="ProgrammableTransaction",Vh="ProgrammableMoveCall",Yv="Transaction",Vg="EnumKind",XC=[Vg,Yv],Ps=[Vg,Jv],Qv="SimpleProgrammableMoveCall",Fs=new Be(Uv).registerStructType(KC,{inputs:[ki,WC],transactions:[ki,XC]}).registerEnumType(Jv,{GasCoin:null,Input:{index:Be.U16},Result:{index:Be.U16},NestedResult:{index:Be.U16,resultIndex:Be.U16}}).registerStructType(Vh,{package:Be.ADDRESS,module:Be.STRING,function:Be.STRING,type_arguments:[ki,um],arguments:[ki,Ps]}).registerEnumType(Yv,{MoveCall:Qv,TransferObjects:{objects:[ki,Ps],address:Ps},SplitCoins:{coin:Ps,amounts:[ki,Ps]},MergeCoins:{destination:Ps,sources:[ki,Ps]},Publish:{modules:[ki,[ki,Be.U8]],dependencies:[ki,Be.ADDRESS]},MakeMoveVec:{type:[VC,um],objects:[ki,Ps]}});Fs.registerType([Vg,"T"],function(e,n,r,i){const o={[n.kind]:n},[a]=r;return this.getTypeInterface(a)._encodeRaw.call(this,e,o,r,i)},function(e,n,r){const[i]=n,s=this.getTypeInterface(i)._decodeRaw.call(this,e,n,r),o=Object.keys(s)[0];return{kind:o,...s[o]}},t=>{if(typeof t!="object"&&!("kind"in t))throw new Error(`EnumKind: Missing property "kind" in the input ${JSON.stringify(t)}`);return!0});Fs.registerType(Qv,function(e,n,r,i){const[s,o,a]=n.target.split("::"),c=n.typeArguments.map(u=>_o.parseFromStr(u,!0));return this.getTypeInterface(Vh)._encodeRaw.call(this,e,{package:il(s),module:o,function:a,type_arguments:c,arguments:n.arguments},r,i)},function(e,n,r){let i=Fs.getTypeInterface(Vh)._decodeRaw.call(this,e,n,r);return{target:[i.package,i.module,i.function].join("::"),arguments:i.arguments,typeArguments:i.type_arguments.map(_o.tagToString)}},t=>t.target.split("::").length===3);var ZC=Le([j({ImmOrOwned:Vi}),j({Shared:j({objectId:W(),initialSharedVersion:Le([nr(),W()]),mutable:Ke()})})]),Wh=j({Pure:re(nr())}),JC=j({Object:ZC}),ou=Le([Wh,JC]),Eo={Pure(t,e){return{Pure:Array.from(t instanceof Uint8Array?t:Fs.ser(e,t).toBytes())}},ObjectRef(t){return{Object:{ImmOrOwned:t}}},SharedObjectRef(t){return{Object:{Shared:t}}}};function lm(t){return typeof t=="string"?il(t):"ImmOrOwned"in t.Object?t.Object.ImmOrOwned.objectId:t.Object.Shared.objectId}function YC(t){return typeof t=="object"&&"Object"in t&&"Shared"in t.Object?t.Object.Shared:void 0}function QC(t){var e;return((e=YC(t))==null?void 0:e.mutable)??!1}var eO="ascii",tO="String",nO="string",rO="String",iO="option",sO="Option",oO={address:Ov,module:fC,name:hC},aO={address:zg,module:eO,name:tO},cO={address:zg,module:nO,name:rO},uO={address:zg,module:iO,name:sO},$l=(t,e)=>t.address===e.address&&t.module===e.module&&t.name===e.name;function lO(t){var n;const e=(n=Dv(t))==null?void 0:n.Struct;return(e==null?void 0:e.address)==="0x2"&&(e==null?void 0:e.module)==="tx_context"&&(e==null?void 0:e.name)==="TxContext"}function ih(t,e){if(!(typeof e>"u")&&typeof e!==t)throw new Error(`Expect ${e} to be ${t}, received ${typeof e}`)}var dO=["Address","Bool","U8","U16","U32","U64","U128","U256"];function Kh(t,e){if(typeof t=="string"&&dO.includes(t)){if(t in["U8","U16","U32","U64","U128","U256"])ih("number",e);else if(t==="Bool")ih("boolean",e);else if(t==="Address"&&(ih("string",e),e&&!vP(e)))throw new Error("Invalid Sui Address");return t.toLowerCase()}else if(typeof t=="string")throw new Error(`Unknown pure normalized type ${JSON.stringify(t,null,2)}`);if("Vector"in t){if((e===void 0||typeof e=="string")&&t.Vector==="U8")return"string";if(e!==void 0&&!Array.isArray(e))throw new Error(`Expect ${e} to be a array, received ${typeof e}`);const n=Kh(t.Vector,e?e[0]:void 0);return n===void 0?void 0:`vector<${n}>`}if("Struct"in t){if($l(t.Struct,aO))return"string";if($l(t.Struct,cO))return"utf8string";if($l(t.Struct,oO))return"address";if($l(t.Struct,uO)){const n={Vector:t.Struct.typeArguments[0]};return Kh(n,e)}}}function fO(t,e){const n=Array.from(`${t}::`).map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);return r.set(n),r.set(e,n.length),F2(r,{dkLen:32})}var hO=se(xt(Le([j({Epoch:nr()}),j({None:Le([he(!0),he(null)])})]))),e6=W(),dm=Ar("StringEncodedBigint",t=>{if(!["string","number","bigint"].includes(typeof t))return!1;try{return BigInt(t),!0}catch{return!1}}),pO=j({budget:se(dm),price:se(dm),payment:se(re(Vi)),owner:se(e6)}),Pl=j({version:he(1),sender:se(e6),expiration:hO,gasConfig:pO,inputs:re(Au),transactions:re(Zv)});function fm(t){return il(t).replace("0x","")}var hm=128*1024,Gs=class{constructor(e){this.version=1,this.sender=e==null?void 0:e.sender,this.expiration=e==null?void 0:e.expiration,this.gasConfig=(e==null?void 0:e.gasConfig)??{},this.inputs=(e==null?void 0:e.inputs)??[],this.transactions=(e==null?void 0:e.transactions)??[]}static fromKindBytes(e){const n=Fs.de("TransactionKind",e),r=n==null?void 0:n.ProgrammableTransaction;if(!r)throw new Error("Unable to deserialize from bytes.");const i=yi({version:1,gasConfig:{},inputs:r.inputs.map((s,o)=>yi({kind:"Input",value:s,index:o,type:on(s,Wh)?"pure":"object"},Au)),transactions:r.transactions},Pl);return Gs.restore(i)}static fromBytes(e){var o;const n=Fs.de("TransactionData",e),r=n==null?void 0:n.V1,i=(o=r==null?void 0:r.kind)==null?void 0:o.ProgrammableTransaction;if(!r||!i)throw new Error("Unable to deserialize from bytes.");const s=yi({version:1,sender:r.sender,expiration:r.expiration,gasConfig:r.gasData,inputs:i.inputs.map((a,c)=>yi({kind:"Input",value:a,index:c,type:on(a,Wh)?"pure":"object"},Au)),transactions:i.transactions},Pl);return Gs.restore(s)}static restore(e){Do(e,Pl);const n=new Gs;return Object.assign(n,e),n}static getDigestFromBytes(e){const n=fO("TransactionData",e);return Qf(n)}build({overrides:e,onlyTransactionKind:n}={}){const r=this.inputs.map(u=>(Do(u.value,ou),u.value)),i={ProgrammableTransaction:{inputs:r,transactions:this.transactions}};if(n)return Fs.ser("TransactionKind",i,{maxSize:hm}).toBytes();const s=(e==null?void 0:e.expiration)??this.expiration,o=(e==null?void 0:e.sender)??this.sender,a={...this.gasConfig,...e==null?void 0:e.gasConfig};if(!o)throw new Error("Missing transaction sender");if(!a.budget)throw new Error("Missing gas budget");if(!a.payment)throw new Error("Missing gas payment");if(!a.price)throw new Error("Missing gas price");const c={sender:fm(o),expiration:s||{None:!0},gasData:{payment:a.payment,owner:fm(this.gasConfig.owner??o),price:BigInt(a.price),budget:BigInt(a.budget)},kind:{ProgrammableTransaction:{inputs:r,transactions:this.transactions}}};return Fs.ser("TransactionData",{V1:c},{maxSize:hm}).toBytes()}getDigest(){const e=this.build({onlyTransactionKind:!1});return Gs.getDigestFromBytes(e)}snapshot(){return yi(this,Pl)}};function gO(t){const e={kind:"Result",index:t},n=[],r=i=>n[i]??(n[i]={kind:"NestedResult",index:t,resultIndex:i});return new Proxy(e,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(i,s){if(s in i)return Reflect.get(i,s);if(s===Symbol.iterator)return function*(){let a=0;for(;;)yield r(a),a++};if(typeof s=="symbol")return;const o=parseInt(s,10);if(!(Number.isNaN(o)||o<0))return r(o)}})}function Zc(t){if(!t)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return t}var pm=Symbol.for("@mysten/transaction"),Xh=256,yO=1e9,mO=10n,zt,rd,Zh,Wg,t6,id,Jh,Yh=class{constructor(e){Wc(this,rd),Wc(this,Wg),Wc(this,id),Wc(this,zt,void 0),Kc(this,zt,new Gs(e?Zt(e,zt):void 0))}static is(e){return!!e&&typeof e=="object"&&e[pm]===!0}static fromKind(e){const n=new Yh;return Kc(n,zt,Gs.fromKindBytes(typeof e=="string"?qo(e):e)),n}static from(e){const n=new Yh;return typeof e!="string"||!e.startsWith("{")?Kc(n,zt,Gs.fromBytes(typeof e=="string"?qo(e):e)):Kc(n,zt,Gs.restore(JSON.parse(e))),n}static get Transactions(){return uo}static get Inputs(){return Eo}setSender(e){Zt(this,zt).sender=e}setSenderIfNotSet(e){Zt(this,zt).sender||(Zt(this,zt).sender=e)}setExpiration(e){Zt(this,zt).expiration=e}setGasPrice(e){Zt(this,zt).gasConfig.price=String(e)}setGasBudget(e){Zt(this,zt).gasConfig.budget=String(e)}setGasOwner(e){Zt(this,zt).gasConfig.owner=e}setGasPayment(e){if(e.length>=Xh)throw new Error(`Payment objects exceed maximum amount ${Xh}`);Zt(this,zt).gasConfig.payment=e.map(n=>mg(n,Vi))}get blockData(){return Zt(this,zt).snapshot()}get[pm](){return!0}get gas(){return{kind:"GasCoin"}}object(e){const n=lm(e);return Zt(this,zt).inputs.find(i=>i.type==="object"&&n===lm(i.value))??Xc(this,rd,Zh).call(this,"object",e)}pure(e,n){return Xc(this,rd,Zh).call(this,"pure",e instanceof Uint8Array?Eo.Pure(e):n?Eo.Pure(e,n):e)}add(e){const n=Zt(this,zt).transactions.push(e);return gO(n-1)}splitCoins(...e){return this.add(uo.SplitCoins(...e))}mergeCoins(...e){return this.add(uo.MergeCoins(...e))}publish(...e){return this.add(uo.Publish(...e))}moveCall(...e){return this.add(uo.MoveCall(...e))}transferObjects(...e){return this.add(uo.TransferObjects(...e))}makeMoveVec(...e){return this.add(uo.MakeMoveVec(...e))}serialize(){return JSON.stringify(Zt(this,zt).snapshot())}async build({provider:e,onlyTransactionKind:n}={}){return await Xc(this,id,Jh).call(this,{provider:e,onlyTransactionKind:n}),Zt(this,zt).build({onlyTransactionKind:n})}async getDigest({provider:e}={}){return await Xc(this,id,Jh).call(this,{provider:e}),Zt(this,zt).getDigest()}},gm=Yh;zt=new WeakMap;rd=new WeakSet;Zh=function(t,e){const n=Zt(this,zt).inputs.length,r=yi({kind:"Input",value:typeof e=="bigint"?String(e):e,index:n,type:t},Au);return Zt(this,zt).inputs.push(r),r};Wg=new WeakSet;t6=async function(t){const e=Zt(this,zt).gasConfig.owner??Zt(this,zt).sender,r=(await Zc(t).getCoins({owner:e,coinType:pC})).data.filter(i=>!Zt(this,zt).inputs.find(o=>on(o.value,ou)&&"Object"in o.value&&"ImmOrOwned"in o.value.Object?i.coinObjectId===o.value.Object.ImmOrOwned.objectId:!1)).slice(0,Xh-1).map(i=>({objectId:i.coinObjectId,digest:i.digest,version:i.version}));if(!r.length)throw new Error("No valid gas coins found for the transaction.");return r};id=new WeakSet;Jh=async function({provider:t,onlyTransactionKind:e}){var o;if(!e&&!Zt(this,zt).sender)throw new Error("Missing transaction sender");const{inputs:n,transactions:r}=Zt(this,zt),i=[],s=[];if(r.forEach(a=>{if(a.kind==="MoveCall"){a.arguments.some(l=>l.kind==="Input"&&!on(n[l.index].value,ou))&&i.push(a);return}const c=zC(a);c.schema&&Object.entries(a).forEach(([u,l])=>{if(u==="kind")return;const d=c.schema[u],f=d.type==="array",p=f?d.schema[Hd]:d[Hd];if(!p)return;const w=m=>{const v=n[m];if(!v)throw new Error(`Missing input ${l.index}`);if(!on(v.value,ou))if(p.kind==="object"&&typeof v.value=="string")s.push({id:v.value,input:v});else if(p.kind==="pure")v.value=Eo.Pure(v.value,p.type);else throw new Error("Unexpected input format.")};if(f)l.forEach(m=>{m.kind==="Input"&&w(m.index)});else{if(l.kind!=="Input")return;w(l.index)}})}),i.length&&await Promise.all(i.map(async a=>{const[c,u,l]=a.target.split("::"),d=await Zc(t).getNormalizedMoveFunction({package:Dg(c),module:u,function:l}),p=d.parameters.length>0&&lO(d.parameters.at(-1))?d.parameters.slice(0,d.parameters.length-1):d.parameters;if(p.length!==a.arguments.length)throw new Error("Incorrect number of arguments.");p.forEach((w,m)=>{const v=a.arguments[m];if(v.kind!=="Input")return;const k=n[v.index];if(on(k.value,ou))return;const E=k.value,b=Kh(w,E);if(b){k.value=Eo.Pure(E,b);return}if(Dv(w)!=null||typeof w=="object"&&"TypeParameter"in w){if(typeof E!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(E,null,2)}`);s.push({id:E,input:k,normalizedType:w});return}throw new Error(`Unknown call arg type ${JSON.stringify(w,null,2)} for value ${JSON.stringify(E,null,2)}`)})})),s.length){const a=[...new Set(s.map(({id:d})=>d))],c=await Zc(t).multiGetObjects({ids:a,options:{showOwner:!0}});let u=new Map(a.map((d,f)=>[d,c[f]]));const l=Array.from(u).filter(([d,f])=>f.error).map(([d,f])=>d);if(l.length)throw new Error(`The following input objects are not invalid: ${l.join(", ")}`);s.forEach(({id:d,input:f,normalizedType:p})=>{const w=u.get(d),m=NP(w);if(m){const v=QC(f.value)||p!=null&&qv(p)!=null;f.value=Eo.SharedObjectRef({objectId:d,initialSharedVersion:m,mutable:v})}else f.value=Eo.ObjectRef(UP(w))})}if(!e&&(Zt(this,zt).gasConfig.price||this.setGasPrice(await Zc(t).getReferenceGasPrice()),Zt(this,zt).gasConfig.payment||(Zt(this,zt).gasConfig.payment=await Xc(this,Wg,t6).call(this,t)),!this.blockData.gasConfig.budget)){const a=await Zc(t).dryRunTransactionBlock({transactionBlock:Zt(this,zt).build({overrides:{gasConfig:{budget:String(yO),payment:[]}}})});if(a.effects.status.status!=="success")throw new Error("Dry run failed, could not automatically determine a budget",{cause:a});const c=mO*BigInt(((o=this.blockData.gasConfig.payment)==null?void 0:o.length)||0n)*BigInt(this.blockData.gasConfig.price||1n);this.setGasBudget(BigInt(a.effects.gasUsed.computationCost)+BigInt(a.effects.gasUsed.storageCost)+c)}};Dg("0x5");/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wO=BigInt(0),Kg=BigInt(1),_O=BigInt(2),l0=t=>t instanceof Uint8Array,bO=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fc(t){if(!l0(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=bO[t[n]];return e}function n6(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Xg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function hc(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,i=t.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[n]=s}return e}function Cr(t){return Xg(fc(t))}function Zg(t){if(!l0(t))throw new Error("Uint8Array expected");return Xg(fc(Uint8Array.from(t).reverse()))}const Js=(t,e)=>hc(t.toString(16).padStart(e*2,"0")),r6=(t,e)=>Js(t,e).reverse(),vO=t=>hc(n6(t));function ar(t,e,n){let r;if(typeof e=="string")try{r=hc(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(l0(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function Xr(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!l0(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function xO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function d0(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function SO(t){let e;for(e=0;t>0n;t>>=Kg,e+=1);return e}const TO=(t,e)=>t>>BigInt(e)&1n,AO=(t,e,n)=>t|(n?Kg:wO)<<BigInt(e),Jg=t=>(_O<<BigInt(t-1))-Kg,sh=t=>new Uint8Array(t),ym=t=>Uint8Array.from(t);function i6(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=sh(t),i=sh(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=sh())=>{i=a(ym([0]),d),r=a(),d.length!==0&&(i=a(ym([1]),d),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const p=r.slice();f.push(p),d+=r.length}return Xr(...f)};return(d,f)=>{o(),c(d);let p;for(;!(p=f(u()));)c();return o(),p}}const EO={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function $c(t,e,n={}){const r=(i,s,o)=>{const a=EO[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const kO=Object.freeze(Object.defineProperty({__proto__:null,bitGet:TO,bitLen:SO,bitMask:Jg,bitSet:AO,bytesToHex:fc,bytesToNumberBE:Cr,bytesToNumberLE:Zg,concatBytes:Xr,createHmacDrbg:i6,ensureBytes:ar,equalBytes:xO,hexToBytes:hc,hexToNumber:Xg,numberToBytesBE:Js,numberToBytesLE:r6,numberToHexUnpadded:n6,numberToVarBytesBE:vO,utf8ToBytes:d0,validateObject:$c},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tr=BigInt(0),Nn=BigInt(1),bo=BigInt(2),BO=BigInt(3),Qh=BigInt(4),mm=BigInt(5),wm=BigInt(8);BigInt(9);BigInt(16);function Zn(t,e){const n=t%e;return n>=tr?n:e+n}function IO(t,e,n){if(n<=tr||e<tr)throw new Error("Expected power/modulo > 0");if(n===Nn)return tr;let r=Nn;for(;e>tr;)e&Nn&&(r=r*t%n),t=t*t%n,e>>=Nn;return r}function si(t,e,n){let r=t;for(;e-- >tr;)r*=r,r%=n;return r}function ep(t,e){if(t===tr||e<=tr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Zn(t,e),r=e,i=tr,s=Nn;for(;n!==tr;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Nn)throw new Error("invert: does not exist");return Zn(i,e)}function RO(t){const e=(t-Nn)/bo;let n,r,i;for(n=t-Nn,r=0;n%bo===tr;n/=bo,r++);for(i=bo;i<t&&IO(i,e,t)!==t-Nn;i++);if(r===1){const o=(t+Nn)/Qh;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(n+Nn)/bo;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,i),n),d=a.pow(c,s),f=a.pow(c,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let m=a.sqr(f);p<u&&!a.eql(m,a.ONE);p++)m=a.sqr(m);const w=a.pow(l,Nn<<BigInt(u-p-1));l=a.sqr(w),d=a.mul(d,w),f=a.mul(f,l),u=p}return d}}function $O(t){if(t%Qh===BO){const e=(t+Nn)/Qh;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%wm===mm){const e=(t-mm)/wm;return function(r,i){const s=r.mul(i,bo),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,bo),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return RO(t)}const PO=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function s6(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=PO.reduce((r,i)=>(r[i]="function",r),e);return $c(t,n)}function CO(t,e,n){if(n<tr)throw new Error("Expected power > 0");if(n===tr)return t.ONE;if(n===Nn)return e;let r=t.ONE,i=e;for(;n>tr;)n&Nn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Nn;return r}function OO(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Yg(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function UO(t,e,n=!1,r={}){if(t<=tr)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=Yg(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=$O(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Jg(i),ZERO:tr,ONE:Nn,create:c=>Zn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return tr<=c&&c<t},is0:c=>c===tr,isOdd:c=>(c&Nn)===Nn,neg:c=>Zn(-c,t),eql:(c,u)=>c===u,sqr:c=>Zn(c*c,t),add:(c,u)=>Zn(c+u,t),sub:(c,u)=>Zn(c-u,t),mul:(c,u)=>Zn(c*u,t),pow:(c,u)=>CO(a,c,u),div:(c,u)=>Zn(c*ep(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>ep(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>OO(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>n?r6(c,s):Js(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?Zg(c):Cr(c)}});return Object.freeze(a)}function MO(t,e,n=!1){t=ar("privateHash",t);const r=t.length,i=Yg(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const s=n?Zg(t):Cr(t);return Zn(s,e-Nn)+Nn}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NO=BigInt(0),oh=BigInt(1);function qO(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>NO;)s&oh&&(o=o.add(a)),a=a.double(),s>>=oh;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let u=i,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let f=1;f<a;f++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let u=t.ZERO,l=t.BASE;const d=BigInt(2**i-1),f=2**i,p=BigInt(i);for(let w=0;w<a;w++){const m=w*c;let v=Number(o&d);o>>=p,v>c&&(v-=f,o+=oh);const k=m,E=m+Math.abs(v)-1,b=w%2!==0,x=v<0;v===0?l=l.add(n(b,s[k])):u=u.add(n(x,s[E]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function o6(t){return s6(t.Fp),$c(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Yg(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function DO(t){const e=o6(t);$c(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:LO,hexToBytes:HO}=kO,ko={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ko;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:LO(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=ko,n=typeof t=="string"?HO(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=ko._parseInt(n.subarray(2)),{d:o,l:a}=ko._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)>=8?"00"+u:u,n=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},Pi=BigInt(0),Gn=BigInt(1),Yi=BigInt(2),jd=BigInt(3),_m=BigInt(4);function jO(t){const e=DO(t),{Fp:n}=e,r=e.toBytes||((w,m,v)=>{const k=m.toAffine();return Xr(Uint8Array.from([4]),n.toBytes(k.x),n.toBytes(k.y))}),i=e.fromBytes||(w=>{const m=w.subarray(1),v=n.fromBytes(m.subarray(0,n.BYTES)),k=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:v,y:k}});function s(w){const{a:m,b:v}=e,k=n.sqr(w),E=n.mul(k,w);return n.add(n.add(E,n.mul(w,m)),v)}function o(w){return typeof w=="bigint"&&Pi<w&&w<e.n}function a(w){if(!o(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(w){const{allowedPrivateKeyLengths:m,nByteLength:v,wrapPrivateKey:k,n:E}=e;if(m&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=fc(w)),typeof w!="string"||!m.includes(w.length))throw new Error("Invalid key");w=w.padStart(v*2,"0")}let b;try{b=typeof w=="bigint"?w:Cr(ar("private key",w,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof w}`)}return k&&(b=Zn(b,E)),a(b),b}const u=new Map;function l(w){if(!(w instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,v,k){if(this.px=m,this.py=v,this.pz=k,m==null||!n.isValid(m))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(k==null||!n.isValid(k))throw new Error("z required")}static fromAffine(m){const{x:v,y:k}=m||{};if(!m||!n.isValid(v)||!n.isValid(k))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");const E=b=>n.eql(b,n.ZERO);return E(v)&&E(k)?d.ZERO:new d(v,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const v=n.invertBatch(m.map(k=>k.pz));return m.map((k,E)=>k.toAffine(v[E])).map(d.fromAffine)}static fromHex(m){const v=d.fromAffine(i(ar("pointHex",m)));return v.assertValidity(),v}static fromPrivateKey(m){return d.BASE.multiply(c(m))}_setWindowSize(m){this._WINDOW_SIZE=m,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:m,y:v}=this.toAffine();if(!n.isValid(m)||!n.isValid(v))throw new Error("bad point: x or y not FE");const k=n.sqr(v),E=s(m);if(!n.eql(k,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:v,py:k,pz:E}=this,{px:b,py:x,pz:T}=m,$=n.eql(n.mul(v,T),n.mul(b,E)),L=n.eql(n.mul(k,T),n.mul(x,E));return $&&L}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:v}=e,k=n.mul(v,jd),{px:E,py:b,pz:x}=this;let T=n.ZERO,$=n.ZERO,L=n.ZERO,z=n.mul(E,E),J=n.mul(b,b),Z=n.mul(x,x),U=n.mul(E,b);return U=n.add(U,U),L=n.mul(E,x),L=n.add(L,L),T=n.mul(m,L),$=n.mul(k,Z),$=n.add(T,$),T=n.sub(J,$),$=n.add(J,$),$=n.mul(T,$),T=n.mul(U,T),L=n.mul(k,L),Z=n.mul(m,Z),U=n.sub(z,Z),U=n.mul(m,U),U=n.add(U,L),L=n.add(z,z),z=n.add(L,z),z=n.add(z,Z),z=n.mul(z,U),$=n.add($,z),Z=n.mul(b,x),Z=n.add(Z,Z),z=n.mul(Z,U),T=n.sub(T,z),L=n.mul(Z,J),L=n.add(L,L),L=n.add(L,L),new d(T,$,L)}add(m){l(m);const{px:v,py:k,pz:E}=this,{px:b,py:x,pz:T}=m;let $=n.ZERO,L=n.ZERO,z=n.ZERO;const J=e.a,Z=n.mul(e.b,jd);let U=n.mul(v,b),D=n.mul(k,x),B=n.mul(E,T),h=n.add(v,k),g=n.add(b,x);h=n.mul(h,g),g=n.add(U,D),h=n.sub(h,g),g=n.add(v,E);let S=n.add(b,T);return g=n.mul(g,S),S=n.add(U,B),g=n.sub(g,S),S=n.add(k,E),$=n.add(x,T),S=n.mul(S,$),$=n.add(D,B),S=n.sub(S,$),z=n.mul(J,g),$=n.mul(Z,B),z=n.add($,z),$=n.sub(D,z),z=n.add(D,z),L=n.mul($,z),D=n.add(U,U),D=n.add(D,U),B=n.mul(J,B),g=n.mul(Z,g),D=n.add(D,B),B=n.sub(U,B),B=n.mul(J,B),g=n.add(g,B),U=n.mul(D,g),L=n.add(L,U),U=n.mul(S,g),$=n.mul(h,$),$=n.sub($,U),U=n.mul(h,D),z=n.mul(S,z),z=n.add(z,U),new d($,L,z)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return p.wNAFCached(this,u,m,v=>{const k=n.invertBatch(v.map(E=>E.pz));return v.map((E,b)=>E.toAffine(k[b])).map(d.fromAffine)})}multiplyUnsafe(m){const v=d.ZERO;if(m===Pi)return v;if(a(m),m===Gn)return this;const{endo:k}=e;if(!k)return p.unsafeLadder(this,m);let{k1neg:E,k1:b,k2neg:x,k2:T}=k.splitScalar(m),$=v,L=v,z=this;for(;b>Pi||T>Pi;)b&Gn&&($=$.add(z)),T&Gn&&(L=L.add(z)),z=z.double(),b>>=Gn,T>>=Gn;return E&&($=$.negate()),x&&(L=L.negate()),L=new d(n.mul(L.px,k.beta),L.py,L.pz),$.add(L)}multiply(m){a(m);let v=m,k,E;const{endo:b}=e;if(b){const{k1neg:x,k1:T,k2neg:$,k2:L}=b.splitScalar(v);let{p:z,f:J}=this.wNAF(T),{p:Z,f:U}=this.wNAF(L);z=p.constTimeNegate(x,z),Z=p.constTimeNegate($,Z),Z=new d(n.mul(Z.px,b.beta),Z.py,Z.pz),k=z.add(Z),E=J.add(U)}else{const{p:x,f:T}=this.wNAF(v);k=x,E=T}return d.normalizeZ([k,E])[0]}multiplyAndAddUnsafe(m,v,k){const E=d.BASE,b=(T,$)=>$===Pi||$===Gn||!T.equals(E)?T.multiplyUnsafe($):T.multiply($),x=b(this,v).add(b(m,k));return x.is0()?void 0:x}toAffine(m){const{px:v,py:k,pz:E}=this,b=this.is0();m==null&&(m=b?n.ONE:n.inv(E));const x=n.mul(v,m),T=n.mul(k,m),$=n.mul(E,m);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x,y:T}}isTorsionFree(){const{h:m,isTorsionFree:v}=e;if(m===Gn)return!0;if(v)return v(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:v}=e;return m===Gn?this:v?v(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(d,this,m)}toHex(m=!0){return fc(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,p=qO(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function zO(t){const e=o6(t);return $c(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function FO(t){const e=zO(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(g){return Pi<g&&g<n.ORDER}function a(g){return Zn(g,r)}function c(g){return ep(g,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:f}=jO({...e,toBytes(g,S,I){const N=S.toAffine(),H=n.toBytes(N.x),X=Xr;return I?X(Uint8Array.from([S.hasEvenY()?2:3]),H):X(Uint8Array.from([4]),H,n.toBytes(N.y))},fromBytes(g){const S=g.length,I=g[0],N=g.subarray(1);if(S===i&&(I===2||I===3)){const H=Cr(N);if(!o(H))throw new Error("Point is not on curve");const X=d(H);let O=n.sqrt(X);const _=(O&Gn)===Gn;return(I&1)===1!==_&&(O=n.neg(O)),{x:H,y:O}}else if(S===s&&I===4){const H=n.fromBytes(N.subarray(0,n.BYTES)),X=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:H,y:X}}else throw new Error(`Point of length ${S} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=g=>fc(Js(g,e.nByteLength));function w(g){const S=r>>Gn;return g>S}function m(g){return w(g)?a(-g):g}const v=(g,S,I)=>Cr(g.slice(S,I));class k{constructor(S,I,N){this.r=S,this.s=I,this.recovery=N,this.assertValidity()}static fromCompact(S){const I=e.nByteLength;return S=ar("compactSignature",S,I*2),new k(v(S,0,I),v(S,I,2*I))}static fromDER(S){const{r:I,s:N}=ko.toSig(ar("DER",S));return new k(I,N)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new k(this.r,this.s,S)}recoverPublicKey(S){const{r:I,s:N,recovery:H}=this,X=L(ar("msgHash",S));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const O=H===2||H===3?I+e.n:I;if(O>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const _=H&1?"03":"02",q=u.fromHex(_+p(O)),ye=c(O),_e=a(-X*ye),Ie=a(N*ye),pt=u.BASE.multiplyAndAddUnsafe(q,_e,Ie);if(!pt)throw new Error("point at infinify");return pt.assertValidity(),pt}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new k(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return hc(this.toDERHex())}toDERHex(){return ko.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hc(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const E={isValidPrivateKey(g){try{return l(g),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const g=e.randomBytes(n.BYTES+8),S=MO(g,r);return Js(S,e.nByteLength)},precompute(g=8,S=u.BASE){return S._setWindowSize(g),S.multiply(BigInt(3)),S}};function b(g,S=!0){return u.fromPrivateKey(g).toRawBytes(S)}function x(g){const S=g instanceof Uint8Array,I=typeof g=="string",N=(S||I)&&g.length;return S?N===i||N===s:I?N===2*i||N===2*s:g instanceof u}function T(g,S,I=!0){if(x(g))throw new Error("first arg must be private key");if(!x(S))throw new Error("second arg must be public key");return u.fromHex(S).multiply(l(g)).toRawBytes(I)}const $=e.bits2int||function(g){const S=Cr(g),I=g.length*8-e.nBitLength;return I>0?S>>BigInt(I):S},L=e.bits2int_modN||function(g){return a($(g))},z=Jg(e.nBitLength);function J(g){if(typeof g!="bigint")throw new Error("bigint expected");if(!(Pi<=g&&g<z))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Js(g,e.nByteLength)}function Z(g,S,I=U){if(["recovered","canonical"].some(F=>F in I))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:H}=e;let{lowS:X,prehash:O,extraEntropy:_}=I;X==null&&(X=!0),g=ar("msgHash",g),O&&(g=ar("prehashed msgHash",N(g)));const q=L(g),ye=l(S),_e=[J(ye),J(q)];if(_!=null){const F=_===!0?H(n.BYTES):_;_e.push(ar("extraEntropy",F,n.BYTES))}const Ie=Xr(..._e),pt=q;function te(F){const Y=$(F);if(!f(Y))return;const ee=c(Y),ie=u.BASE.multiply(Y).toAffine(),le=a(ie.x);if(le===Pi)return;const oe=a(ee*a(pt+le*ye));if(oe===Pi)return;let pe=(ie.x===le?0:2)|Number(ie.y&Gn),Ee=oe;return X&&w(oe)&&(Ee=m(oe),pe^=1),new k(le,Ee,pe)}return{seed:Ie,k2sig:te}}const U={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function B(g,S,I=U){const{seed:N,k2sig:H}=Z(g,S,I);return i6(e.hash.outputLen,e.nByteLength,e.hmac)(N,H)}u.BASE._setWindowSize(8);function h(g,S,I,N=D){var ie;const H=g;if(S=ar("msgHash",S),I=ar("publicKey",I),"strict"in N)throw new Error("options.strict was renamed to lowS");const{lowS:X,prehash:O}=N;let _,q;try{if(typeof H=="string"||H instanceof Uint8Array)try{_=k.fromDER(H)}catch(le){if(!(le instanceof ko.Err))throw le;_=k.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:le,s:oe}=H;_=new k(le,oe)}else throw new Error("PARSE");q=u.fromHex(I)}catch(le){if(le.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&_.hasHighS())return!1;O&&(S=e.hash(S));const{r:ye,s:_e}=_,Ie=L(S),pt=c(_e),te=a(Ie*pt),F=a(ye*pt),Y=(ie=u.BASE.multiplyAndAddUnsafe(q,te,F))==null?void 0:ie.toAffine();return Y?a(Y.x)===ye:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:T,sign:B,verify:h,ProjectivePoint:u,Signature:k,utils:E}}function GO(t,e){const n=t.ORDER;let r=Pi;for(let f=n-Gn;f%Yi===Pi;f/=Yi)r+=Gn;const i=r,s=(n-Gn)/Yi**i,o=(s-Gn)/Yi,a=Yi**i-Gn,c=Yi**(i-Gn),u=t.pow(e,s),l=t.pow(e,(s+Gn)/Yi);let d=(f,p)=>{let w=u,m=t.pow(p,a),v=t.sqr(m);v=t.mul(v,p);let k=t.mul(f,v);k=t.pow(k,o),k=t.mul(k,m),m=t.mul(k,p),v=t.mul(k,f);let E=t.mul(v,m);k=t.pow(E,c);let b=t.eql(k,t.ONE);m=t.mul(v,l),k=t.mul(E,w),v=t.cmov(m,v,b),E=t.cmov(k,E,b);for(let x=i;x>1;x--){let T=Yi**(x-Yi),$=t.pow(E,T);const L=t.eql($,t.ONE);m=t.mul(v,w),w=t.mul(w,w),$=t.mul(E,w),v=t.cmov(m,v,L),E=t.cmov($,E,L)}return{isValid:b,value:v}};if(t.ORDER%_m===jd){const f=(t.ORDER-jd)/_m,p=t.sqrt(t.neg(e));d=(w,m)=>{let v=t.sqr(m);const k=t.mul(w,m);v=t.mul(v,k);let E=t.pow(v,f);E=t.mul(E,k);const b=t.mul(E,p),x=t.mul(t.sqr(E),m),T=t.eql(x,w);let $=t.cmov(b,E,T);return{isValid:T,value:$}}}return d}function VO(t,e){if(s6(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=GO(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,a,c,u,l,d;i=t.sqr(r),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),u=t.sqr(a),c=t.mul(u,e.A),s=t.add(s,c),s=t.mul(s,o),u=t.mul(u,a),c=t.mul(u,e.B),s=t.add(s,c),l=t.mul(i,o);const{isValid:f,value:p}=n(s,u);d=t.mul(i,r),d=t.mul(d,p),l=t.cmov(l,o,f),d=t.cmov(d,p,f);const w=t.isOdd(r)===t.isOdd(d);return d=t.cmov(t.neg(d),d,w),l=t.div(l,a),{x:l,y:d}}}function WO(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return d0(t);throw new Error("DST must be Uint8Array or string")}const KO=Cr;function Ds(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function XO(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function Eu(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function Qg(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function ZO(t,e,n,r){Eu(t),Eu(e),Qg(n),e.length>255&&(e=r(Xr(d0("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(o>255)throw new Error("Invalid xmd length");const a=Xr(e,Ds(e.length,1)),c=Ds(0,s),u=Ds(n,2),l=new Array(o),d=r(Xr(c,t,u,Ds(0,1),a));l[0]=r(Xr(d,Ds(1,1),a));for(let p=1;p<=o;p++){const w=[XO(d,l[p-1]),Ds(p+1,1),a];l[p]=r(Xr(...w))}return Xr(...l).slice(0,n)}function JO(t,e,n,r,i){if(Eu(t),Eu(e),Qg(n),e.length>255){const s=Math.ceil(2*r/8);e=i.create({dkLen:s}).update(d0("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(Ds(n,2)).update(e).update(Ds(e.length,1)).digest()}function bm(t,e,n){$c(n,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:s,hash:o,expand:a,DST:c}=n;Eu(t),Qg(e);const u=WO(c),l=r.toString(2).length,d=Math.ceil((l+i)/8),f=e*s*d;let p;if(a==="xmd")p=ZO(t,u,f,o);else if(a==="xof")p=JO(t,u,f,i,o);else if(a===void 0)p=t;else throw new Error('expand must be "xmd", "xof" or undefined');const w=new Array(e);for(let m=0;m<e;m++){const v=new Array(s);for(let k=0;k<s;k++){const E=d*(k+m*s),b=p.subarray(E,E+d);v[k]=Zn(KO(b),r)}w[m]=v}return w}function YO(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[s,o,a,c]=n.map(u=>u.reduce((l,d)=>t.add(t.mul(l,r),d)));return r=t.div(s,o),i=t.mul(i,t.div(a,c)),{x:r,y:i}}}function QO(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const s=bm(r,2,{...n,DST:n.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const s=bm(r,1,{...n,DST:n.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function eU(t){return{hash:t,hmac:(e,...n)=>n0(t,e,hg(...n)),randomBytes:tl}}function tU(t,e){const n=r=>FO({...t,...eU(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const f0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),a6=BigInt(1),Fd=BigInt(2),vm=(t,e)=>(t+e/Fd)/e;function c6(t){const e=f0,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,d=si(l,n,e)*l%e,f=si(d,n,e)*l%e,p=si(f,Fd,e)*u%e,w=si(p,i,e)*p%e,m=si(w,s,e)*w%e,v=si(m,a,e)*m%e,k=si(v,c,e)*v%e,E=si(k,a,e)*m%e,b=si(E,n,e)*l%e,x=si(b,o,e)*w%e,T=si(x,r,e)*u%e,$=si(T,Fd,e);if(!to.eql(to.sqr($),t))throw new Error("Cannot find square root");return $}const to=UO(f0,void 0,void 0,{sqrt:c6}),h0=tU({a:BigInt(0),b:BigInt(7),Fp:to,n:zd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=zd,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-a6*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=vm(s*t,e),c=vm(-r*t,e);let u=Zn(t-a*n-c*i,e),l=Zn(-a*r-c*s,e);const d=u>o,f=l>o;if(d&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},Ni),p0=BigInt(0),u6=t=>typeof t=="bigint"&&p0<t&&t<f0,nU=t=>typeof t=="bigint"&&p0<t&&t<zd,xm={};function Gd(t,...e){let n=xm[t];if(n===void 0){const r=Ni(Uint8Array.from(t,i=>i.charCodeAt(0)));n=Xr(r,r),xm[t]=n}return Ni(Xr(n,...e))}const ey=t=>t.toRawBytes(!0).slice(1),tp=t=>Js(t,32),ah=t=>Zn(t,f0),ku=t=>Zn(t,zd),ty=h0.ProjectivePoint,rU=(t,e,n)=>ty.BASE.multiplyAndAddUnsafe(t,e,n);function np(t){let e=h0.utils.normPrivateKeyToScalar(t),n=ty.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:ku(-e),bytes:ey(n)}}function l6(t){if(!u6(t))throw new Error("bad x: need 0 < x < p");const e=ah(t*t),n=ah(e*t+BigInt(7));let r=c6(n);r%Fd!==p0&&(r=ah(-r));const i=new ty(t,r,a6);return i.assertValidity(),i}function d6(...t){return ku(Cr(Gd("BIP0340/challenge",...t)))}function iU(t){return np(t).bytes}function sU(t,e,n=tl(32)){const r=ar("message",t),{bytes:i,scalar:s}=np(e),o=ar("auxRand",n,32),a=tp(s^Cr(Gd("BIP0340/aux",o))),c=Gd("BIP0340/nonce",a,i,r),u=ku(Cr(c));if(u===p0)throw new Error("sign failed: k is zero");const{bytes:l,scalar:d}=np(u),f=d6(l,i,r),p=new Uint8Array(64);if(p.set(l,0),p.set(tp(ku(d+f*s)),32),!f6(p,r,i))throw new Error("sign: Invalid signature produced");return p}function f6(t,e,n){const r=ar("signature",t,64),i=ar("message",e),s=ar("publicKey",n,32);try{const o=l6(Cr(s)),a=Cr(r.subarray(0,32));if(!u6(a))return!1;const c=Cr(r.subarray(32,64));if(!nU(c))return!1;const u=d6(tp(a),ey(o),i),l=rU(o,c,ku(-u));return!(!l||!l.hasEvenY()||l.toAffine().x!==a)}catch{return!1}}h0.utils.randomPrivateKey;const oU=YO(to,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),aU=VO(to,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:to.create(BigInt("-11"))});QO(h0.ProjectivePoint,t=>{const{x:e,y:n}=aU(to.create(t[0]));return oU(e,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:to.ORDER,m:1,k:128,expand:"xmd",hash:Ni});const cU=u0.v4,uU=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return cU()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var lU=uU;const dU=u0.v4,fU=lU,Bu=function(t,e){if(!(this instanceof Bu))return new Bu(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return dU()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var hU=Bu;Bu.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{s=fU(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return r(l);throw l}if(!u)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,l){i._parseResponse(u,l,r)}),s};Bu.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};var ny=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Jt=(t,e,n)=>(ny(t,e,"read from private field"),n?n.call(t):e.get(t)),Jc=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Yc=(t,e,n,r)=>(ny(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Qc=(t,e,n)=>(ny(t,e,"access private method"),n),ni=W(),pU=W(),gU=W(),hn=W(),Ur=W(),Dr=V(),ao=Le([j({AddressOwner:Ur}),j({ObjectOwner:Ur}),j({Shared:j({initial_shared_version:V()})}),he("Immutable")]),yU=Ar("SuiJsonValue",()=>!0),mU=32;function Sm(t){try{return dg(t).length===mU}catch{return!1}}var h6=32;function ns(t){return wU(t)&&_U(t)===h6}function Cl(t){return ns(t)}function qn(t,e=!1){let n=t.toLowerCase();return!e&&n.startsWith("0x")&&(n=n.slice(2)),`0x${n.padStart(h6*2,"0")}`}function Wi(t,e=!1){return qn(t,e)}function wU(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function _U(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}Le([W(),he("package")]);var Ki=j({digest:ni,objectId:W(),version:Le([V(),W()])}),bU=j({payment:re(Ki),owner:W(),price:V(),budget:V()}),vU=Qn(Ki,j({type:W(),owner:ao,previousTransaction:ni})),xU=hr(W(),fr()),SU=hr(W(),W()),p6=j({type:W(),fields:xU,hasPublicTransfer:Ke()}),g6=j({disassembled:SU}),TU=Le([Qn(p6,j({dataType:he("moveObject")})),Qn(g6,j({dataType:he("package")}))]);j({type:W(),hasPublicTransfer:Ke(),version:Dr,bcsBytes:re(V())});var AU=j({id:hn,moduleMap:hr(W(),W())}),EU=Le([Qn(p6,j({dataType:he("moveObject")})),Qn(AU,j({dataType:he("package")}))]);BigInt(1e9);var ia=W(),y6=j({code:W(),error:se(W()),object_id:se(hn),version:se(Dr),digest:se(ia)}),kU=j({data:xt(hr(W(),W())),error:xt(y6)}),BU=Le([kU,se(hr(W(),W()))]),IU=j({objectId:hn,version:Dr,digest:ia,type:se(W()),content:se(TU),bcs:se(EU),owner:se(ao),previousTransaction:se(ni),storageRebate:se(V()),display:se(BU)});j({showType:se(Ke()),showContent:se(Ke()),showBcs:se(Ke()),showOwner:se(Ke()),showPreviousTransaction:se(Ke()),showStorageRebate:se(Ke()),showDisplay:se(Ke())});Le([he("Exists"),he("NotExists"),he("Deleted")]);re(vU);var sd=j({data:se(IU),error:se(y6)});function g0(t){return t.data}function RU(t){if(t.error&&"object_id"in t.error&&"version"in t.error&&"digest"in t.error){const e=t.error;return{objectId:e.object_id,version:e.version,digest:e.digest}}}function $U(t){if(t.error&&"object_id"in t.error&&!("version"in t.error)&&!("digest"in t.error))return t.error.object_id}function m6(t){if("reference"in t)return t.reference;const e=g0(t);return e?{objectId:e.objectId,version:e.version,digest:e.digest}:RU(t)}function sl(t){var e;return"objectId"in t?t.objectId:((e=m6(t))==null?void 0:e.objectId)??$U(t)}function PU(t){return t.data!==void 0}function w6(t){var n;const e=PU(t)?t.data:t;return!(e!=null&&e.type)&&"data"in t?((n=e==null?void 0:e.content)==null?void 0:n.dataType)==="package"?"package":y0(t):e==null?void 0:e.type}function ry(t){var e;return(e=g0(t))==null?void 0:e.previousTransaction}function _6(t){var e;return on(t,ao)?t:(e=g0(t))==null?void 0:e.owner}function CU(t){const e=_6(t);if(typeof e=="object"&&"Shared"in e)return e.Shared.initial_shared_version}function y0(t){var e;return(e=iy(t))==null?void 0:e.type}function sa(t){var e;return"fields"in t?t.fields:(e=iy(t))==null?void 0:e.fields}function OU(t){return t.content!==void 0}function iy(t){const e="data"in t?g0(t):t;if(!(!e||!OU(e)||e.content.dataType!=="moveObject"))return e.content}var UU=j({objectId:hn,atCheckpoint:se(V())}),MU=j({data:re(sd),nextCursor:Le([xt(hn),xt(UU)]),hasNextPage:Ke()}),b6=j({txDigest:ni,eventSeq:Dr}),sy=j({id:b6,packageId:hn,transactionModule:W(),sender:Ur,type:W(),parsedJson:se(hr(W(),fr())),bcs:se(W()),timestampMs:se(nr())}),NU=j({data:re(sy),nextCursor:xt(b6),hasNextPage:Ke()}),qU=V(),DU=j({subscription:qU,result:sy}),Iu=W(),LU=j({epoch:Iu,storage_charge:V(),computation_charge:V(),storage_rebate:V(),epoch_start_timestamp_ms:se(V())}),HU=j({epoch:V(),round:V(),commit_timestamp_ms:V()}),jU=j({objects:re(hn)}),es=Le([he("GasCoin"),j({Input:V()}),j({Result:V()}),j({NestedResult:An([V(),V()])})]),zU=j({arguments:se(re(es)),type_arguments:se(re(W())),package:hn,module:W(),function:W()}),FU=Le([j({MoveCall:zU}),j({TransferObjects:An([re(es),es])}),j({SplitCoins:An([es,re(es)])}),j({MergeCoins:An([es,re(es)])}),j({Publish:An([g6,re(hn)])}),j({MakeMoveVec:An([xt(W()),re(es)])})]),GU=Le([j({type:he("pure"),valueType:se(W()),value:yU}),j({type:he("object"),objectType:he("immOrOwnedObject"),objectId:hn,version:Dr,digest:ia}),j({type:he("object"),objectType:he("sharedObject"),objectId:hn,initialSharedVersion:Dr,mutable:Ke()})]),VU=j({transactions:re(FU),inputs:re(GU)}),WU=Le([Qn(LU,j({kind:he("ChangeEpoch")})),Qn(HU,j({kind:he("ConsensusCommitPrologue")})),Qn(jU,j({kind:he("Genesis")})),Qn(VU,j({kind:he("ProgrammableTransaction")}))]),v6=j({messageVersion:he("v1"),transaction:WU,sender:Ur,gasData:bU}),Tm=W(),KU=Le([Tm,re(Tm)]);j({epoch:Iu,signature:KU,signers_map:re(V())});var XU=j({computationCost:W(),storageCost:W(),storageRebate:W(),nonRefundableStorageFee:W()}),ZU=Le([he("success"),he("failure")]),JU=j({status:ZU,error:se(W())}),Ol=j({owner:ao,reference:Ki}),YU=j({objectId:hn,sequenceNumber:Dr}),oy=j({messageVersion:he("v1"),status:JU,executedEpoch:Iu,modifiedAtVersions:se(re(YU)),gasUsed:XU,sharedObjects:se(re(Ki)),transactionDigest:ni,created:se(re(Ol)),mutated:se(re(Ol)),unwrapped:se(re(Ol)),deleted:se(re(Ki)),unwrapped_then_deleted:se(re(Ki)),wrapped:se(re(Ki)),gasObject:Ol,eventsDigest:se(gU),dependencies:se(re(ni))}),ay=re(sy),QU=An([re(V()),W()]),eM=An([es,re(V()),W()]),tM=j({mutableReferenceOutputs:se(re(eM)),returnValues:se(re(QU))}),nM=j({effects:oy,events:ay,results:se(re(tM)),error:se(W())}),rM=W(),iM=j({data:v6,txSignatures:re(W())}),sM=j({type:he("published"),packageId:hn,version:Dr,digest:ia,modules:re(W())}),oM=j({type:he("transferred"),sender:Ur,recipient:ao,objectType:W(),objectId:hn,version:Dr,digest:ia}),aM=j({type:he("mutated"),sender:Ur,owner:ao,objectType:W(),objectId:hn,version:Dr,previousVersion:Dr,digest:ia}),cM=j({type:he("deleted"),sender:Ur,objectType:W(),objectId:hn,version:Dr}),uM=j({type:he("wrapped"),sender:Ur,objectType:W(),objectId:hn,version:Dr}),lM=j({type:he("created"),sender:Ur,owner:ao,objectType:W(),objectId:hn,version:Dr,digest:ia}),x6=Le([sM,oM,aM,cM,uM,lM]),S6=j({owner:ao,coinType:W(),amount:W()}),od=j({digest:ni,transaction:se(iM),effects:se(oy),events:se(ay),timestampMs:se(V()),checkpoint:se(V()),confirmedLocalExecution:se(Ke()),objectChanges:se(re(x6)),balanceChanges:se(re(S6)),errors:se(re(W()))});j({showInput:se(Ke()),showEffects:se(Ke()),showEvents:se(Ke()),showObjectChanges:se(Ke()),showBalanceChanges:se(Ke())});var dM=j({data:re(od),nextCursor:xt(ni),hasNextPage:Ke()}),fM=j({effects:oy,events:ay,objectChanges:re(x6),balanceChanges:re(S6),input:se(v6)}),T6="0x2",cy="0x1",hM="object",pM="ID",gM=`${T6}::sui::SUI`;Wi("0x6");var Am=/^0x2::coin::Coin<(.+)>$/;function yM(t){return!!t.data||!!t.type}var mM=j({decimals:V(),name:W(),symbol:W(),description:W(),iconUrl:xt(W()),id:xt(hn)}),ai=class{static isCoin(t){var e;return((e=ai.getType(t))==null?void 0:e.match(Am))!=null}static getCoinType(t){const[,e]=t.match(Am)??[];return e||null}static getCoinTypeArg(t){const e=ai.getType(t);return e?ai.getCoinType(e):null}static isSUI(t){const e=ai.getCoinTypeArg(t);return e?ai.getCoinSymbol(e)==="SUI":!1}static getCoinSymbol(t){return t.substring(t.lastIndexOf(":")+1)}static getCoinStructTag(t){return{address:Wi(t.split("::")[0]),module:t.split("::")[1],name:t.split("::")[2],typeParams:[]}}static getID(t){return"fields"in t?t.fields.id.id:sl(t)}static totalBalance(t){return t.reduce((e,n)=>e+ai.getBalanceFromCoinStruct(n),BigInt(0))}static sortByBalance(t){return[...t].sort((e,n)=>ai.getBalanceFromCoinStruct(e)<ai.getBalanceFromCoinStruct(n)?-1:ai.getBalanceFromCoinStruct(e)>ai.getBalanceFromCoinStruct(n)?1:0)}static getBalanceFromCoinStruct(t){return BigInt(t.balance)}static getBalance(t){var n;if(!ai.isCoin(t))return;const e=(n=sa(t))==null?void 0:n.balance;return BigInt(e)}static getType(t){return yM(t)?w6(t):t.type}};function wM(t){t.registerType("utf8string",(e,n)=>{const r=Array.from(new TextEncoder().encode(n));return e.writeVec(r,(i,s)=>i.write8(s))},e=>{let n=e.readVec(r=>r.read8());return new TextDecoder().decode(new Uint8Array(n))})}var la="vector",_M={kind:"TransactionKind",sender:Be.ADDRESS,gasData:"GasData",expiration:"TransactionExpiration"},bM={enums:{"Option<T>":{None:null,Some:"T"},ObjectArg:{ImmOrOwned:"SuiObjectRef",Shared:"SharedObjectRef"},CallArg:{Pure:[la,Be.U8],Object:"ObjectArg",ObjVec:[la,"ObjectArg"]},TypeTag:{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:"TypeTag",struct:"StructTag",u16:null,u32:null,u256:null},TransactionKind:{ProgrammableTransaction:"ProgrammableTransaction",ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null},TransactionExpiration:{None:null,Epoch:Be.U64},TransactionData:{V1:"TransactionDataV1"}},structs:{SuiObjectRef:{objectId:Be.ADDRESS,version:Be.U64,digest:"ObjectDigest"},SharedObjectRef:{objectId:Be.ADDRESS,initialSharedVersion:Be.U64,mutable:Be.BOOL},StructTag:{address:Be.ADDRESS,module:Be.STRING,name:Be.STRING,typeParams:[la,"TypeTag"]},GasData:{payment:[la,"SuiObjectRef"],owner:Be.ADDRESS,price:Be.U64,budget:Be.U64},SenderSignedData:{data:"TransactionData",txSignatures:[la,[la,Be.U8]]},TransactionDataV1:_M},aliases:{ObjectDigest:Be.BASE58}},A6=new Be({...M2(),types:bM});wM(A6);function vM(t){return QI.parse(t)}var xM=j({amount:V(),id:hn,transferTxDigest:ni});j({transferredGasObjects:re(xM),error:xt(W())});var SM=Le([W(),j({Object:W()})]),TM=re(SM),AM=j({address:W(),name:W()}),EM=Le([he("Private"),he("Public"),he("Friend")]),uy=j({abilities:re(W())}),kM=j({constraints:uy,isPhantom:Ke()}),BM=j({TypeParameter:V()});function E6(t){if(!t)return!1;if(typeof t=="string"||on(t,BM)||k6(t))return!0;if(typeof t!="object")return!1;const e=t;return!!(on(e.Reference,qa)||on(e.MutableReference,qa)||on(e.Vector,qa))}var qa=Ar("SuiMoveNormalizedType",E6);function k6(t){if(!t||typeof t!="object")return!1;const e=t;if(!e.Struct||typeof e.Struct!="object")return!1;const n=e.Struct;return!(typeof n.address!="string"||typeof n.module!="string"||typeof n.name!="string"||!Array.isArray(n.typeArguments)||!n.typeArguments.every(r=>E6(r)))}Ar("SuiMoveNormalizedStructType",k6);var B6=j({visibility:EM,isEntry:Ke(),typeParameters:re(uy),parameters:re(qa),return:re(qa)}),IM=j({name:W(),type:qa}),I6=j({abilities:uy,typeParameters:re(kM),fields:re(IM)}),R6=j({fileFormatVersion:V(),address:W(),name:W(),friends:re(AM),structs:hr(W(),I6),exposedFunctions:hr(W(),B6)}),RM=hr(W(),R6);function $6(t){return typeof t=="object"&&"MutableReference"in t?t.MutableReference:void 0}function $M(t){return typeof t=="object"&&"Reference"in t?t.Reference:void 0}function P6(t){if(typeof t=="object"&&"Struct"in t)return t;const e=$M(t),n=$6(t);if(typeof e=="object"&&"Struct"in e)return e;if(typeof n=="object"&&"Struct"in n)return n}j({value:V()});var PM=j({stakedSuiId:hn,stakeRequestEpoch:Iu,stakeActiveEpoch:Iu,principal:V(),status:Le([he("Active"),he("Pending"),he("Unstaked")]),estimatedReward:se(V())}),Em=j({validatorAddress:Ur,stakingPool:hn,stakes:re(PM)}),CM=j({balance:j({value:V()}),distribution_counter:V(),current_distribution_amount:V(),stake_subsidy_period_length:V(),stake_subsidy_decrease_rate:V()});j({type:W(),fields:CM});j({value:V()});var OM=j({id:W(),size:V(),head:j({vec:re()}),tail:j({vec:re()})});j({id:W(),size:V()});j({type:W(),fields:OM});var UM=j({exchangeRates:j({id:W(),size:V()}),id:W(),pendingStake:V(),pendingPoolTokenWithdraw:V(),pendingTotalSuiWithdraw:V(),poolTokenBalance:V(),rewardsPool:j({value:V()}),activationEpoch:j({vec:re()}),deactivationEpoch:j({vec:re()}),suiBalance:V()});j({type:W(),fields:UM});var MM=re(An([rM,V()])),NM=j({epoch:V(),validators:MM}),C6=j({suiAddress:Ur,protocolPubkeyBytes:W(),networkPubkeyBytes:W(),workerPubkeyBytes:W(),proofOfPossessionBytes:W(),operationCapId:W(),name:W(),description:W(),imageUrl:W(),projectUrl:W(),p2pAddress:W(),netAddress:W(),primaryAddress:W(),workerAddress:W(),nextEpochProtocolPubkeyBytes:xt(W()),nextEpochProofOfPossession:xt(W()),nextEpochNetworkPubkeyBytes:xt(W()),nextEpochWorkerPubkeyBytes:xt(W()),nextEpochNetAddress:xt(W()),nextEpochP2pAddress:xt(W()),nextEpochPrimaryAddress:xt(W()),nextEpochWorkerAddress:xt(W()),votingPower:V(),gasPrice:V(),commissionRate:V(),nextEpochStake:V(),nextEpochGasPrice:V(),nextEpochCommissionRate:V(),stakingPoolId:W(),stakingPoolActivationEpoch:xt(V()),stakingPoolDeactivationEpoch:xt(V()),stakingPoolSuiBalance:V(),rewardsPool:V(),poolTokenBalance:V(),pendingStake:V(),pendingPoolTokenWithdraw:V(),pendingTotalSuiWithdraw:V(),exchangeRatesId:W(),exchangeRatesSize:V()}),qM=j({epoch:V(),protocolVersion:V(),systemStateVersion:V(),storageFundTotalObjectStorageRebates:V(),storageFundNonRefundableBalance:V(),referenceGasPrice:V(),safeMode:Ke(),safeModeStorageRewards:V(),safeModeComputationRewards:V(),safeModeStorageRebates:V(),safeModeNonRefundableStorageFee:V(),epochStartTimestampMs:V(),epochDurationMs:V(),stakeSubsidyStartEpoch:V(),maxValidatorCount:V(),minValidatorJoiningStake:V(),validatorLowStakeThreshold:V(),validatorVeryLowStakeThreshold:V(),validatorLowStakeGracePeriod:V(),stakeSubsidyBalance:V(),stakeSubsidyDistributionCounter:V(),stakeSubsidyCurrentDistributionAmount:V(),stakeSubsidyPeriodLength:V(),stakeSubsidyDecreaseRate:V(),totalStake:V(),activeValidators:re(C6),pendingActiveValidatorsId:W(),pendingActiveValidatorsSize:V(),pendingRemovals:re(V()),stakingPoolMappingsId:W(),stakingPoolMappingsSize:V(),inactivePoolsId:W(),inactivePoolsSize:V(),validatorCandidatesId:W(),validatorCandidatesSize:V(),atRiskValidators:re(An([Ur,V()])),validatorReportRecords:re(An([Ur,re(Ur)]))}),DM=j({coinType:W(),coinObjectId:hn,version:V(),digest:ni,balance:V(),lockedUntilEpoch:xt(V()),previousTransaction:ni}),km=j({data:re(DM),nextCursor:xt(hn),hasNextPage:Ke()}),Bm=j({coinType:W(),coinObjectCount:V(),totalBalance:V(),lockedBalance:j({epochId:se(V()),number:se(V())})}),LM=j({value:V()}),HM=j({computationCost:V(),storageCost:V(),storageRebate:V(),nonRefundableStorageFee:V()});W();var Im=W();j({digest:re(V())});var O6=fr(),jM=W(),zM=j({nextEpochCommittee:re(An([W(),V()])),nextEpochProtocolVersion:V(),epochCommitments:re(O6)});j({transaction:ni,effects:pU});var U6=j({epoch:V(),sequenceNumber:W(),digest:Im,networkTotalTransactions:V(),previousDigest:se(Im),epochRollingGasCostSummary:HM,timestampMs:V(),endOfEpochData:se(zM),validatorSignature:se(jM),transactions:re(ni),checkpointCommitments:re(O6)}),FM=j({data:re(U6),nextCursor:xt(W()),hasNextPage:Ke()}),GM="0.31.0",rp=class extends Error{constructor(t){super("RPC Error",{cause:t.cause}),this.req=t.req,this.code=t.code,this.data=t.data}},Rm=class extends Error{constructor(t){super("RPC Validation Error: The response returned from RPC server does not match the TypeScript definition. This is likely because the SDK version is not compatible with the RPC server.",{cause:t.cause}),this.req=t.req,this.result=t.result,this.message=this.toString()}toString(){let t=super.toString();return this.cause&&(t+=`
Cause: ${this.cause}`),this.result&&(t+=`
Reponse Received: ${JSON.stringify(this.result,null,2)}`),t}},VM=class extends Error{},WM=j({jsonrpc:he("2.0"),id:W(),result:fr()}),M6=j({jsonrpc:he("2.0"),id:W(),error:j({code:fr(),message:W(),data:se(fr())})}),KM=class{constructor(t,e){this.rpcClient=new hU(async(n,r)=>{const i={method:"POST",body:n,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":GM,"Client-Target-Api-Version":DN,...e}};try{let s=await fetch(t,i);const o=await s.text();if(s.ok)r(null,o);else{const a=s.headers.get("content-type")==="text/html";r(new Error(`${s.status} ${s.statusText}${a?"":`: ${o}`}`))}}catch(s){r(s)}},{})}async requestWithType(t,e,n,r=!1){const i={method:t,args:e},s=await this.request(t,e);if(on(s,M6))throw new rp({req:i,code:s.error.code,data:s.error.data,cause:new Error(s.error.message)});if(on(s,WM)){const[o]=Ic(s.result,n);if(r&&o)return console.warn(new Rm({req:i,result:s.result,cause:o})),s.result;if(o)throw new Rm({req:i,result:s.result,cause:o});return s.result}throw new rp({req:i,data:s})}async request(t,e){return new Promise((n,r)=>{this.rpcClient.request(t,e,(i,s)=>{if(i){r(i);return}n(s)})})}},XM=Le([he("DynamicField"),he("DynamicObject")]),ZM=j({type:W(),value:fr()}),JM=j({name:ZM,bcsName:W(),type:XM,objectType:W(),objectId:hn,version:V(),digest:W()}),YM=j({data:re(JM),nextCursor:xt(hn),hasNextPage:Ke()}),QM=(t,e)=>{const n=new URL(t);return n.protocol=n.protocol.replace("http","ws"),e&&(n.port=e.toString()),n.toString()},eN=t=>t&&"subscription"in t&&typeof t.subscription=="number"&&"result"in t&&typeof t.result=="object",N6={connectTimeout:15e3,callTimeout:3e4,reconnectInterval:3e3,maxReconnects:5},$m="suix_subscribeEvent",tN="suix_unsubscribeEvent",nN=class{constructor(t,e,n=N6){this.endpoint=t,this.skipValidation=e,this.options=n,this.connectionState=0,this.connectionTimeout=null,this.isSetup=!1,this.connectionPromise=null,this.eventSubscriptions=new Map,this.endpoint.startsWith("http")&&(this.endpoint=QM(this.endpoint)),this.rpcClient=new Ev(this.endpoint,{reconnect_interval:this.options.reconnectInterval,max_reconnects:this.options.maxReconnects,autoconnect:!1})}setupSocket(){this.isSetup||(this.rpcClient.on("open",()=>{this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=null),this.connectionState=2,this.rpcClient.socket.on("message",this.onSocketMessage.bind(this))}),this.rpcClient.on("close",()=>{this.connectionState=0}),this.rpcClient.on("error",console.error),this.isSetup=!0)}onSocketMessage(t){const e=JSON.parse(t),n=e.params;if(e.method===$m){if(this.skipValidation&&eN(n)){const r=this.eventSubscriptions.get(n.subscription);r&&r.onMessage(n.result)}else if(on(n,DU)){const r=this.eventSubscriptions.get(n.subscription);r&&r.onMessage(n.result)}}}async connect(){return this.connectionPromise?this.connectionPromise:this.connectionState===2?Promise.resolve():(this.setupSocket(),this.rpcClient.connect(),this.connectionState=1,this.connectionPromise=new Promise((t,e)=>{this.connectionTimeout=setTimeout(()=>e(new Error("timeout")),this.options.connectTimeout),this.rpcClient.once("open",()=>{this.refreshSubscriptions(),this.connectionPromise=null,t()}),this.rpcClient.once("error",n=>{this.connectionPromise=null,e(n)})}),this.connectionPromise)}async refreshSubscriptions(){if(this.eventSubscriptions.size!==0)try{let t=new Map;(await Promise.all(Array.from(this.eventSubscriptions.values()).map(async n=>{const r=n.onMessage,i=n.filter;return!i||!r?Promise.resolve(null):{id:await this.subscribeEvent(i,r),onMessage:r,filter:i}}))).forEach(n=>{if(n===null)return;const r=n.filter,i=n.onMessage;t.set(n.id,{filter:r,onMessage:i})}),this.eventSubscriptions=t}catch(t){throw new Error(`error refreshing event subscriptions: ${t}`)}}async subscribeEvent(t,e){try{this.connectionState!==2&&await this.connect();let n=await this.rpcClient.call($m,[t],this.options.callTimeout);return this.eventSubscriptions.set(n,{filter:t,onMessage:e}),n}catch(n){throw new Error(`Error subscribing to event: ${JSON.stringify(n,null,2)}, filter: ${JSON.stringify(t)}`)}}async unsubscribeEvent(t){try{this.connectionState!==2&&await this.connect();let e=await this.rpcClient.call(tN,[t],this.options.callTimeout);return this.eventSubscriptions.delete(t)||e}catch(e){throw new Error(`Error unsubscribing from event: ${e}, subscription: ${t}`)}}};async function rN(t,e,n){const r=await fetch(t,{method:"POST",body:JSON.stringify({FixedAmountRequest:{recipient:e}}),headers:{"Content-Type":"application/json",...n||{}}});if(r.status===429)throw new VM("Too many requests from this client have been sent to the faucet. Please retry later");let i;try{i=await r.json()}catch(s){throw new Error(`Ecountered error when parsing response from faucet, error: ${s}, status ${r.status}, response ${r}`)}if(i.error)throw new Error(`Faucet returns error: ${i.error}`);return i}var mo,m0=class{constructor(t){Jc(this,mo,void 0),Yc(this,mo,t)}get fullnode(){return Jt(this,mo).fullnode}get websocket(){return Jt(this,mo).websocket||Jt(this,mo).fullnode}get faucet(){return Jt(this,mo).faucet}};mo=new WeakMap;new m0({fullnode:"http://127.0.0.1:9000",faucet:"http://127.0.0.1:9123/gas"});var iN=new m0({fullnode:"https://fullnode.devnet.sui.io:443/",faucet:"https://faucet.devnet.sui.io/gas"});new m0({fullnode:"https://fullnode.testnet.sui.io:443/",faucet:"https://faucet.testnet.sui.io/gas"});function mi(t,e){return yg(t,e)}var Vd=Symbol("transaction-argument-type"),sN=t=>Le([j({None:he(null)}),j({Some:t})]),Ru=j({kind:he("Input"),index:nr(),value:se(fr()),type:se(Le([he("pure"),he("object")]))}),ly=[Ru,j({kind:he("GasCoin")}),j({kind:he("Result"),index:nr()}),j({kind:he("NestedResult"),index:nr(),resultIndex:nr()})],oN=Le([...ly]),pc=Le([...ly]);pc[Vd]={kind:"object"};var q6=t=>{const e=Le([...ly]);return e[Vd]={kind:"pure",type:t},e},D6=j({kind:he("MoveCall"),target:Ar("target",W().validator),typeArguments:re(W()),arguments:re(oN)}),L6=j({kind:he("TransferObjects"),objects:re(pc),address:q6(Be.ADDRESS)}),H6=j({kind:he("SplitCoins"),coin:pc,amounts:re(q6("u64"))}),j6=j({kind:he("MergeCoins"),destination:pc,sources:re(pc)}),z6=j({kind:he("MakeMoveVec"),type:se(sN(W())),objects:re(pc)}),F6=j({kind:he("Publish"),modules:re(re(nr())),dependencies:re(hn)}),G6=[D6,L6,H6,j6,F6,z6],V6=Le([...G6]);function aN(t){return Do(t,V6),G6.find(e=>on(t,e))}var lo={MoveCall(t){return mi({kind:"MoveCall",target:t.target,arguments:t.arguments??[],typeArguments:t.typeArguments??[]},D6)},TransferObjects(t,e){return mi({kind:"TransferObjects",objects:t,address:e},L6)},SplitCoins(t,e){return mi({kind:"SplitCoins",coin:t,amounts:e},H6)},MergeCoins(t,e){return mi({kind:"MergeCoins",destination:t,sources:e},j6)},Publish(t,e){return mi({kind:"Publish",modules:t,dependencies:e},F6)},MakeMoveVec({type:t,objects:e}){return mi({kind:"MakeMoveVec",type:t?{Some:t}:{None:null},objects:e},z6)}},cN=/^vector<(.+)>$/,uN=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,vo=class{static parseFromStr(t,e=!1){if(t==="address")return{address:null};if(t==="bool")return{bool:null};if(t==="u8")return{u8:null};if(t==="u16")return{u16:null};if(t==="u32")return{u32:null};if(t==="u64")return{u64:null};if(t==="u128")return{u128:null};if(t==="u256")return{u256:null};if(t==="signer")return{signer:null};const n=t.match(cN);if(n)return{vector:vo.parseFromStr(n[1],e)};const r=t.match(uN);if(r)return{struct:{address:e?qn(r[1]):r[1],module:r[2],name:r[3],typeParams:r[5]===void 0?[]:vo.parseStructTypeArgs(r[5],e)}};throw new Error(`Encountered unexpected token when parsing type args for ${t}`)}static parseStructTypeArgs(t,e=!1){const n=[];let r="",i=0;for(let s=0;s<t.length;s++){const o=t[s];if(o==="<"&&i++,o===">"&&i--,i===0&&o===","){n.push(r.trim()),r="";continue}r+=o}return n.push(r.trim()),n.map(s=>vo.parseFromStr(s,e))}static tagToString(t){if("bool"in t)return"bool";if("u8"in t)return"u8";if("u16"in t)return"u16";if("u32"in t)return"u32";if("u64"in t)return"u64";if("u128"in t)return"u128";if("u256"in t)return"u256";if("address"in t)return"address";if("signer"in t)return"signer";if("vector"in t)return`vector<${vo.tagToString(t.vector)}>`;if("struct"in t){const e=t.struct,n=e.typeParams.map(vo.tagToString).join(", ");return`${e.address}::${e.module}::${e.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}},W6="Argument",Bi="vector",lN="Option",dN="CallArg",Pm="TypeTag",fN="ProgrammableTransaction",ip="ProgrammableMoveCall",K6="Transaction",dy="EnumKind",hN=[dy,K6],Cs=[dy,W6],X6="SimpleProgrammableMoveCall",Vs=new Be(A6).registerStructType(fN,{inputs:[Bi,dN],transactions:[Bi,hN]}).registerEnumType(W6,{GasCoin:null,Input:{index:Be.U16},Result:{index:Be.U16},NestedResult:{index:Be.U16,resultIndex:Be.U16}}).registerStructType(ip,{package:Be.ADDRESS,module:Be.STRING,function:Be.STRING,type_arguments:[Bi,Pm],arguments:[Bi,Cs]}).registerEnumType(K6,{MoveCall:X6,TransferObjects:{objects:[Bi,Cs],address:Cs},SplitCoins:{coin:Cs,amounts:[Bi,Cs]},MergeCoins:{destination:Cs,sources:[Bi,Cs]},Publish:{modules:[Bi,[Bi,Be.U8]],dependencies:[Bi,Be.ADDRESS]},MakeMoveVec:{type:[lN,Pm],objects:[Bi,Cs]}});Vs.registerType([dy,"T"],function(e,n,r,i){const o={[n.kind]:n},[a]=r;return this.getTypeInterface(a)._encodeRaw.call(this,e,o,r,i)},function(e,n,r){const[i]=n,s=this.getTypeInterface(i)._decodeRaw.call(this,e,n,r),o=Object.keys(s)[0];return{kind:o,...s[o]}},t=>{if(typeof t!="object"&&!("kind"in t))throw new Error(`EnumKind: Missing property "kind" in the input ${JSON.stringify(t)}`);return!0});Vs.registerType(X6,function(e,n,r,i){const[s,o,a]=n.target.split("::"),c=n.typeArguments.map(u=>vo.parseFromStr(u,!0));return this.getTypeInterface(ip)._encodeRaw.call(this,e,{package:qn(s),module:o,function:a,type_arguments:c,arguments:n.arguments},r,i)},function(e,n,r){let i=Vs.getTypeInterface(ip)._decodeRaw.call(this,e,n,r);return{target:[i.package,i.module,i.function].join("::"),arguments:i.arguments,typeArguments:i.type_arguments.map(vo.tagToString)}},t=>t.target.split("::").length===3);var pN=Le([j({ImmOrOwned:Ki}),j({Shared:j({objectId:W(),initialSharedVersion:Le([nr(),W()]),mutable:Ke()})})]),sp=j({Pure:re(nr())}),gN=j({Object:pN}),au=Le([sp,gN]),is={Pure(t,e){return{Pure:Array.from(t instanceof Uint8Array?t:Vs.ser(e,t).toBytes())}},ObjectRef({objectId:t,digest:e,version:n}){return{Object:{ImmOrOwned:{digest:e,version:n,objectId:qn(t)}}}},SharedObjectRef({objectId:t,mutable:e,initialSharedVersion:n}){return{Object:{Shared:{mutable:e,initialSharedVersion:n,objectId:qn(t)}}}}};function Cm(t){return typeof t=="string"?qn(t):"ImmOrOwned"in t.Object?qn(t.Object.ImmOrOwned.objectId):qn(t.Object.Shared.objectId)}function yN(t){return typeof t=="object"&&"Object"in t&&"Shared"in t.Object?t.Object.Shared:void 0}function mN(t){var e;return((e=yN(t))==null?void 0:e.mutable)??!1}var wN="ascii",_N="String",bN="string",vN="String",xN="option",SN="Option",TN={address:T6,module:hM,name:pM},AN={address:cy,module:wN,name:_N},EN={address:cy,module:bN,name:vN},kN={address:cy,module:xN,name:SN},Ul=(t,e)=>t.address===e.address&&t.module===e.module&&t.name===e.name;function BN(t){var n;const e=(n=P6(t))==null?void 0:n.Struct;return(e==null?void 0:e.address)==="0x2"&&(e==null?void 0:e.module)==="tx_context"&&(e==null?void 0:e.name)==="TxContext"}function ch(t,e){if(!(typeof e>"u")&&typeof e!==t)throw new Error(`Expect ${e} to be ${t}, received ${typeof e}`)}var IN=["Address","Bool","U8","U16","U32","U64","U128","U256"];function op(t,e){if(typeof t=="string"&&IN.includes(t)){if(t in["U8","U16","U32","U64","U128","U256"])ch("number",e);else if(t==="Bool")ch("boolean",e);else if(t==="Address"&&(ch("string",e),e&&!ns(e)))throw new Error("Invalid Sui Address");return t.toLowerCase()}else if(typeof t=="string")throw new Error(`Unknown pure normalized type ${JSON.stringify(t,null,2)}`);if("Vector"in t){if((e===void 0||typeof e=="string")&&t.Vector==="U8")return"string";if(e!==void 0&&!Array.isArray(e))throw new Error(`Expect ${e} to be a array, received ${typeof e}`);const n=op(t.Vector,e?e[0]:void 0);return n===void 0?void 0:`vector<${n}>`}if("Struct"in t){if(Ul(t.Struct,AN))return"string";if(Ul(t.Struct,EN))return"utf8string";if(Ul(t.Struct,TN))return"address";if(Ul(t.Struct,kN)){const n={Vector:t.Struct.typeArguments[0]};return op(n,e)}}}function RN(t,e){const n=Array.from(`${t}::`).map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+e.length);return r.set(n),r.set(e,n.length),F2(r,{dkLen:32})}var $N=se(xt(Le([j({Epoch:nr()}),j({None:Le([he(!0),he(null)])})]))),Z6=W(),Om=Ar("StringEncodedBigint",t=>{if(!["string","number","bigint"].includes(typeof t))return!1;try{return BigInt(t),!0}catch{return!1}}),PN=j({budget:se(Om),price:se(Om),payment:se(re(Ki)),owner:se(Z6)}),Ml=j({version:he(1),sender:se(Z6),expiration:$N,gasConfig:PN,inputs:re(Ru),transactions:re(V6)});function Um(t){return qn(t).replace("0x","")}var Mm=128*1024,Ws=class{constructor(t){this.version=1,this.sender=t==null?void 0:t.sender,this.expiration=t==null?void 0:t.expiration,this.gasConfig=(t==null?void 0:t.gasConfig)??{},this.inputs=(t==null?void 0:t.inputs)??[],this.transactions=(t==null?void 0:t.transactions)??[]}static fromKindBytes(t){const e=Vs.de("TransactionKind",t),n=e==null?void 0:e.ProgrammableTransaction;if(!n)throw new Error("Unable to deserialize from bytes.");const r=mi({version:1,gasConfig:{},inputs:n.inputs.map((i,s)=>mi({kind:"Input",value:i,index:s,type:on(i,sp)?"pure":"object"},Ru)),transactions:n.transactions},Ml);return Ws.restore(r)}static fromBytes(t){var s;const e=Vs.de("TransactionData",t),n=e==null?void 0:e.V1,r=(s=n==null?void 0:n.kind)==null?void 0:s.ProgrammableTransaction;if(!n||!r)throw new Error("Unable to deserialize from bytes.");const i=mi({version:1,sender:n.sender,expiration:n.expiration,gasConfig:n.gasData,inputs:r.inputs.map((o,a)=>mi({kind:"Input",value:o,index:a,type:on(o,sp)?"pure":"object"},Ru)),transactions:r.transactions},Ml);return Ws.restore(i)}static restore(t){Do(t,Ml);const e=new Ws;return Object.assign(e,t),e}static getDigestFromBytes(t){const e=RN("TransactionData",t);return Qf(e)}build({overrides:t,onlyTransactionKind:e}={}){const n=this.inputs.map(c=>(Do(c.value,au),c.value)),r={ProgrammableTransaction:{inputs:n,transactions:this.transactions}};if(e)return Vs.ser("TransactionKind",r,{maxSize:Mm}).toBytes();const i=(t==null?void 0:t.expiration)??this.expiration,s=(t==null?void 0:t.sender)??this.sender,o={...this.gasConfig,...t==null?void 0:t.gasConfig};if(!s)throw new Error("Missing transaction sender");if(!o.budget)throw new Error("Missing gas budget");if(!o.payment)throw new Error("Missing gas payment");if(!o.price)throw new Error("Missing gas price");const a={sender:Um(s),expiration:i||{None:!0},gasData:{payment:o.payment,owner:Um(this.gasConfig.owner??s),price:BigInt(o.price),budget:BigInt(o.budget)},kind:{ProgrammableTransaction:{inputs:n,transactions:this.transactions}}};return Vs.ser("TransactionData",{V1:a},{maxSize:Mm}).toBytes()}getDigest(){const t=this.build({onlyTransactionKind:!1});return Ws.getDigestFromBytes(t)}snapshot(){return mi(this,Ml)}};function CN(t){const e={kind:"Result",index:t},n=[],r=i=>n[i]??(n[i]={kind:"NestedResult",index:t,resultIndex:i});return new Proxy(e,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(i,s){if(s in i)return Reflect.get(i,s);if(s===Symbol.iterator)return function*(){let a=0;for(;;)yield r(a),a++};if(typeof s=="symbol")return;const o=parseInt(s,10);if(!(Number.isNaN(o)||o<0))return r(o)}})}function eu(t){if(!t)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return t}var Nm=Symbol.for("@mysten/transaction"),ap=256,ON=1e9,UN=10n,Ft,ad,cp,fy,J6,cd,up,lp=class{constructor(t){Jc(this,ad),Jc(this,fy),Jc(this,cd),Jc(this,Ft,void 0),Yc(this,Ft,new Ws(t?Jt(t,Ft):void 0))}static is(t){return!!t&&typeof t=="object"&&t[Nm]===!0}static fromKind(t){const e=new lp;return Yc(e,Ft,Ws.fromKindBytes(typeof t=="string"?qo(t):t)),e}static from(t){const e=new lp;return typeof t!="string"||!t.startsWith("{")?Yc(e,Ft,Ws.fromBytes(typeof t=="string"?qo(t):t)):Yc(e,Ft,Ws.restore(JSON.parse(t))),e}static get Transactions(){return lo}static get Inputs(){return is}setSender(t){Jt(this,Ft).sender=t}setSenderIfNotSet(t){Jt(this,Ft).sender||(Jt(this,Ft).sender=t)}setExpiration(t){Jt(this,Ft).expiration=t}setGasPrice(t){Jt(this,Ft).gasConfig.price=String(t)}setGasBudget(t){Jt(this,Ft).gasConfig.budget=String(t)}setGasOwner(t){Jt(this,Ft).gasConfig.owner=t}setGasPayment(t){if(t.length>=ap)throw new Error(`Payment objects exceed maximum amount ${ap}`);Jt(this,Ft).gasConfig.payment=t.map(e=>mg(e,Ki))}get blockData(){return Jt(this,Ft).snapshot()}get[Nm](){return!0}get gas(){return{kind:"GasCoin"}}object(t){const e=Cm(t);return Jt(this,Ft).inputs.find(r=>r.type==="object"&&e===Cm(r.value))??Qc(this,ad,cp).call(this,"object",t)}objectRef(...t){return this.object(is.ObjectRef(...t))}sharedObjectRef(...t){return this.object(is.SharedObjectRef(...t))}pure(t,e){return Qc(this,ad,cp).call(this,"pure",t instanceof Uint8Array?is.Pure(t):e?is.Pure(t,e):t)}add(t){const e=Jt(this,Ft).transactions.push(t);return CN(e-1)}splitCoins(...t){return this.add(lo.SplitCoins(...t))}mergeCoins(...t){return this.add(lo.MergeCoins(...t))}publish(...t){return this.add(lo.Publish(...t))}moveCall(...t){return this.add(lo.MoveCall(...t))}transferObjects(...t){return this.add(lo.TransferObjects(...t))}makeMoveVec(...t){return this.add(lo.MakeMoveVec(...t))}serialize(){return JSON.stringify(Jt(this,Ft).snapshot())}async build({provider:t,onlyTransactionKind:e}={}){return await Qc(this,cd,up).call(this,{provider:t,onlyTransactionKind:e}),Jt(this,Ft).build({onlyTransactionKind:e})}async getDigest({provider:t}={}){return await Qc(this,cd,up).call(this,{provider:t}),Jt(this,Ft).getDigest()}},mn=lp;Ft=new WeakMap;ad=new WeakSet;cp=function(t,e){const n=Jt(this,Ft).inputs.length,r=mi({kind:"Input",value:typeof e=="bigint"?String(e):e,index:n,type:t},Ru);return Jt(this,Ft).inputs.push(r),r};fy=new WeakSet;J6=async function(t){const e=Jt(this,Ft).gasConfig.owner??Jt(this,Ft).sender,r=(await eu(t).getCoins({owner:e,coinType:gM})).data.filter(i=>!Jt(this,Ft).inputs.find(o=>on(o.value,au)&&"Object"in o.value&&"ImmOrOwned"in o.value.Object?i.coinObjectId===o.value.Object.ImmOrOwned.objectId:!1)).slice(0,ap-1).map(i=>({objectId:i.coinObjectId,digest:i.digest,version:i.version}));if(!r.length)throw new Error("No valid gas coins found for the transaction.");return r};cd=new WeakSet;up=async function({provider:t,onlyTransactionKind:e}){var o;if(!e&&!Jt(this,Ft).sender)throw new Error("Missing transaction sender");const{inputs:n,transactions:r}=Jt(this,Ft),i=[],s=[];if(r.forEach(a=>{if(a.kind==="MoveCall"){a.arguments.some(l=>l.kind==="Input"&&!on(n[l.index].value,au))&&i.push(a);return}const c=aN(a);c.schema&&Object.entries(a).forEach(([u,l])=>{if(u==="kind")return;const d=c.schema[u],f=d.type==="array",p=f?d.schema[Vd]:d[Vd];if(!p)return;const w=m=>{const v=n[m];if(!v)throw new Error(`Missing input ${l.index}`);if(!on(v.value,au))if(p.kind==="object"&&typeof v.value=="string")s.push({id:v.value,input:v});else if(p.kind==="pure")v.value=is.Pure(v.value,p.type);else throw new Error("Unexpected input format.")};if(f)l.forEach(m=>{m.kind==="Input"&&w(m.index)});else{if(l.kind!=="Input")return;w(l.index)}})}),i.length&&await Promise.all(i.map(async a=>{const[c,u,l]=a.target.split("::"),d=await eu(t).getNormalizedMoveFunction({package:Wi(c),module:u,function:l}),p=d.parameters.length>0&&BN(d.parameters.at(-1))?d.parameters.slice(0,d.parameters.length-1):d.parameters;if(p.length!==a.arguments.length)throw new Error("Incorrect number of arguments.");p.forEach((w,m)=>{const v=a.arguments[m];if(v.kind!=="Input")return;const k=n[v.index];if(on(k.value,au))return;const E=k.value,b=op(w,E);if(b){k.value=is.Pure(E,b);return}if(P6(w)!=null||typeof w=="object"&&"TypeParameter"in w){if(typeof E!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(E,null,2)}`);s.push({id:E,input:k,normalizedType:w});return}throw new Error(`Unknown call arg type ${JSON.stringify(w,null,2)} for value ${JSON.stringify(E,null,2)}`)})})),s.length){const a=[...new Set(s.map(({id:d})=>d))],c=await eu(t).multiGetObjects({ids:a,options:{showOwner:!0}});let u=new Map(a.map((d,f)=>[d,c[f]]));const l=Array.from(u).filter(([d,f])=>f.error).map(([d,f])=>d);if(l.length)throw new Error(`The following input objects are not invalid: ${l.join(", ")}`);s.forEach(({id:d,input:f,normalizedType:p})=>{const w=u.get(d),m=CU(w);if(m){const v=mN(f.value)||p!=null&&$6(p)!=null;f.value=is.SharedObjectRef({objectId:d,initialSharedVersion:m,mutable:v})}else f.value=is.ObjectRef(m6(w))})}if(!e&&(Jt(this,Ft).gasConfig.price||this.setGasPrice(await eu(t).getReferenceGasPrice()),Jt(this,Ft).gasConfig.payment||(Jt(this,Ft).gasConfig.payment=await Qc(this,fy,J6).call(this,t)),!this.blockData.gasConfig.budget)){const a=await eu(t).dryRunTransactionBlock({transactionBlock:Jt(this,Ft).build({overrides:{gasConfig:{budget:String(ON),payment:[]}}})});if(a.effects.status.status!=="success")throw new Error("Dry run failed, could not automatically determine a budget",{cause:a});const c=UN*BigInt(((o=this.blockData.gasConfig.payment)==null?void 0:o.length)||0n)*BigInt(this.blockData.gasConfig.price||1n);this.setGasBudget(BigInt(a.effects.gasUsed.computationCost)+BigInt(a.effects.gasUsed.storageCost)+c)}};var MN=j({currentTps:V(),tps30Days:V(),currentCheckpoint:V(),currentEpoch:V(),totalAddresses:V(),totalObjects:V(),totalPackages:V()}),NN=j({lastCheckpointId:V(),epochEndTimestamp:V(),protocolVersion:V(),referenceGasPrice:V(),totalStake:V(),storageFundReinvestment:V(),storageCharge:V(),storageRebate:V(),storageFundBalance:V(),stakeSubsidyAmount:V(),totalGasFees:V(),totalStakeRewardsDistributed:V(),leftoverStorageFundInflow:V()}),Y6=j({epoch:V(),validators:re(C6),epochTotalTransactions:V(),firstCheckpointId:V(),epochStartTimestamp:V(),endOfEpochInfo:xt(NN)}),qN=j({data:re(Y6),nextCursor:xt(V()),hasNextPage:Ke()}),DN="0.29.0",qm={skipDataValidation:!0,socketOptions:N6,versionCacheTimeoutInSeconds:600},LN=class{constructor(t=iN,e=qm){this.options=e,this.connection=t;const n={...qm,...e};this.options=n,this.client=n.rpcClient??new KM(this.connection.fullnode),this.wsClient=n.websocketClient??new nN(this.connection.websocket,n.skipDataValidation,n.socketOptions)}async getRpcApiVersion(){if(this.rpcApiVersion&&this.cacheExpiry&&this.cacheExpiry<=Date.now())return this.rpcApiVersion;try{const t=await this.client.requestWithType("rpc.discover",[],fr(),this.options.skipDataValidation);return this.rpcApiVersion=vM(t.info.version),this.cacheExpiry=Date.now()+(this.options.versionCacheTimeoutInSeconds??0)*1e3,this.rpcApiVersion}catch(t){console.warn("Error fetching version number of the RPC API",t)}}async requestSuiFromFaucet(t,e){if(!this.connection.faucet)throw new Error("Faucet URL is not specified");return rN(this.connection.faucet,t,e)}async getCoins(t){if(!t.owner||!ns(qn(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getCoins",[t.owner,t.coinType,t.cursor,t.limit],km,this.options.skipDataValidation)}async getAllCoins(t){if(!t.owner||!ns(qn(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllCoins",[t.owner,t.cursor,t.limit],km,this.options.skipDataValidation)}async getBalance(t){if(!t.owner||!ns(qn(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getBalance",[t.owner,t.coinType],Bm,this.options.skipDataValidation)}async getAllBalances(t){if(!t.owner||!ns(qn(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllBalances",[t.owner],re(Bm),this.options.skipDataValidation)}async getCoinMetadata(t){return await this.client.requestWithType("suix_getCoinMetadata",[t.coinType],mM,this.options.skipDataValidation)}async getTotalSupply(t){return await this.client.requestWithType("suix_getTotalSupply",[t.coinType],LM,this.options.skipDataValidation)}async call(t,e){const n=await this.client.request(t,e);if(on(n,M6))throw new rp({req:{method:t,args:e},code:n.error.code,data:n.error.data,cause:new Error(n.error.message)});return n.result}async getMoveFunctionArgTypes(t){return await this.client.requestWithType("sui_getMoveFunctionArgTypes",[t.package,t.module,t.function],TM,this.options.skipDataValidation)}async getNormalizedMoveModulesByPackage(t){return await this.client.requestWithType("sui_getNormalizedMoveModulesByPackage",[t.package],RM,this.options.skipDataValidation)}async getNormalizedMoveModule(t){return await this.client.requestWithType("sui_getNormalizedMoveModule",[t.package,t.module],R6,this.options.skipDataValidation)}async getNormalizedMoveFunction(t){return await this.client.requestWithType("sui_getNormalizedMoveFunction",[t.package,t.module,t.function],B6,this.options.skipDataValidation)}async getNormalizedMoveStruct(t){return await this.client.requestWithType("sui_getNormalizedMoveStruct",[t.package,t.module,t.struct],I6,this.options.skipDataValidation)}async getOwnedObjects(t){if(!t.owner||!ns(qn(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getOwnedObjects",[t.owner,{filter:t.filter,options:t.options},t.cursor,t.limit],MU,this.options.skipDataValidation)}async getObject(t){if(!t.id||!Cl(Wi(t.id)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("sui_getObject",[t.id,t.options],sd,this.options.skipDataValidation)}async multiGetObjects(t){if(t.ids.forEach(n=>{if(!n||!Cl(Wi(n)))throw new Error(`Invalid Sui Object id ${n}`)}),t.ids.length!==new Set(t.ids).size)throw new Error(`Duplicate object ids in batch call ${t.ids}`);return await this.client.requestWithType("sui_multiGetObjects",[t.ids,t.options],re(sd),this.options.skipDataValidation)}async queryTransactionBlocks(t){return await this.client.requestWithType("suix_queryTransactionBlocks",[{filter:t.filter,options:t.options},t.cursor,t.limit,(t.order||"descending")==="descending"],dM,this.options.skipDataValidation)}async getTransactionBlock(t){if(!Sm(t.digest))throw new Error("Invalid Transaction digest");return await this.client.requestWithType("sui_getTransactionBlock",[t.digest,t.options],od,this.options.skipDataValidation)}async multiGetTransactionBlocks(t){if(t.digests.forEach(n=>{if(!Sm(n))throw new Error(`Invalid Transaction digest ${n}`)}),t.digests.length!==new Set(t.digests).size)throw new Error(`Duplicate digests in batch call ${t.digests}`);return await this.client.requestWithType("sui_multiGetTransactionBlocks",[t.digests,t.options],re(od),this.options.skipDataValidation)}async executeTransactionBlock(t){return await this.client.requestWithType("sui_executeTransactionBlock",[typeof t.transactionBlock=="string"?t.transactionBlock:To(t.transactionBlock),Array.isArray(t.signature)?t.signature:[t.signature],t.options,t.requestType],od,this.options.skipDataValidation)}async getTotalTransactionBlocks(){const t=await this.client.requestWithType("sui_getTotalTransactionBlocks",[],W(),this.options.skipDataValidation);return BigInt(t)}async getReferenceGasPrice(){const t=await this.client.requestWithType("suix_getReferenceGasPrice",[],W(),this.options.skipDataValidation);return BigInt(t)}async getStakes(t){if(!t.owner||!ns(qn(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getStakes",[t.owner],re(Em),this.options.skipDataValidation)}async getStakesByIds(t){return t.stakedSuiIds.forEach(e=>{if(!e||!Cl(Wi(e)))throw new Error(`Invalid Sui Stake id ${e}`)}),await this.client.requestWithType("suix_getStakesByIds",[t.stakedSuiIds],re(Em),this.options.skipDataValidation)}async getLatestSuiSystemState(){return await this.client.requestWithType("suix_getLatestSuiSystemState",[],qM,this.options.skipDataValidation)}async queryEvents(t){return await this.client.requestWithType("suix_queryEvents",[t.query,t.cursor,t.limit,(t.order||"descending")==="descending"],NU,this.options.skipDataValidation)}async subscribeEvent(t){return this.wsClient.subscribeEvent(t.filter,t.onMessage)}async unsubscribeEvent(t){return this.wsClient.unsubscribeEvent(t.id)}async devInspectTransactionBlock(t){let e;if(mn.is(t.transactionBlock))t.transactionBlock.setSenderIfNotSet(t.sender),e=To(await t.transactionBlock.build({provider:this,onlyTransactionKind:!0}));else if(typeof t.transactionBlock=="string")e=t.transactionBlock;else if(t.transactionBlock instanceof Uint8Array)e=To(t.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.client.requestWithType("sui_devInspectTransactionBlock",[t.sender,e,t.gasPrice,t.epoch],nM,this.options.skipDataValidation)}async dryRunTransactionBlock(t){return await this.client.requestWithType("sui_dryRunTransactionBlock",[typeof t.transactionBlock=="string"?t.transactionBlock:To(t.transactionBlock)],fM,this.options.skipDataValidation)}async getDynamicFields(t){if(!t.parentId||!Cl(Wi(t.parentId)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("suix_getDynamicFields",[t.parentId,t.cursor,t.limit],YM,this.options.skipDataValidation)}async getDynamicFieldObject(t){return await this.client.requestWithType("suix_getDynamicFieldObject",[t.parentId,t.name],sd,this.options.skipDataValidation)}async getLatestCheckpointSequenceNumber(){const t=await this.client.requestWithType("sui_getLatestCheckpointSequenceNumber",[],W(),this.options.skipDataValidation);return String(t)}async getCheckpoint(t){return await this.client.requestWithType("sui_getCheckpoint",[t.id],U6,this.options.skipDataValidation)}async getCheckpoints(t){return await this.client.requestWithType("sui_getCheckpoints",[t.cursor,t.limit,t.descendingOrder],FM,this.options.skipDataValidation)}async getCommitteeInfo(t){return await this.client.requestWithType("suix_getCommitteeInfo",[t==null?void 0:t.epoch],NM)}async getNetworkMetrics(){return await this.client.requestWithType("suix_getNetworkMetrics",[],MN)}async getEpochs(t){return await this.client.requestWithType("suix_getEpochs",[t==null?void 0:t.cursor,t==null?void 0:t.limit,t==null?void 0:t.descendingOrder],qN,this.options.skipDataValidation)}async getCurrentEpoch(){return await this.client.requestWithType("suix_getCurrentEpoch",[],Y6,this.options.skipDataValidation)}};Wi("0x5");var yn="0x0000000000000000000000000000000000000000000000000000000000000006",Zr="pool_script",Q6="fetcher_script",ud=2500,kr=15e3,Dm="PoolLiquidityCoin";function HN(t){return t.startsWith("0x")?t:`0x${t}`}var jN=0,ex=1,zN=2;function Lm(t,e){return t===e?jN:t<e?ex:zN}function FN(t,e){let n=0;const r=t.length<=e.length?t.length:e.length,i=Lm(t.length,e.length);for(;n<r;){const s=Lm(t.charCodeAt(n),e.charCodeAt(n));if(n+=1,s!==0)return s}return i}function GN(t,e){return FN(t,e)===ex}function $u(t,...e){const n=Array.isArray(e[e.length-1])?e.pop():[];let i=[t,...e].filter(Boolean).join("::");return n&&n.length&&(i+=`<${n.join(", ")}>`),i}function Qt(t){var o;let e=t.replace(/\s/g,"");const n=e.match(/(<.+>)$/),r=(o=n==null?void 0:n[0])==null?void 0:o.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(r){e=e.slice(0,e.indexOf("<"));const c={...Qt(e),type_arguments:[...r]};return c.source_address=$u(c.full_address,c.type_arguments),c}const i=e.split("::"),s={full_address:e,address:i[2]==="SUI"?"0x2":Wi(i[0]),module:i[1],name:i[2],type_arguments:[],source_address:""};return s.full_address=`${s.address}::${s.module}::${s.name}`,s.source_address=$u(s.full_address,s.type_arguments),s}var VN="0x2::coin::Coin",WN=/^0x2::coin::Coin<(.+)>$/,KN="0x2::sui::SUI",Mn=class{static getCoinTypeArg(t){const e=t.type.match(WN);return e?e[1]:null}static isSUI(t){const e=Mn.getCoinTypeArg(t);return e?Mn.getCoinSymbol(e)==="SUI":!1}static getCoinSymbol(t){return t.substring(t.lastIndexOf(":")+1)}static getBalance(t){return BigInt(t.fields.balance)}static totalBalance(t,e){let n=BigInt(0);return t.forEach(r=>{e===r.coinAddress&&(n+=BigInt(r.balance))}),n}static getID(t){return t.fields.id.id}static getCoinTypeFromArg(t){return`${VN}<${t}>`}static getFaucetCoins(t){const{events:e}=t,n=[];return e==null||e.forEach(r=>{const{type:i}=r;if(Qt(i).name==="InitEvent"){const s=r.parsedJson;n.push({transactionModule:r.transactionModule,address:s.address,suplyID:s.suplyID,decimals:s.decimals})}}),n}static getCoinAssets(t,e){const n=[];return e.forEach(r=>{r.coinAddress===t&&n.push(r)}),n}static isSuiCoin(t){return Qt(t).full_address===KN}static selectCoinObjectIdGreaterThanOrEqual(t,e,n=[]){return Mn.selectCoinAssetGreaterThanOrEqual(t,e,n).map(r=>r.coinObjectId)}static selectCoinAssetGreaterThanOrEqual(t,e,n=[]){const r=Mn.sortByBalance(t.filter(a=>!n.includes(a.coinObjectId))),i=Mn.calculateTotalBalance(r);if(i<e)return[];if(i===e)return r;let s=BigInt(0);const o=[];for(;s<i;){const a=e-s,c=r.find(l=>l.balance>=a);if(c){o.push(c);break}const u=r.pop();u.balance>0&&(o.push(u),s+=u.balance)}return Mn.sortByBalance(o)}static sortByBalance(t){return t.sort((e,n)=>e.balance<n.balance?-1:e.balance>n.balance?1:0)}static sortByBalanceDes(t){return t.sort((e,n)=>e.balance>n.balance?-1:e.balance<n.balance?0:1)}static calculateTotalBalance(t){return t.reduce((e,n)=>e+n.balance,BigInt(0))}};function hy(t){const e=Mn.isSuiCoin(t.coinTypeA),n=Mn.isSuiCoin(t.coinTypeB);return{isAdjustCoinA:e,isAdjustCoinB:n}}var ln=class{static async adjustTransactionForGas(t,e,n,r){r.setSender(t.senderAddress);const i=Mn.selectCoinAssetGreaterThanOrEqual(e,n);if(i.length===0)throw new Error("Insufficient balance");if(Mn.calculateTotalBalance(e)-Mn.calculateTotalBalance(i)>25*1e3)return{fixAmount:n};const s=await ln.calculationTxGas(t,r);if(console.log("estimateGas: ",s),Mn.selectCoinAssetGreaterThanOrEqual(e,BigInt(s),i.map(a=>a.coinObjectId)).length===0){if(n-=BigInt(500),n-=BigInt(s),n<0)throw new Error("gas Insufficient balance");const a=new mn,c=a.splitCoins(a.gas,[a.pure(n)]);return a.setGasBudget(s+500),{fixAmount:n,fixCoinInput:c,newTx:a}}return{fixAmount:n}}static async buildAddLiquidityTransactionForGas(t,e,n,r){let i=await ln.buildAddLiquidityTransaction(t,e,n);const{isAdjustCoinA:s}=hy(n),o=s?n.amount_a:n.amount_b,a=await ln.adjustTransactionForGas(t,Mn.getCoinAssets(s?n.coinTypeA:n.coinTypeB,e),BigInt(o),i),{fixAmount:c}=a,{fixCoinInput:u}=a,{newTx:l}=a;if(u!==void 0&&l!==void 0){let d,f;if(s)n.amount_a=Number(c),d=u,f=ln.buildCoinInputForAmount(l,e,BigInt(n.amount_b),n.coinTypeB);else{n.amount_b=Number(c),d=ln.buildCoinInputForAmount(l,e,BigInt(n.amount_a),n.coinTypeA),f=u,n=ln.fixAddLiquidityFixTokenParams(n,r.slippage,r.curSqrtPrice);const p=t.sdkOptions.networkOptions.modules.cetus_integrate;return i=ln.buildAddLiquidityFixTokenArgs(l,p,n,d,f),i}}return i}static async buildAddLiquidityTransaction(t,e,n){if(t.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");const r=!("delta_liquidity"in n);let i=new mn;i.setGasBudget(kr);const s=ln.buildCoinInputForAmount(i,e,BigInt(r?n.amount_a:n.max_amount_a),n.coinTypeA),o=ln.buildCoinInputForAmount(i,e,BigInt(r?n.amount_b:n.max_amount_b),n.coinTypeB),a=t.sdkOptions.networkOptions.modules.cetus_integrate;return r?i=ln.buildAddLiquidityFixTokenArgs(i,a,n,s,o):i=ln.buildAddLiquidityArgs(i,a,n,s,o),i}static fixAddLiquidityFixTokenParams(t,e,n){const r=t.fix_amount_a?t.amount_a:t.amount_b,i=xo.estLiquidityAndcoinAmountFromOneAmounts(Number(t.tick_lower),Number(t.tick_upper),new R(r),t.fix_amount_a,!0,e,n);return t.amount_a=t.fix_amount_a?t.amount_a:i.tokenMaxA.toNumber(),t.amount_b=t.fix_amount_a?i.tokenMaxB.toNumber():t.amount_b,t}static buildAddLiquidityFixTokenArgs(t,e,n,r,i){const s=[n.coinTypeA,n.coinTypeB];let o="add_liquidity_fix_coin_with_all";const a=[];r&&a.push({coinInput:r,coinAmount:n.amount_a.toString()}),i&&a.push({coinInput:i,coinAmount:n.amount_b.toString()});const c=a.length===2;c?o=n.is_open?"open_position_with_liquidity_with_all":"add_liquidity_fix_coin_with_all":o=n.is_open?r!==void 0?"open_position_with_liquidity_only_a":"open_position_with_liquidity_only_b":r!==void 0?"add_liquidity_fix_coin_only_a":"add_liquidity_fix_coin_only_b";const u=n.is_open?c?[t.pure(n.pool_id),t.pure(os(BigInt(n.tick_lower)).toString()),t.pure(os(BigInt(n.tick_upper)).toString()),...a.map(l=>l.coinInput),...a.map(l=>t.pure(l.coinAmount)),t.pure(n.fix_amount_a),t.pure(yn)]:[t.pure(n.pool_id),t.pure(os(BigInt(n.tick_lower)).toString()),t.pure(os(BigInt(n.tick_upper)).toString()),...a.map(l=>l.coinInput),...a.map(l=>t.pure(l.coinAmount)),t.pure(yn)]:c?[t.pure(n.pool_id),t.pure(n.pos_id),...a.map(l=>l.coinInput),...a.map(l=>t.pure(l.coinAmount)),t.pure(n.fix_amount_a),t.pure(yn)]:[t.pure(n.pool_id),t.pure(n.pos_id),...a.map(l=>l.coinInput),...a.map(l=>t.pure(l.coinAmount)),t.pure(yn)];return t.moveCall({target:`${e}::${Zr}::${o}`,typeArguments:s,arguments:u}),t}static buildAddLiquidityArgs(t,e,n,r,i){const s=[n.coinTypeA,n.coinTypeB];let o="add_liquidity_with_all",a;const c=[];return r&&c.push(r),i&&c.push(i),c.length===2?o="add_liquidity_with_all":o=r!==void 0?"add_liquidity_only_a":"add_liquidity_only_b",r!==void 0&&i!==void 0?(o="add_liquidity_with_all",a=[t.pure(n.pool_id),t.pure(n.pos_id),r,i,t.pure(n.max_amount_a.toString()),t.pure(n.max_amount_b.toString()),t.pure(n.delta_liquidity),t.pure(yn)]):a=[t.pure(n.pool_id),t.pure(n.pos_id),r!==void 0?r:i,t.pure(n.max_amount_a.toString()),t.pure(n.max_amount_b.toString()),t.pure(n.delta_liquidity),t.pure(yn)],t.moveCall({target:`${e}::${Zr}::${o}`,typeArguments:s,arguments:a}),t}static async buildSwapTransactionForGas(t,e,n,r){let i=ln.buildSwapTransaction(t,e,n);const s=await ln.adjustTransactionForGas(t,Mn.getCoinAssets(e.a2b?e.coinTypeA:e.coinTypeB,n),BigInt(e.amount),i),{fixAmount:o}=s,{fixCoinInput:a}=s,{newTx:c}=s;return a!==void 0&&c!==void 0&&(e.amount=o.toString(),e=ln.fixSwapParams(t,e,r),i=ln.buildSwapTransactionArgs(c,e,t.sdkOptions,a)),i}static buildSwapTransaction(t,e,n){let r=new mn;r.setGasBudget(kr);const i=ln.buildCoinInputForAmount(r,n,BigInt(BigInt(e.amount)),e.a2b?e.coinTypeA:e.coinTypeB);return r=ln.buildSwapTransactionArgs(r,e,t.sdkOptions,i),r}static buildSwapTransactionArgs(t,e,n,r){var d;const{modules:i}=n.networkOptions,s=py.getDefaultSqrtPriceLimit(e.a2b),o=[e.coinTypeA,e.coinTypeB],a=(d=i.config)==null?void 0:d.global_config_id;if(a===void 0)throw Error("modules.config.global_config_id is undefined");const c=e.swap_partner!==void 0&&ns(e.swap_partner),u=c?e.a2b?"swap_a2b_with_partner":"swap_b2a_with_partner":e.a2b?"swap_a2b":"swap_b2a",l=c?[t.pure(e.pool_id),t.pure(a),t.pure(e.swap_partner),r,t.pure(e.by_amount_in),t.pure(e.amount),t.pure(e.amount_limit),t.pure(s.toString()),t.pure(yn)]:[t.pure(e.pool_id),t.pure(a),r,t.pure(e.by_amount_in),t.pure(e.amount),t.pure(e.amount_limit),t.pure(s.toString()),t.pure(yn)];return t.moveCall({target:`${i.cetus_integrate}::${Zr}::${u}`,typeArguments:o,arguments:l}),t}static fixSwapParams(t,e,n){const i=t.Swap.calculateRates({decimalsA:n.decimalsA,decimalsB:n.decimalsB,a2b:e.a2b,byAmountIn:e.by_amount_in,amount:new R(e.amount),swapTicks:n.swapTicks,currentPool:n.currentPool}).estimatedAmountOut,s=i.sub(i.mul(new R(n.slippage)));return e.amount_limit=s.toString(),e}static async syncBuildCoinInputForAmount(t,e,n,r){const i=await t.Resources.getOwnerCoinAssets(t.senderAddress,r);return ln.buildCoinInputForAmount(e,i,n,r)}static buildCoinInputForAmount(t,e,n,r){const i=Mn.getCoinAssets(r,e);if(n===BigInt(0))return;const s=Mn.calculateTotalBalance(i);if(s<n)throw new Error(`The amount(${s}) is Insufficient balance for ${r} , expect ${n} `);if(Mn.isSuiCoin(r))return t.splitCoins(t.gas,[t.pure(n.toString())]);const o=Mn.selectCoinObjectIdGreaterThanOrEqual(i,n),[a,...c]=o,u=t.object(a);return c.length>0&&t.mergeCoins(u,c.map(l=>t.object(l))),u}static async calculationTxGas(t,e){let{sender:n}=e.blockData;n===void 0&&(n=t.sdkOptions.networkOptions.simulationAccount.address);const r=await t.fullClient.devInspectTransactionBlock({transactionBlock:e,sender:n}),{gasUsed:i}=r.effects;return Number(i.computationCost)+Number(i.storageCost)-Number(i.storageRebate)}},Wn=class extends Error{constructor(e,n){super(e);Pt(this,"message");Pt(this,"errorCode");this.message=e,this.errorCode=n}static isClmmpoolsErrorCode(e,n){return e instanceof Wn&&e.errorCode===n}},Hm=443636,jm=-443636,w0="79226673515401279992447579055",_0="4295048016",Sa=new R(1e6);Ge.config({precision:64,rounding:Ge.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var Jr=Ge,Ut=new R(0),Da=new R(1),b0=new R(2);b0.pow(new R(128));var Wd=b0.pow(new R(64)).sub(Da),XN=b0.pow(new R(128)).sub(Da),kt=class{static toX64_BN(t){return t.mul(new R(2).pow(new R(64)))}static toX64_Decimal(t){return t.mul(Jr.pow(2,64))}static toX64(t){return new R(t.mul(Jr.pow(2,64)).floor().toFixed())}static fromX64(t){return new Jr(t.toString()).mul(Jr.pow(2,-64))}static fromX64_Decimal(t){return t.mul(Jr.pow(2,-64))}static fromX64_BN(t){return t.div(new R(2).pow(new R(64)))}static shiftRightRoundUp(t){let e=t.shrn(64);return t.mod(Wd).gt(Ut)&&(e=e.add(Da)),e}static divRoundUp(t,e){return t.mod(e).eq(Ut)?t.div(e):t.div(e).add(new R(1))}static subUnderflowU128(t,e){return t.lt(e)?t.sub(e).add(XN):t.sub(e)}static checkUnsignedSub(t,e){const n=t.sub(e);if(n.isNeg())throw new Wn("Unsigned integer sub overflow","UnsignedIntegerOverflow");return n}static checkMul(t,e,n){const r=t.mul(e);if(this.isOverflow(r,n))throw new Wn("Multiplication overflow","MultiplicationOverflow");return r}static checkMulDivFloor(t,e,n,r){if(n.eq(Ut))throw new Wn("Devide by zero","DivideByZero");const i=t.mul(e).div(n);if(this.isOverflow(i,r))throw new Wn("Multiplication div overflow","MulDivOverflow");return i}static checkMulDivCeil(t,e,n,r){if(n.eq(Ut))throw new Wn("Devide by zero","DivideByZero");const i=t.mul(e).add(n.sub(Da)).div(n);if(this.isOverflow(i,r))throw new Wn("Multiplication div overflow","MulDivOverflow");return i}static checkMulDivRound(t,e,n,r){if(n.eq(Ut))throw new Wn("Devide by zero","DivideByZero");const i=t.mul(e.add(n.shrn(1))).div(n);if(this.isOverflow(i,r))throw new Wn("Multiplication div overflow","MulDivOverflow");return i}static checkMulShiftRight(t,e,n,r){const i=t.mul(e).div(new R(2).pow(new R(n)));if(this.isOverflow(i,r))throw new Wn("Multiplication shift right overflow","MulShiftRightOverflow");return i}static checkMulShiftRight64RoundUpIf(t,e,n,r){const i=t.mul(e),o=r&&i.and(Wd).gt(Ut)?i.shrn(64).add(Da):i.shrn(64);if(this.isOverflow(o,n))throw new Wn("Multiplication shift right overflow","MulShiftRightOverflow");return o}static checkMulShiftLeft(t,e,n,r){const i=t.mul(e).shln(n);if(this.isOverflow(i,r))throw new Wn("Multiplication shift left overflow","MulShiftLeftOverflow");return i}static checkDivRoundUpIf(t,e,n){if(e.eq(Ut))throw new Wn("Devide by zero","DivideByZero");return n?this.divRoundUp(t,e):t.div(e)}static isOverflow(t,e){return t.gte(b0.pow(new R(e)))}},py=class{static getDefaultSqrtPriceLimit(t){return new R(t?_0:w0)}static getDefaultOtherAmountThreshold(t){return t?Ut:Wd}},gy=class{constructor(t,e=0){Pt(this,"overdueTime");Pt(this,"value");this.overdueTime=e,this.value=t}getCacheData(){return this.value===null?null:this.overdueTime===0?this.value:Date.parse(new Date().toString())>this.overdueTime?null:this.value}};function dt(t){return Ge.isDecimal(t)?t:new Ge(t===void 0?0:t)}function os(t,e=32){return BigInt.asUintN(e,BigInt(t)).toString()}function Lo(t,e=32){return BigInt.asIntN(e,BigInt(t)).toString()}function ZN(t,e,n){const r=Qt(t).name,i=Qt(e).name;return`${r}-${i}[${n}]`}function zm(t){const e=y0(t),n=Qt(e),r=sa(t),i={poolAddress:sl(t),poolType:e,coinTypeA:n.type_arguments[0],coinTypeB:n.type_arguments[1],coinAmountA:r.coin_a,coinAmountB:r.coin_b,current_sqrt_price:r.current_sqrt_price,current_tick_index:Number(Lo(BigInt(r.current_tick_index.fields.bits)).toString()),fee_growth_global_a:r.fee_growth_global_a,fee_growth_global_b:r.fee_growth_global_b,fee_protocol_coin_a:r.fee_protocol_coin_a,fee_protocol_coin_b:r.fee_protocol_coin_b,fee_rate:r.fee_rate,is_pause:r.is_pause,liquidity:r.liquidity,positions_handle:r.position_manager.fields.positions.fields.id.id,rewarder_infos:r.rewarder_manager.fields.rewarders,rewarder_balances:r.rewarder_manager.fields.balances.fields.id.id,rewarder_last_updated_time:r.rewarder_manager.fields.last_updated_time,tickSpacing:r.tick_spacing,ticks_handle:r.tick_manager.fields.ticks.fields.id.id,uri:r.url,index:Number(r.index),name:""};return i.name=ZN(i.coinTypeA,i.coinTypeB,i.tickSpacing),i}function dp(t){const e=y0(t);let n=sa(t);return"nft"in n&&(n=n.nft.fields),{pos_object_id:sl(t),type:e,uri:n.url,liquidity:n.liquidity,tick_lower_index:Lo(BigInt(n.tick_lower_index.fields.bits)).toString(),tick_upper_index:Lo(BigInt(n.tick_upper_index.fields.bits)).toString(),index:n.index,pool:n.pool,name:n.name,description:n.description,reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0",fee_growth_inside_a:"0",fee_owed_a:"0",fee_growth_inside_b:"0",fee_owed_b:"0"}}function JN(t,e){const n=sa(t),r=[];for(const s of n.rewards)r.push({amount_owed:s.fields.amount_owned,growth_inside:s.fields.growth_inside});return{...e,liquidity:n.liquidity,reward_amount_owed_0:r[0].amount_owed,reward_amount_owed_1:r[1].amount_owed,reward_amount_owed_2:r[2].amount_owed,reward_growth_inside_0:r[0].growth_inside,reward_growth_inside_1:r[1].growth_inside,reward_growth_inside_2:r[2].growth_inside,fee_growth_inside_a:n.fee_growth_inside_a,fee_owed_a:n.fee_owned_a,fee_growth_inside_b:n.fee_growth_inside_b,fee_owed_b:n.fee_owned_b}}function uh(t){const n=sa(t).value.fields.value.fields;return{objectId:sl(t),index:Lo(BigInt(n.index.fields.bits)).toString(),sqrtPrice:new R(n.sqrt_price),liquidityNet:new R(n.liquidity_net.fields.bits),liquidityGross:new R(n.liquidity_gross),feeGrowthOutsideA:new R(n.fee_growth_outside_a),feeGrowthOutsideB:new R(n.fee_growth_outside_b),rewardersGrowthOutside:n.rewards_growth_outside}}function YN(t){return{objectId:"",index:Lo(BigInt(t.index.bits)).toString(),sqrtPrice:new R(t.sqrt_price),liquidityNet:new R(t.liquidity_net.bits),liquidityGross:new R(t.liquidity_gross),feeGrowthOutsideA:new R(t.fee_growth_outside_a),feeGrowthOutsideB:new R(t.fee_growth_outside_b),rewardersGrowthOutside:t.rewards_growth_outside}}var Ii="router",fp=1e9,Ls=class{static priceRealToFix(t,e,n){const r=dt(e-n).toNumber();return Number(dt(t).div(dt(10).pow(dt(r))).toString())}static priceFixToReal(t,e,n){const r=dt(e-n).toNumber();return Number(dt(t).mul(dt(10).pow(dt(r))).toString())}static raiseTotalAmount(t,e,n){const r=dt(e-n).abs().toNumber();return e>n?Number(dt(t.sale_total).mul(t.current_price).div(dt(10).pow(dt(r))).toString()):Number(dt(t.sale_total).mul(t.current_price).mul(dt(10).pow(dt(r))).toString())}static buildLaunchPadPool(t){const e=y0(t),n=Qt(e),r=sa(t),i={coin_type_sale:n.type_arguments[0],coin_type_raise:n.type_arguments[1],pool_address:Wi(sl(t)),pool_type:$u(n.full_address,n.type_arguments),is_settle:r.is_settle,current_price:dt(r.initialize_price).div(dt(fp)).toString(),min_price:"0",max_price:"0",sale_coin_amount:r.sale_coin,raise_coin_amount:r.raise_coin,sale_total:r.sale_total,min_purchase:r.min_purchase,max_purchase:r.max_purchase,least_raise_amount:r.least_raise_amount,softcap:r.softcap,hardcap:r.hardcap,liquidity_rate:Number(r.liquidity_rate)/100,activity_start_time:Number(r.start_time),activity_end_time:0,settle_end_time:0,activity_duration:Number(r.activity_duration),settle_duration:Number(r.settle_duration),locked_duration:Number(r.locked_duration),is_cancel:r.is_cancel,lp_supply:r.lp_supply.fields.value,white_handle:r.white_list.fields.users.fields.id.id,has_white_list:Number(r.white_list.fields.users.fields.size)>0,unused_sale:r.unused_sale,unused_raise:r.unused_raise,recipient:r.recipient,pool_status:"Failed"};return Ls.updatePoolStatus(i),i}static updatePoolStatus(t){const e=Number(dt(Date.now()/1e3).toFixed(0)),n=t.activity_start_time+t.activity_duration,r=n+t.settle_duration;return t.activity_end_time=n,t.settle_end_time=r,t.is_settle?t.pool_status="Ended":t.is_cancel?t.pool_status="Canceled":e<t.activity_start_time?t.pool_status="Upcoming":e>t.activity_start_time&&e<n?t.pool_status="Live":e>n&&e<r&&(t.raise_coin_amount<t.least_raise_amount&&(t.pool_status="Failed"),t.pool_status="Settle"),t}static updatePoolCurrentPrice(t,e,n){const r=BigInt(t.raise_coin_amount);return r<BigInt(t.softcap)?t.current_price=t.min_price:r<=BigInt(t.hardcap)?t.current_price=this.priceFixToReal(dt(r.toString()).div(dt(t.sale_total)).toNumber(),e,n).toString():r>BigInt(t.hardcap)&&(t.current_price=t.max_price),Number(t.current_price)}static async calculatePoolPrice(t,e){const n=await t.Token.getTokenListByCoinTypes([e.coin_type_sale,e.coin_type_raise]),r=n[e.coin_type_sale].decimals,i=n[e.coin_type_raise].decimals;e.min_price=this.priceFixToReal(Number(dt(e.softcap).div(dt(e.sale_total))),r,i).toString(),e.max_price=this.priceFixToReal(Number(dt(e.hardcap).div(dt(e.sale_total))),r,i).toString(),Ls.updatePoolCurrentPrice(e,r,i)}static getWithdrawRaise(t){return t.pool_status==="Ended"||t.pool_status==="Failed"?dt(t.raise_coin_amount).sub(dt(t.unused_raise)).toString():"0"}static getWithdrawSale(t){return t.pool_status==="Ended"?t.unused_sale:t.sale_coin_amount}},QN=class{static getMinIndex(t){return jm+Math.abs(jm)%t}static getMaxIndex(t){return Hm-Hm%t}};function eq(t,e){const n=Math.abs(t)%e;return t>0?n>e/2?t+e-n:t-n:n>e/2?t-e+n:t+n}function tq(t,e,n,r,i,s){const o=t.rewarder_infos,a=[];for(let c=0;c<o.length;c+=1){let u=s[c];e!==null&&(Number(t.current_tick_index)<r?u=s[c].sub(new R(e.rewardersGrowthOutside[c])):u=e.rewardersGrowthOutside[c]);let l=new R(0);n!==null&&(Number(t.current_tick_index)>=i?l=s[c].sub(new R(n.rewardersGrowthOutside[c])):l=n.rewardersGrowthOutside[c]);const d=kt.subUnderflowU128(kt.subUnderflowU128(new R(s[c]),new R(u)),new R(l));a.push(d)}return a}var nq=14,rq="59543866431248",iq="184467440737095516",sq="15793534762490258745",oq=443636;function aq(t,e,n){const r=t.toTwos(n).shln(e);return r.imaskn(n+1),r.fromTwos(n)}function Rt(t,e,n){const r=t.toTwos(n).shrn(e);return r.imaskn(n-e+1),r.fromTwos(n-e)}function cq(t){let e;return t&1?e=new R("79232123823359799118286999567"):e=new R("79228162514264337593543950336"),t&2&&(e=Rt(e.mul(new R("79236085330515764027303304731")),96,256)),t&4&&(e=Rt(e.mul(new R("79244008939048815603706035061")),96,256)),t&8&&(e=Rt(e.mul(new R("79259858533276714757314932305")),96,256)),t&16&&(e=Rt(e.mul(new R("79291567232598584799939703904")),96,256)),t&32&&(e=Rt(e.mul(new R("79355022692464371645785046466")),96,256)),t&64&&(e=Rt(e.mul(new R("79482085999252804386437311141")),96,256)),t&128&&(e=Rt(e.mul(new R("79736823300114093921829183326")),96,256)),t&256&&(e=Rt(e.mul(new R("80248749790819932309965073892")),96,256)),t&512&&(e=Rt(e.mul(new R("81282483887344747381513967011")),96,256)),t&1024&&(e=Rt(e.mul(new R("83390072131320151908154831281")),96,256)),t&2048&&(e=Rt(e.mul(new R("87770609709833776024991924138")),96,256)),t&4096&&(e=Rt(e.mul(new R("97234110755111693312479820773")),96,256)),t&8192&&(e=Rt(e.mul(new R("119332217159966728226237229890")),96,256)),t&16384&&(e=Rt(e.mul(new R("179736315981702064433883588727")),96,256)),t&32768&&(e=Rt(e.mul(new R("407748233172238350107850275304")),96,256)),t&65536&&(e=Rt(e.mul(new R("2098478828474011932436660412517")),96,256)),t&131072&&(e=Rt(e.mul(new R("55581415166113811149459800483533")),96,256)),t&262144&&(e=Rt(e.mul(new R("38992368544603139932233054999993551")),96,256)),Rt(e,32,256)}function uq(t){const e=Math.abs(t);let n;return e&1?n=new R("18445821805675392311"):n=new R("18446744073709551616"),e&2&&(n=Rt(n.mul(new R("18444899583751176498")),64,256)),e&4&&(n=Rt(n.mul(new R("18443055278223354162")),64,256)),e&8&&(n=Rt(n.mul(new R("18439367220385604838")),64,256)),e&16&&(n=Rt(n.mul(new R("18431993317065449817")),64,256)),e&32&&(n=Rt(n.mul(new R("18417254355718160513")),64,256)),e&64&&(n=Rt(n.mul(new R("18387811781193591352")),64,256)),e&128&&(n=Rt(n.mul(new R("18329067761203520168")),64,256)),e&256&&(n=Rt(n.mul(new R("18212142134806087854")),64,256)),e&512&&(n=Rt(n.mul(new R("17980523815641551639")),64,256)),e&1024&&(n=Rt(n.mul(new R("17526086738831147013")),64,256)),e&2048&&(n=Rt(n.mul(new R("16651378430235024244")),64,256)),e&4096&&(n=Rt(n.mul(new R("15030750278693429944")),64,256)),e&8192&&(n=Rt(n.mul(new R("12247334978882834399")),64,256)),e&16384&&(n=Rt(n.mul(new R("8131365268884726200")),64,256)),e&32768&&(n=Rt(n.mul(new R("3584323654723342297")),64,256)),e&65536&&(n=Rt(n.mul(new R("696457651847595233")),64,256)),e&131072&&(n=Rt(n.mul(new R("26294789957452057")),64,256)),e&262144&&(n=Rt(n.mul(new R("37481735321082")),64,256)),n}var Wt=class{static priceToSqrtPriceX64(t,e,n){return kt.toX64(t.mul(Jr.pow(10,n-e)).sqrt())}static sqrtPriceX64ToPrice(t,e,n){return kt.fromX64(t).pow(2).mul(Jr.pow(10,e-n))}static tickIndexToSqrtPriceX64(t){return t>0?new R(cq(t)):new R(uq(t))}static sqrtPriceX64ToTickIndex(t){if(t.gt(new R(w0))||t.lt(new R(_0)))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");const e=t.bitLength()-1,n=new R(e-64),r=aq(n,32,128);let i=new R("8000000000000000","hex"),s=0,o=new R(0),a=e>=64?t.shrn(e-63):t.shln(63-e);for(;i.gt(new R(0))&&s<nq;){a=a.mul(a);const w=a.shrn(127);a=a.shrn(63+w.toNumber()),o=o.add(i.mul(w)),i=i.shrn(1),s+=1}const c=o.shrn(32),l=r.add(c).mul(new R(rq)),d=Rt(l.sub(new R(iq)),64,128).toNumber(),f=Rt(l.add(new R(sq)),64,128).toNumber();return d===f?d:Wt.tickIndexToSqrtPriceX64(f).lte(t)?f:d}static tickIndexToPrice(t,e,n){return Wt.sqrtPriceX64ToPrice(Wt.tickIndexToSqrtPriceX64(t),e,n)}static priceToTickIndex(t,e,n){return Wt.sqrtPriceX64ToTickIndex(Wt.priceToSqrtPriceX64(t,e,n))}static priceToInitializableTickIndex(t,e,n,r){return Wt.getInitializableTickIndex(Wt.priceToTickIndex(t,e,n),r)}static getInitializableTickIndex(t,e){return t-t%e}static getNextInitializableTickIndex(t,e){return Wt.getInitializableTickIndex(t,e)+e}static getPrevInitializableTickIndex(t,e){return Wt.getInitializableTickIndex(t,e)-e}};function lq(t){const e=[];for(const n of t){const r={objectId:n.objectId,index:Number(Lo(BigInt(n.index)).toString()),sqrtPrice:n.sqrtPrice,liquidityNet:new R(Lo(BigInt(n.liquidityNet.toString())).toString()),liquidityGross:n.liquidityGross,feeGrowthOutsideA:n.feeGrowthOutsideA,feeGrowthOutsideB:n.feeGrowthOutsideB,rewardersGrowthOutside:[new R(n.rewardersGrowthOutside[0]),new R(n.rewardersGrowthOutside[1]),new R(n.rewardersGrowthOutside[2])]};e.push(r)}return e}function dq(t){return dt(t).add(dt(oq))}function tx(t,e,n,r){const i=t.gt(e)?t.sub(e):e.sub(t),s=n.mul(i).shln(64),o=t.mul(e),a=s.div(o),c=s.mod(o);return r&&!c.eq(Ut)?a.add(new R(1)):a}function nx(t,e,n,r){const i=t.gt(e)?t.sub(e):e.sub(t);if(n.eq(Ut)||i.eq(Ut))return Ut;const s=n.mul(i),a=r&&s.and(Wd).gt(Ut)?s.shrn(64).add(Da):s.shrn(64);if(kt.isOverflow(a,64))throw new Wn("Result large than u64 max","IntegerDowncastOverflow");return a}function rx(t,e,n,r){if(n.eq(Ut))return t;const i=kt.checkMulShiftLeft(t,e,64,256),s=e.shln(64),o=kt.checkMul(t,n,256);if(!r&&s.lte(o))throw new Wn("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product","DivideByZero");const a=r?kt.checkDivRoundUpIf(i,s.add(o),!0):kt.checkDivRoundUpIf(i,s.sub(o),!0);if(a.lt(new R(_0)))throw new Wn("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price","CoinAmountMinSubceeded ");if(a.gt(new R(w0)))throw new Wn("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price","CoinAmountMaxExceeded");return a}function ix(t,e,n,r){const i=kt.checkDivRoundUpIf(n.shln(64),e,!r),s=r?t.add(i):t.sub(i);if(s.lt(new R(_0))||s.gt(new R(w0)))throw new Wn("getNextSqrtPriceAUp - Next sqrt price out of bounds","SqrtPriceOutOfBounds");return s}function fq(t,e,n,r){return r?rx(t,e,n,!0):ix(t,e,n,!0)}function hq(t,e,n,r){return r?ix(t,e,n,!1):rx(t,e,n,!1)}function Fm(t,e,n,r){return r?tx(e,t,n,!0):nx(t,e,n,!0)}function Gm(t,e,n,r){return r?nx(e,t,n,!1):tx(t,e,n,!1)}function pq(t,e,n,r,i,s){if(n===Ut)return{amountIn:Ut,amountOut:Ut,nextSqrtPrice:e,feeAmount:Ut};const o=t.gte(e);let a,c,u,l;if(s){const d=kt.checkMulDivFloor(r,kt.checkUnsignedSub(Sa,i),Sa,64),f=Fm(t,e,n,o);f.gt(d)?(a=d,l=kt.checkUnsignedSub(r,d),u=fq(t,n,d,o)):(a=f,l=kt.checkMulDivCeil(a,i,Sa.sub(i),64),u=e),c=Gm(t,u,n,o)}else{const d=Gm(t,e,n,o);d.gt(r)?(c=r,u=hq(t,n,r,o)):(c=d,u=e),a=Fm(t,u,n,o),l=kt.checkMulDivCeil(a,i,Sa.sub(i),64)}return{amountIn:a,amountOut:c,nextSqrtPrice:u,feeAmount:l}}function gq(t,e,n,r,i){let s=n,o=r.liquidity,{currentSqrtPrice:a}=r;const c={amountIn:Ut,amountOut:Ut,feeAmount:Ut,refAmount:Ut,nextSqrtPrice:Ut,crossTickNum:0};let u,l;const d=py.getDefaultSqrtPriceLimit(t);for(const f of i){if(t&&r.currentTickIndex<Number(f.index)||!t&&r.currentTickIndex>Number(f.index)||f===null)continue;t&&d.gt(f.sqrtPrice)||!t&&d.lt(f.sqrtPrice)?u=d:u=f.sqrtPrice;const p=pq(a,u,o,s,r.feeRate,e);if(p.amountIn.eq(Ut)||(s=e?s.sub(p.amountIn.add(p.feeAmount)):s.sub(p.amountOut)),c.amountIn=c.amountIn.add(p.amountIn),c.amountOut=c.amountOut.add(p.amountOut),c.feeAmount=c.feeAmount.add(p.feeAmount),p.nextSqrtPrice.eq(f.sqrtPrice)?(l=t?f.liquidityNet.mul(new R(-1)):f.liquidityNet,o=l.gt(Ut)?o.add(l):o.sub(l.abs()),a=f.sqrtPrice):a=p.nextSqrtPrice,c.crossTickNum+=1,s.eq(Ut))break}return c.amountIn=c.amountIn.add(c.feeAmount),c.nextSqrtPrice=a,c}function Ta(t,e,n){const r=R.min(t,e),i=R.max(t,e),s=kt.fromX64_BN(n.mul(i).mul(r)),o=i.sub(r);return s.div(o)}function Aa(t,e,n){const r=R.min(t,e),s=R.max(t,e).sub(r);return n.shln(64).div(s)}var xo=class{static updateFeeRate(t,e,n,r,i){const s=kt.checkMulDivCeil(e,new R(r),Sa,64),o=n===0?Ut:kt.checkMulDivFloor(e,new R(n),Sa,64),a=e.mul(s).mul(o);if(i?t.feeProtocolCoinA=t.feeProtocolCoinA.add(s):t.feeProtocolCoinB=t.feeProtocolCoinB.add(s),a.eq(Ut)||t.liquidity.eq(Ut))return{refFee:o,clmm:t};const c=a.shln(64).div(t.liquidity);return i?t.feeGrowthGlobalA=t.feeGrowthGlobalA.add(c):t.feeGrowthGlobalB=t.feeGrowthGlobalB.add(c),{refFee:o,clmm:t}}static getCoinAmountFromLiquidity(t,e,n,r,i){const s=new Jr(t.toString()),o=new Jr(e.toString()),a=new Jr(n.toString()),c=new Jr(r.toString());let u,l;return e.lt(n)?(u=kt.toX64_Decimal(s).mul(c.sub(a)).div(a.mul(c)),l=new Jr(0)):e.lt(r)?(u=kt.toX64_Decimal(s).mul(c.sub(o)).div(o.mul(c)),l=kt.fromX64_Decimal(s.mul(o.sub(a)))):(u=new Jr(0),l=kt.fromX64_Decimal(s.mul(c.sub(a)))),i?{coinA:new R(u.ceil().toString()),coinB:new R(l.ceil().toString())}:{coinA:new R(u.floor().toString()),coinB:new R(l.floor().toString())}}static estimateLiquidityFromcoinAmounts(t,e,n,r){if(e>n)throw new Error("lower tick cannot be greater than lower tick");const i=Wt.sqrtPriceX64ToTickIndex(t),s=Wt.tickIndexToSqrtPriceX64(e),o=Wt.tickIndexToSqrtPriceX64(n);if(i<e)return Ta(s,o,r.coinA);if(i>=n)return Aa(o,s,r.coinB);const a=Ta(t,o,r.coinA),c=Aa(t,s,r.coinB);return R.min(a,c)}static estLiquidityAndcoinAmountFromOneAmounts(t,e,n,r,i,s,o){const a=Wt.sqrtPriceX64ToTickIndex(o),c=Wt.tickIndexToSqrtPriceX64(t),u=Wt.tickIndexToSqrtPriceX64(e);let l;if(a<=t){if(!r)throw new Error("lower tick cannot calculate liquidity by coinB");l=Ta(c,u,n)}else if(a>=e){if(r)throw new Error("upper tick cannot calculate liquidity by coinA");l=Aa(u,c,n)}else r?l=Ta(o,u,n):l=Aa(o,c,n);const d=xo.getCoinAmountFromLiquidity(l,o,c,u,i),f=d.coinA.mul(new R(1+s)),p=d.coinB.mul(new R(1+s));return{tokenMaxA:f,tokenMaxB:p,liquidityAmount:l}}};new R(365);new R(24);new R(3600);new R(.5);function yq(t,e,n,r){const i=Math.max(t,n),o=Math.min(e,r)-i,a=e-t,c=r-n,u=new Ge(a.toString()),l=new Ge(c.toString()),d=new Ge(o.toString());let f=new Ge("0");return o<0?f=new Ge("0"):a===o?f=l.div(d):c===o?f=d.div(u):f=d.mul(d).div(l).div(u),f}function mq(t,e,n){let r=new R(0),i=new R(0);Number(t.current_tick_index)<Number(e.index)?(r=kt.subUnderflowU128(new R(t.fee_growth_global_a),new R(e.feeGrowthOutsideA)),i=kt.subUnderflowU128(new R(t.fee_growth_global_b),new R(e.feeGrowthOutsideB))):(r=new R(e.feeGrowthOutsideA),i=new R(e.feeGrowthOutsideB));let s=new R(0),o=new R(0);Number(t.current_tick_index)<Number(n.index)?(s=new R(n.feeGrowthOutsideA),o=new R(n.feeGrowthOutsideB)):(s=kt.subUnderflowU128(new R(t.fee_growth_global_a),new R(n.feeGrowthOutsideA)),o=kt.subUnderflowU128(new R(t.fee_growth_global_b),new R(n.feeGrowthOutsideB)));const a=kt.subUnderflowU128(kt.subUnderflowU128(new R(t.fee_growth_global_a),r),s),c=kt.subUnderflowU128(kt.subUnderflowU128(new R(t.fee_growth_global_b),i),o);return{fee_growth_inside_a:a,fee_growth_inside_b:c}}function wq(t,e,n){const r=kt.subUnderflowU128(e,new R(t.fee_growth_inside_a)),i=new R(t.liquidity).mul(r).shrn(64),s=kt.subUnderflowU128(n,new R(t.fee_growth_inside_b)),o=new R(t.liquidity).mul(s).shrn(64),a=new R(t.fee_owed_a).add(i),c=new R(t.fee_owed_b).add(o);return{feeOwedA:a,feeOwedB:c}}function _q(t){const{fee_growth_inside_a:e,fee_growth_inside_b:n}=mq(t.clmmpool,t.tickLower,t.tickUpper);return wq(t.position,e,n)}var bq=5*60*1e3,Lc=24*60*60*1e3;function Vm(t){return Date.parse(new Date().toString())+t}var vq=class{constructor(t){Pt(this,"_sdk");Pt(this,"_cache",{});this._sdk=t}get sdk(){return this._sdk}async getPoolImmutables(t=[],e=0,n=100,r=!1){const{ido:i}=this._sdk.sdkOptions.networkOptions.launchpad;if(i===void 0)throw Error("sdk.sdkOptions.networkOptions.launchpad is undefined");const s=`${i}_getInitPoolEvent`,o=this._cache[s],a=[],c=[];if(o!==void 0&&o.getCacheData()&&!r&&a.push(...o.value),a.length===0)try{(await this._sdk.fullClient.queryEvents({query:{MoveEventType:`${i}::factory::CreatePoolEvent`}})).data.forEach(d=>{const f=d.parsedJson;f&&a.push({pool_address:f.pool_id,coin_type_sale:Qt(f.sale_coin).full_address,coin_type_raise:Qt(f.raise_coin).full_address})}),this.updateCache(s,a,Lc)}catch(l){console.log("getPoolImmutables",l)}const u=t.length>0;for(let l=0;l<a.length;l+=1){const d=a[l];if(!(u&&!t.includes(d.pool_address))){if(!u){const f=Number(l);if(f<e||f>=e+n)continue}c.push(d)}}return c}async getPools(t=[],e=0,n=100){const r=[];let i=[];t.length>0?i=[...t]:(await this.getPoolImmutables([],e,n,!1)).forEach(a=>{i.push(a.pool_address)});const s=await this.sdk.fullClient.multiGetObjects({ids:i,options:{showType:!0,showContent:!0}});for(const o of s){const a=Ls.buildLaunchPadPool(o);await Ls.calculatePoolPrice(this._sdk,a),r.push(a);const c=`${a.pool_address}_getPoolObject`;this.updateCache(c,a,Lc)}return r}async getPool(t,e=!0){const n=`${t}_getPoolObject`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!e){const o=r.value;return Ls.updatePoolStatus(o),o}const i=await this._sdk.fullClient.getObject({id:t,options:{showContent:!0,showType:!0}}),s=Ls.buildLaunchPadPool(i);return await Ls.calculatePoolPrice(this._sdk,s),this.updateCache(n,s),s}async getInitFactoryEvent(t=!1){const e=this._sdk.sdkOptions.networkOptions.launchpad.ido,n=`${e}_getInitEvent`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!t)return r.value;const i=await this._sdk.fullClient.getObject({id:e,options:{showPreviousTransaction:!0}}),s=ry(i),o=(await this._sdk.fullClient.queryEvents({query:{Transaction:s}})).data,a={pools_id:"",admin_cap_id:""};return o.length>0&&(o.forEach(c=>{const u=c.parsedJson;if(u)switch(Qt(c.type).full_address){case`${e}::config::InitConfigEvent`:a.admin_cap_id=u.admin_cap_id;break;case`${e}::factory::InitFactoryEvent`:a.pools_id=u.pools_id;break}}),this.updateCache(n,a,Lc)),a}async getInitLockEvent(t=!1){const{nft_lock:e}=this._sdk.sdkOptions.networkOptions.launchpad,n=`${e}_getInitLockEvent`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!t)return r.value;const i={lock_manager_id:""};try{(await this._sdk.fullClient.queryEvents({query:{MoveEventType:`${e}::lock::InitManagerEvent`}})).data.forEach(o=>{const a=o.parsedJson;a&&(i.lock_manager_id=a.lock_manager_id)}),this.updateCache(n,i,Lc)}catch(s){console.log("getInitLockEvent",s)}return i}async getLockNFT(t,e=!1){const n=`${t}_getLockNFT`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!e)return r.value;const i=await this._sdk.fullClient.getObject({id:t,options:{showType:!0,showContent:!0}});if(!i.error)return dp(i)}async getLockNFTEvent(t,e,n=!1){const{networkOptions:r}=this._sdk.sdkOptions,i=`${t}_getInitLockEvent`,s=this._cache[i];if(s!==void 0&&s.getCacheData()&&!n)return s.value;try{const o=(await this._sdk.fullClient.queryEvents({query:{MoveEventType:`${r.launchpad.nft_lock}::lock::LockNFTEvent`}})).data,a=Qt(t);for(const c of o){const u=c.parsedJson;if(console.log("fields: ",u),u){const l={locked_time:Number(u.locked_time),end_lock_time:Number(u.end_lock_time),nft_type:u.nft_type_name.name,lock_nft_id:u.lock_nft_id,recipient:u.recipient},d=Qt(u.nft_type_name.name),f=Qt(d.type_arguments[0]).full_address,p=Qt(d.type_arguments[1]).full_address;if(e===l.recipient&&`${r.modules.cetus_clmm}`===d.address&&(a.type_arguments[0]===f&&a.type_arguments[1]===p||a.type_arguments[0]===p&&a.type_arguments[1]===f))return this.updateCache(i,l,Lc),l}}}catch(o){console.log("getLockNFTEvent:",o)}}async creatPoolTransactionPayload(t){var d,f;const{launchpad:e,modules:n}=this.sdk.sdkOptions.networkOptions,r=e.config;if(this.assertLuanchpadConfig(),this._sdk.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");const i=t.clmm_args!==void 0,s=Ls.priceRealToFix(Number(t.initialize_price),t.sale_decimals,t.raise_decimals),o=new mn;o.setGasBudget(kr);const a=dt(t.sale_total).add(dt(t.sale_total).mul(dt(t.liquidity_rate))).toNumber(),c=await ln.syncBuildCoinInputForAmount(this._sdk,o,BigInt(a),t.coin_type_sale);let u=[];if(i){const p=n.config;if(p===void 0)throw Error("modules config is null");const w=Wt.priceToSqrtPriceX64(dt(t.initialize_price),t.sale_decimals,t.raise_decimals).toString();u=[o.pure(r.admin_cap_id),o.pure(r.pools_id),o.pure(qn(t.recipient)),o.pure((s*fp).toString()),c,o.pure(t.sale_total.toString()),o.pure(t.min_purchase.toString()),o.pure(t.max_purchase.toString()),o.pure(t.least_raise_amount.toString()),o.pure(t.hardcap.toString()),o.pure((t.liquidity_rate*100).toString()),o.pure(t.start_time.toString()),o.pure(t.activity_duration.toString()),o.pure(t.settle_duration.toString()),o.pure(t.locked_duration.toString()),o.pure(p.global_config_id),o.pure((d=t.clmm_args)==null?void 0:d.tick_spacing.toString()),o.pure(w),o.pure(p.pools_id),o.pure((f=t.clmm_args)==null?void 0:f.url),o.pure(yn)]}else u=[o.pure(r.admin_cap_id),o.pure(r.pools_id),o.pure(qn(t.recipient)),o.pure((s*fp).toString()),c,o.pure(t.sale_total.toString()),o.pure(t.min_purchase.toString()),o.pure(t.max_purchase.toString()),o.pure(t.least_raise_amount.toString()),o.pure(t.hardcap.toString()),o.pure((t.liquidity_rate*100).toString()),o.pure(t.start_time.toString()),o.pure(t.activity_duration.toString()),o.pure(t.settle_duration.toString()),o.pure(t.locked_duration.toString()),o.pure(yn)];const l=[t.coin_type_sale,t.coin_type_raise];return o.moveCall({target:`${e.ido}::${Ii}::${i?"create_clmm_and_launchpad_pool":"create_launch_pool_single"}`,typeArguments:l,arguments:u}),o}async creatPurchasePayload(t){const{launchpad:e}=this.sdk.sdkOptions.networkOptions;if(this._sdk.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");const n=new mn;n.setGasBudget(kr);const r=await ln.syncBuildCoinInputForAmount(this._sdk,n,BigInt(t.purchase_amount),t.coin_type_raise),i=[t.coin_type_sale,t.coin_type_raise],s=[n.pure(t.pool_address),r,n.pure(t.purchase_amount.toString()),n.pure(yn)];return n.moveCall({target:`${e.ido}::${Ii}::purchase`,typeArguments:i,arguments:s}),n}async creatClaimPayload(t){const{launchpad:e}=this.sdk.sdkOptions.networkOptions;if(this._sdk.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");const n=new mn,r=this.buildLaunchpadCoinType(t.coin_type_sale,t.coin_type_raise),i=await ln.syncBuildCoinInputForAmount(this._sdk,n,BigInt(t.amount_lp),r);n.setGasBudget(kr);const s=[t.coin_type_sale,t.coin_type_raise],o=[n.pure(t.pool_address),i,n.pure(t.amount_lp.toString()),n.pure(yn)];return n.moveCall({target:`${e.ido}::${Ii}::claim`,typeArguments:s,arguments:o}),n}async creatSettlePayload(t){const{launchpad:e,modules:n}=this.sdk.sdkOptions.networkOptions;if(this._sdk.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");this.assertLuanchpadConfig();const r=n.config;if(r===void 0)throw Error("modules config is null");const i=t.opposite?t.a2b?t.coin_type_raise:t.coin_type_sale:t.a2b?t.coin_type_sale:t.coin_type_raise,s=await this._sdk.Resources.getOwnerCoinAssets(this._sdk.senderAddress,i),o=new mn;let a=Mn.calculateTotalBalance(s);o.setGasBudget(25e3),Mn.isSuiCoin(i)&&(a-=BigInt(25e3));const c=ln.buildCoinInputForAmount(o,s,a,i),u=t.opposite?t.a2b?"opposite_settle_only_with_a":"opposite_settle_only_with_b":t.a2b?"settle_only_with_a":"settle_only_with_b",l=[t.coin_type_sale,t.coin_type_raise],d=[o.pure(t.pool_address),o.pure(t.clmm_pool_address),o.pure(r.global_config_id),o.pure(e.config.lock_manager_id),o.pure(t.initialize_sqrt_price),c,o.pure(yn)];return o.moveCall({target:`${e.ido}::${Ii}::${u}`,typeArguments:l,arguments:d}),o}creatWithdrawPayload(t){const{launchpad:e}=this.sdk.sdkOptions.networkOptions,n=new mn;n.setGasBudget(kr);const r=[t.coin_type_sale,t.coin_type_raise],i=[n.object(t.pool_address),n.object(yn)];return t.sale_amount>BigInt(0)&&n.moveCall({target:`${e.ido}::${Ii}::withdraw_sale`,typeArguments:r,arguments:i}),t.raise_amount>BigInt(0)&&n.moveCall({target:`${e.ido}::${Ii}::withdraw_raise`,typeArguments:r,arguments:i}),n}creatWhitelistPayload(t){const{launchpad:e}=this.sdk.sdkOptions.networkOptions;this.assertLuanchpadConfig();const n=new mn;n.setGasBudget(kr);const r=[t.coin_type_sale,t.coin_type_raise],i=[n.pure(e.config.admin_cap_id),n.pure(t.pool_address),n.pure(qn(t.user_addr))];return n.moveCall({target:`${e.ido}::${Ii}::${t.is_add?"add_user_to_whitelist":"remove_user_from_whitelist"}`,typeArguments:r,arguments:i}),n}creatCancelPoolPayload(t){const{launchpad:e}=this.sdk.sdkOptions.networkOptions;this.assertLuanchpadConfig();const n=new mn;n.setGasBudget(kr);const r=[t.coin_type_sale,t.coin_type_raise],i=[n.pure(e.config.admin_cap_id),n.pure(t.pool_address),n.pure(yn)];return n.moveCall({target:`${e.ido}::${Ii}::cancel`,typeArguments:r,arguments:i}),n}creatResertRecipientPayload(t){const{launchpad:e}=this.sdk.sdkOptions.networkOptions;this.assertLuanchpadConfig();const n=new mn;n.setGasBudget(kr);const r=[t.coin_type_sale,t.coin_type_raise],i=[n.pure(e.config.admin_cap_id),n.pure(t.pool_address),n.pure(t.new_recipient),n.pure(yn)];return n.moveCall({target:`${e.ido}::${Ii}::resert_recipient_address`,typeArguments:r,arguments:i}),n}creatResertStartTimePayload(t){const{launchpad:e}=this.sdk.sdkOptions.networkOptions;this.assertLuanchpadConfig();const n=new mn;n.setGasBudget(kr);const r=[t.coin_type_sale,t.coin_type_raise],i=[n.pure(e.config.admin_cap_id),n.pure(t.pool_address),n.pure(t.new_start_time),n.pure(yn)];return n.moveCall({target:`${e.ido}::${Ii}::reset_start_time`,typeArguments:r,arguments:i}),n}creatResertPoolDuractionPayload(t){const{launchpad:e}=this.sdk.sdkOptions.networkOptions;this.assertLuanchpadConfig();const n=new mn;n.setGasBudget(kr);const r=[t.coin_type_sale,t.coin_type_raise],i=[n.pure(e.config.admin_cap_id),n.pure(t.pool_address),n.pure(t.activity_duration),n.pure(t.settle_duration),n.pure(t.lock_duration),n.pure(yn)];return n.moveCall({target:`${e.ido}::${Ii}::resert_pool_duraction`,typeArguments:r,arguments:i}),n}creatUnlockNftPayload(t){const{launchpad:e}=this.sdk.sdkOptions.networkOptions;if(e.config===void 0)throw Error("launchpad.config  is null");const n=new mn;n.setGasBudget(kr);const r=[t.nft_type],i=[n.pure(e.config.lock_manager_id),n.pure(t.lock_nft),n.pure(yn)];return n.moveCall({target:`${e.nft_lock}::lock::unlock_nft`,typeArguments:r,arguments:i}),n}async getOwnerLaunchpadCoins(t,e){let n=null;if(e){const i=Qt(e);n=this.buildLaunchpadCoinType(i.type_arguments[0],i.type_arguments[1])}const r=await this._sdk.Resources.getOwnerCoinAssets(t,n);return e?r.filter(i=>i.coinAddress===n):r.filter(i=>Qt(i.coinAddress).full_address===$u(this._sdk.sdkOptions.networkOptions.launchpad.ido,"pool",Dm))}async isAdminCap(t){const{launchpad:e}=this._sdk.sdkOptions.networkOptions;if(e.config===void 0)throw Error("launchpad config is empty");const n=await this._sdk.fullClient.getObject({id:e.config.admin_cap_id,options:{showType:!0,showOwner:!0}}),r=w6(n),i=_6(n);return i&&r===`${e.ido}::config::AdminCap`?i.AddressOwner===qn(t):!1}async isWhiteListUser(t,e){const n={type:"address",value:e};try{return await this._sdk.fullClient.getDynamicFieldObject({parentId:t,name:n}),!0}catch{return!1}}buildLaunchpadCoinType(t,e){return $u(this._sdk.sdkOptions.networkOptions.launchpad.ido,"pool",Dm,[t,e])}assertLuanchpadConfig(){const{launchpad:t}=this.sdk.sdkOptions.networkOptions;if(t.config===void 0)throw Error("sdk launchpad.config is null")}updateCache(t,e,n=bq){let r=this._cache[t];r?(r.overdueTime=Vm(n),r.value=e):r=new gy(e,Vm(n)),this._cache[t]=r}},xq=class{constructor(t){Pt(this,"_sdk");this._sdk=t}get sdk(){return this._sdk}async creatPoolTransactionPayload(t){const{modules:e}=this.sdk.sdkOptions.networkOptions,n=e.config;if(n===void 0)throw Error("eventConfig is null");if(GN(qn(t.coinTypeA),qn(t.coinTypeB))){const w=t.coinTypeB;t.coinTypeB=t.coinTypeA,t.coinTypeA=w}if(this._sdk.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");const r=await this._sdk.Resources.getOwnerCoinAssets(this._sdk.senderAddress),i=new mn,s=t.amount_a>0&&t.amount_b>0,o=n.global_config_id,a=n.pools_id;i.setGasBudget(kr);const c=ln.buildCoinInputForAmount(i,r,BigInt(t.amount_a),t.coinTypeA),u=ln.buildCoinInputForAmount(i,r,BigInt(t.amount_b),t.coinTypeB),l=[];c&&l.push({coinInput:c,coinAmount:t.amount_a.toString()}),u&&l.push({coinInput:u,coinAmount:t.amount_b.toString()});let d;l.length===2?d="create_pool_with_liquidity_with_all":d=c!==void 0?"create_pool_with_liquidity_only_a":"create_pool_with_liquidity_only_b";const f=[t.coinTypeA,t.coinTypeB];let p;return s?p=[i.pure(a),i.pure(o),i.pure(t.tick_spacing.toString()),i.pure(t.initialize_sqrt_price),i.pure(t.uri),...l.map(w=>w.coinInput),i.pure(os(BigInt(t.tick_lower)).toString()),i.pure(os(BigInt(t.tick_upper)).toString()),...l.map(w=>i.pure(w.coinAmount)),i.pure(t.fix_amount_a),i.pure(yn)]:p=[i.pure(a),i.pure(o),i.pure(t.tick_spacing.toString()),i.pure(t.initialize_sqrt_price),i.pure(t.uri),i.pure(yn)],i.moveCall({target:`${e.cetus_integrate}::${Zr}::${s?d:"create_pool"}`,typeArguments:f,arguments:p}),i}async fetchTicks(t){let e=[],n=[];for(;;){const i=await this.getTicks({pool_id:t.pool_id,coinTypeA:t.coinTypeA,coinTypeB:t.coinTypeB,start:n,limit:512});if(e=[...e,...i],i.length<512)break;n=[i[i.length-1].index]}return e}async getTicks(t){var c;const{modules:e,simulationAccount:n}=this.sdk.sdkOptions.networkOptions,r=[],i=[t.coinTypeA,t.coinTypeB],s=new mn,o=[s.pure(t.pool_id),s.pure(t.start),s.pure(t.limit.toString())];return s.moveCall({target:`${e.cetus_integrate}::${Q6}::fetch_ticks`,arguments:o,typeArguments:i}),console.log("payload: ",s.blockData.transactions[0]),(c=(await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:s,sender:n.address})).events)==null||c.forEach(u=>{Qt(u.type).name==="FetchTicksResultEvent"&&u.parsedJson.ticks.forEach(l=>{r.push(YN(l))})}),r}async fetchTicksByRpc(t){let e=[],n=null;const r=512;for(;;){const i=[],s=await this.sdk.fullClient.getDynamicFields({parentId:t,cursor:n,limit:r});if(n=s.nextCursor,s.data.forEach(o=>{Qt(o.objectType).module==="skip_list"&&i.push(o.objectId)}),e=[...e,...await this.getTicksByRpc(i)],n===null||s.data.length<r)break}return e}async getTicksByRpc(t){const e=[],n=await this.sdk.fullClient.multiGetObjects({ids:t,options:{showContent:!0,showType:!0}});for(const r of n)e.push(uh(r));return e}async getTickDataByIndex(t,e){const n={type:"u64",value:os(BigInt(dq(Number(e)).toString())).toString()},r=await this.sdk.fullClient.getDynamicFieldObject({parentId:t,name:n});return uh(r)}async getTickDataByObjectId(t){const e=await this.sdk.fullClient.getObject({id:t,options:{showContent:!0}});return uh(e)}},Sq=class{constructor(t){Pt(this,"_sdk");this._sdk=t}get sdk(){return this._sdk}async createAddLiquidityTransactionPayload(t,e){if(this._sdk.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");const n=await this._sdk.Resources.getOwnerCoinAssets(this._sdk.senderAddress),r=!("delta_liquidity"in t);if(e){const{isAdjustCoinA:i,isAdjustCoinB:s}=hy(t);if(r&&(t=t,t.fix_amount_a&&i||!t.fix_amount_a&&s))return await ln.buildAddLiquidityTransactionForGas(this._sdk,n,t,e)}return ln.buildAddLiquidityTransaction(this._sdk,n,t)}removeLiquidityTransactionPayload(t){const{modules:e}=this.sdk.sdkOptions.networkOptions,n="remove_liquidity",r=new mn;r.setGasBudget(kr);const i=[t.coinTypeA,t.coinTypeB],s=[r.pure(t.pool_id),r.pure(t.pos_id),r.pure(t.delta_liquidity),r.pure(t.min_amount_a),r.pure(t.min_amount_b),r.pure(yn)];return r.moveCall({target:`${e.cetus_integrate}::${Zr}::${n}`,typeArguments:i,arguments:s}),r}closePositionTransactionPayload(t,e=ud){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=new mn;r.setGasBudget(e);const i=[t.coinTypeA,t.coinTypeB];return r.moveCall({target:`${n.cetus_integrate}::${Zr}::collect_fee`,typeArguments:i,arguments:[r.object(t.pool_id),r.object(t.pos_id)]}),t.rewarder_coin_types.forEach(s=>{r.moveCall({target:`${n.cetus_integrate}::${Zr}::collect_reward`,typeArguments:[...i,s],arguments:[r.object(t.pool_id),r.object(t.pos_id),r.pure(yn)]})}),r.moveCall({target:`${n.cetus_integrate}::${Zr}::close_position`,typeArguments:i,arguments:[r.object(t.pool_id),r.object(t.pos_id),r.pure(t.min_amount_a),r.pure(t.min_amount_b),r.pure(yn)]}),r.setGasBudget(kr),r}openPositionTransactionPayload(t){const{modules:e}=this.sdk.sdkOptions.networkOptions,n=new mn;n.setGasBudget(ud);const r=[t.coinTypeA,t.coinTypeB],i=os(BigInt(t.tick_lower)).toString(),s=os(BigInt(t.tick_upper)).toString(),o=[n.pure(t.pool_id),n.pure(i),n.pure(s)];return n.moveCall({target:`${e.cetus_integrate}::${Zr}::open_position`,typeArguments:r,arguments:o}),n}collectFeeTransactionPayload(t){const{modules:e}=this.sdk.sdkOptions.networkOptions,n=new mn;n.setGasBudget(ud);const r=[t.coinTypeA,t.coinTypeB],i=[n.pure(t.pool_id),n.pure(t.pos_id)];return n.moveCall({target:`${e.cetus_integrate}::${Zr}::collect_fee`,typeArguments:r,arguments:i}),n}},Tq=5*60*1e3,fo=24*60*60*1e3;function Wm(t){return Date.parse(new Date().toString())+t}var Aq=class{constructor(t){Pt(this,"_sdk");Pt(this,"_cache",{});this._sdk=t}get sdk(){return this._sdk}async getSuiTransactionResponse(t,e=!1){const n=`${t}_getSuiTransactionResponse`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!e)return r.value;const i=await this._sdk.fullClient.getTransactionBlock({digest:t,options:{showEvents:!0,showEffects:!0,showBalanceChanges:!0,showInput:!0,showObjectChanges:!0}});return this.updateCache(n,i,fo),i}async getFaucetEvent(t,e,n=!0){const r=`${t}_${e}_getFaucetEvent`,i=this._cache[r];if(i!==void 0&&i.getCacheData()&&!n)return i.value;const s=(await this._sdk.fullClient.queryEvents({query:{MoveEventType:`${t}::faucet::FaucetEvent`}})).data;let o={id:"",time:0};return s.forEach(a=>{if(HN(e)===a.sender){const c=a.parsedJson;if(c){const u={id:c.id,time:Number(c.time)},l=o.time;l>0?u.time>l&&(o=u):o=u}}}),o.time>0?(this.updateCache(r,o,fo),o):null}async getInitEvent(t=!1){const e=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,n=`${e}_getInitEvent`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!t)return r.value;const i=await this._sdk.fullClient.getObject({id:e,options:{showPreviousTransaction:!0}}),s=ry(i),o=(await this._sdk.fullClient.queryEvents({query:{Transaction:s}})).data;console.log("objects: ",o);const a={pools_id:"",global_config_id:""};return o.length>0&&(o.forEach(c=>{const u=c.parsedJson;if(c.type)switch(Qt(c.type).full_address){case`${e}::config::InitConfigEvent`:a.global_config_id=u.global_config_id;break;case`${e}::factory::InitFactoryEvent`:a.pools_id=u.pools_id;break}}),this.updateCache(n,a,fo)),a}async getCreatePartnerEvent(t=!1){const e=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,n=`${e}_getInitEvent`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!t)return r.value;const i=(await this._sdk.fullClient.queryEvents({query:{MoveEventType:`${e}::partner::CreatePartnerEvent`}})).data,s=[];return i.length>0&&(i.forEach(o=>{s.push(o.parsedJson)}),this.updateCache(n,s,fo)),s}async getPoolImmutables(t=[],e=0,n=100,r=!1){const i=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,s=`${i}_getInitPoolEvent`,o=this._cache[s],a=[],c=[];if(o!==void 0&&o.getCacheData()&&!r&&a.push(...o.value),a.length===0)try{(await this._sdk.fullClient.queryEvents({query:{MoveEventType:`${i}::factory::CreatePoolEvent`}})).data.forEach(d=>{const f=d.parsedJson;f&&a.push({poolAddress:f.pool_id,tickSpacing:f.tick_spacing,coinTypeA:Qt(f.coin_type_a).full_address,coinTypeB:Qt(f.coin_type_b).full_address})}),this.updateCache(s,a,fo)}catch(l){console.log("getPoolImmutables",l)}const u=t.length>0;for(let l=0;l<a.length;l+=1){const d=a[l];if(!(u&&!t.includes(d.poolAddress))){if(!u){const f=Number(l);if(f<e||f>=e+n)continue}c.push(d)}}return c}async getPools(t=[],e=0,n=100){const r=[];let i=[];t.length>0?i=[...t]:(await this.getPoolImmutables([],e,n,!1)).forEach(a=>{i.push(a.poolAddress)});const s=await this.sdk.fullClient.multiGetObjects({ids:i,options:{showContent:!0,showType:!0}});for(const o of s){const a=zm(o);r.push(a);const c=`${a.poolAddress}_getPoolObject`;this.updateCache(c,a,fo)}return r}async getPool(t,e=!0){const n=`${t}_getPoolObject`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!e)return r.value;const i=await this._sdk.fullClient.getObject({id:t,options:{showType:!0,showContent:!0}}),s=zm(i);return this.updateCache(n,s),s}async getPositionList(t,e=[]){const n=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,r=[],i=await this._sdk.fullClient.getOwnedObjects({owner:t,options:{showType:!0,showContent:!0}}),s=e.length>0;for(const o of i.data)if(Qt(o.data.type).full_address===`${n}::position::Position`){const c=dp(o.data),u=`${c.pos_object_id}_getPositionList`;this.updateCache(u,c,fo),s?e.includes(c.pool)&&r.push(c):r.push(c)}return r}async getPosition(t,e){let n=await this.getSipmlePosition(e);return n=await this.updatePositionRewarders(t,n),n}async getSipmlePosition(t){const e=`${t}_getPositionList`,n=this._cache[e];let r=null;if(n!==void 0&&n.getCacheData()&&(r=n.value),r===null){const i=await this.sdk.fullClient.getObject({id:t,options:{showContent:!0,showType:!0}});r=dp(i)}return r}async updatePositionRewarders(t,e){const n=await this._sdk.fullClient.getDynamicFieldObject({parentId:t,name:{type:"0x2::object::ID",value:e.pos_object_id}}),r=sa(n.data).value.fields.value;return JN(r,e)}async getOwnerCoinAssets(t,e){const n=[];let r=null;for(;;){const i=await(e?this._sdk.fullClient.getCoins({owner:t,coinType:e,cursor:r}):this._sdk.fullClient.getAllCoins({owner:t,cursor:r}));if(i.data.forEach(s=>{BigInt(s.balance)>0&&n.push({coinAddress:Qt(s.coinType).source_address,coinObjectId:s.coinObjectId,balance:BigInt(s.balance)})}),r=i.nextCursor,!i.hasNextPage)break}return n}async getSuiObjectOwnedByAddress(t){const e=[],r=(await this._sdk.fullClient.getOwnedObjects({owner:t})).data.map(s=>s.objectId);return(await this._sdk.fullClient.multiGetObjects({ids:r})).forEach(s=>{const o=iy(s);if(o){const a=Mn.getCoinTypeArg(o),c=ai.getBalance(o),u={coinAddress:a,balance:c,...o};e.push(u)}}),e}updateCache(t,e,n=Tq){let r=this._cache[t];r?(r.overdueTime=Wm(n),r.value=e):r=new gy(e,Wm(n)),this._cache[t]=r}},Eq=class{constructor(t){Pt(this,"_sdk");Pt(this,"growthGlobal");this._sdk=t,this.growthGlobal=[Ut,Ut,Ut]}get sdk(){return this._sdk}async emissionsEveryDay(t){const n=(await this.sdk.Resources.getPool(t)).rewarder_infos;if(!n)return null;const r=[];for(const i of n){const s=kt.fromX64(new R(i.emissions_per_second));r.push({emissions:Math.floor(s.toNumber()*60*60*24),coin_address:i.coin_name})}return r}async updatePoolRewarder(t,e){const n=await this.sdk.Resources.getPool(t),r=n.rewarder_last_updated_time;if(n.rewarder_last_updated_time=e.toString(),Number(n.liquidity)===0||e.eq(new R(r)))return n;const i=e.div(new R(1e3)).sub(new R(r)).add(new R(15)),s=n.rewarder_infos;for(let o=0;o<s.length;o+=1){const a=s[o],c=kt.checkMulDivFloor(i,new R(a.emissions_per_second),new R(n.liquidity),128);this.growthGlobal[o]=new R(a.growth_global).add(new R(c))}return n}async posRewardersAmount(t,e,n){const r=Date.parse(new Date().toString()),i=await this.updatePoolRewarder(t,new R(r)),s=await this.sdk.Resources.getPosition(e,n);if(s===void 0)return[];const o=i.ticks_handle,a=await this.sdk.Pool.getTickDataByIndex(o,s.tick_lower_index),c=await this.sdk.Pool.getTickDataByIndex(o,s.tick_upper_index);return await this.posRewardersAmountInternal(i,s,a,c)}async poolRewardersAmount(t,e){const n=Date.parse(new Date().toString()),r=await this.updatePoolRewarder(e,new R(n)),i=await this.sdk.Resources.getPositionList(t,[e]),s=await this.getPoolLowerAndUpperTicks(r.ticks_handle,i),o=[Ut,Ut,Ut];for(let a=0;a<i.length;a+=1){const c=await this.posRewardersAmountInternal(r,i[a],s[0][a],s[1][a]);for(let u=0;u<3;u+=1)o[u]=o[u].add(c[u].amount_owed)}return o}posRewardersAmountInternal(t,e,n,r){const i=parseInt(e.tick_lower_index,10),s=parseInt(e.tick_upper_index,10),o=tq(t,n,r,i,s,this.growthGlobal),a=[],c=[];if(o.length>0){const u=kt.subUnderflowU128(o[0],new R(e.reward_growth_inside_0)),l=kt.checkMulShiftRight(new R(e.liquidity),u,64,256);a.push(o[0]),c.push({amount_owed:new R(e.reward_amount_owed_0).add(l),coin_address:t.rewarder_infos[0].coin_name})}if(o.length>1){const u=kt.subUnderflowU128(o[1],new R(e.reward_growth_inside_1)),l=kt.checkMulShiftRight(new R(e.liquidity),u,64,256);a.push(o[1]),c.push({amount_owed:new R(e.reward_amount_owed_1).add(l),coin_address:t.rewarder_infos[1].coin_name})}if(o.length>2){const u=kt.subUnderflowU128(o[2],new R(e.reward_growth_inside_2)),l=kt.checkMulShiftRight(new R(e.liquidity),u,64,256);a.push(o[2]),c.push({amount_owed:new R(e.reward_amount_owed_2).add(l),coin_address:t.rewarder_infos[2].coin_name})}return c}async getPoolLowerAndUpperTicks(t,e){const n=[],r=[];for(const i of e){const s=await this.sdk.Pool.getTickDataByIndex(t,i.tick_lower_index),o=await this.sdk.Pool.getTickDataByIndex(t,i.tick_upper_index);n.push(s),r.push(o)}return[n,r]}collectRewarderTransactionPayload(t){const{modules:e}=this.sdk.sdkOptions.networkOptions,n=[t.coinTypeA,t.coinTypeB,...t.rewarder_coin_types],r=t.rewarder_coin_types.length;let i=0;for(let a=0;a<r;a++)i|=1<<a;for(let a=0;a<3;a++)n[a+2]===void 0&&n.push(t.coinTypeA);const s=new mn;s.setGasBudget(ud);const o=[s.object(t.pool_id),s.object(t.pos_id),s.pure(i.toString()),s.object(yn)];return s.moveCall({target:`${e.cetus_integrate}::${Zr}::${t.collect_fee?"collect_fee_and_rewards":"collect_rewards"}`,typeArguments:n,arguments:o}),t.collect_fee&&s.moveCall({target:`${e.cetus_integrate}::${Zr}::collect_fee`,typeArguments:n,arguments:[s.object(t.pool_id),s.object(t.pos_id)]}),t.rewarder_coin_types.forEach(a=>{s.moveCall({target:`${e.cetus_integrate}::${Zr}::collect_reward`,typeArguments:[...n,a],arguments:[s.object(t.pool_id),s.object(t.pos_id),s.pure(yn)]})}),s}};function Nl(t,e){return{pair:`${t.toUpperCase()}-${e.toUpperCase()}`,reversePair:`${e.toUpperCase()}-${t.toUpperCase()}`}}function kq(t){if(t.length===1)return{maxPrice:t[0],index:0};let e=t[0],n=0;for(let r=0;r<t.length;r+=1)e.lt(t[r])&&(n=r,e=t[r]);return{maxPrice:e,index:n}}var Bq=class{constructor(t){Pt(this,"priceProviders");Pt(this,"pathProviders");Pt(this,"coinProviders");Pt(this,"graph");Pt(this,"_rates");Pt(this,"_coinSymbolMapping");Pt(this,"_coinAddressMapping");Pt(this,"poolMapping");Pt(this,"_sdk");this.priceProviders=[],this.pathProviders=[],this.coinProviders=[],this.graph=new b2,this._rates=new Map,this._coinSymbolMapping=new Map,this._coinAddressMapping=new Map,this.poolMapping=new Map,this._sdk=t}get sdk(){return this._sdk}getPoolAddressAndDirection(t,e){const{pair:n,reversePair:r}=Nl(t,e);let i=this.poolMapping.get(n);if(i!==void 0)return{address:i,direction:!0};if(i=this.poolMapping.get(r),i!==void 0)return{address:i,direction:!1}}async setCoinList(t){t.forEach(e=>{const n={address:e.address,symbol:e.symbol,decimals:e.decimals};this._coinSymbolMapping.set(e.symbol,n),this._coinAddressMapping.set(e.address,n)})}async loadGraph(){for(const t of this.pathProviders){const{paths:e}=t;for(let n=0;n<e.length;n+=1){let r,i;this.graph.getVertexByKey(e[n].base)===void 0?r=new vd(e[n].base):r=this.graph.getVertexByKey(e[n].base),this.graph.getVertexByKey(e[n].quote)===void 0?i=new vd(e[n].quote.toUpperCase()):i=this.graph.getVertexByKey(e[n].quote),this.graph.addEdge(new _2(r,i));const s=this._coinSymbolMapping.get(e[n].base),o=this._coinSymbolMapping.get(e[n].quote);if(s!==void 0&&o!==void 0){const a=Nl(e[n].base,e[n].quote).pair;this.poolMapping.set(a,e[n].address)}}}return this}addPathProvider(t){return this.pathProviders.push(t),this}addPriceProvider(t){return this.priceProviders.push(t),this}addCoinProvider(t){return this.coinProviders.push(t),this}tokenInfo(t){return this._coinAddressMapping.has(t)?this._coinAddressMapping.get(t):this._coinSymbolMapping.get(t)}async price(t,e){var w,m,v;const n=this.tokenInfo(t),r=this.tokenInfo(e);if(n===void 0||r===void 0)return;const i=this.graph.getVertexByKey(n.symbol),s=this.graph.getVertexByKey(r.symbol),o=this.graph.findAllPath(i,s),a=Array.from(o),c=[];for(const k of a)for(let E=0;E<k.length-1;E+=1){const b=k[E].value.toString(),x=k[E+1].value.toString(),T=(w=this.getPoolAddressAndDirection(b,x))==null?void 0:w.address;T!==void 0&&c.push(T)}await this._updatePoolInfo(c);const u=[],l=[];for(const k of a){const E=this._price(k);l.push(E.nodes),u.push(E.maxPrice)}const d=kq(u),f=[],p=[];for(let k=0;k<a[d.index].length-1;k+=1){const E=a[d.index][k].value.toString(),b=a[d.index][k+1].value.toString(),x=(m=this.getPoolAddressAndDirection(E,b))==null?void 0:m.address,T=(v=this.getPoolAddressAndDirection(E,b))==null?void 0:v.direction;x!==void 0&&T!==void 0&&(f.push(x),p.push(T))}return{maxIndex:d.index,maxPrice:d.maxPrice,nodes:l,pools:f,directions:p}}async _updatePoolInfo(t){for(const e of t){const n=await this._sdk.Resources.getPool(e),r=this.tokenInfo(n.coinTypeA),i=this.tokenInfo(n.coinTypeB),{pair:s}=Nl(r.symbol,i.symbol),o=Wt.sqrtPriceX64ToPrice(new R(n.current_sqrt_price),r.decimals,i.decimals);this._rates.set(s,o)}}_price(t){let e=new Ge(1);const n=[];for(let r=0;r<t.length-1;r+=1){const i=t[r].value.toString(),s=t[r+1].value.toString();n.push(i),Yl(i!==void 0&&s!==void 0,"base and quote is undefined");const o=this._directPrice(i,s);console.log("t",o==null?void 0:o.maxPrice.toString()),Yl(o!==void 0,`[${i}-${s}] temp price is undefined`),e=e.mul(o.maxPrice),console.log("m",e.toString())}return n.push(t[t.length-1].value.toString()),{maxPrice:e,nodes:n}}_directPrice(t,e){const n=[t,e],{pair:r,reversePair:i}=Nl(t,e);if(this._rates.has(r)){const s=this._rates.get(r);return s===void 0?void 0:{maxPrice:s,nodes:n}}if(this._rates.has(i)){const s=this._rates.get(i);return Yl(s!==void 0),{maxPrice:new Ge(1).div(s),nodes:n}}}},Iq=class{constructor(t){Pt(this,"_sdk");Pt(this,"_cache",{});this._sdk=t}get sdk(){return this._sdk}async preswap(t){var c;const{modules:e,simulationAccount:n}=this.sdk.sdkOptions.networkOptions,r=new mn,i=[t.coinTypeA,t.coinTypeB],s=[r.pure(t.pool.poolAddress),r.pure(t.a2b),r.pure(t.by_amount_in),r.pure(t.amount)];r.moveCall({target:`${e.cetus_integrate}::${Q6}::calculate_swap_result`,arguments:s,typeArguments:i});const a=(c=(await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:r,sender:n.address})).events)==null?void 0:c.filter(u=>Qt(u.type).name==="CalculatedSwapResultEvent");return a.length===0?null:this.transformSwapData(t,a[0].parsedJson.data)}transformSwapData(t,e){const n=Wt.sqrtPriceX64ToPrice(new R(t.pool.current_sqrt_price),t.decimalsA,t.decimalsB).toNumber(),r=Wt.sqrtPriceX64ToPrice(new R(e.after_sqrt_price),t.decimalsA,t.decimalsB).toNumber(),i=Math.abs(n-r)/n*100;return{estimatedAmountIn:e.amount_in&&e.fee_amount?new R(e.amount_in).add(new R(e.fee_amount)).toString():"",estimatedAmountOut:e.amount_out,estimatedEndSqrtPrice:e.after_sqrt_price,estimatedFeeAmount:e.fee_amount,isExceed:e.is_exceed,amount:t.amount,aToB:t.a2b,byAmountIn:t.by_amount_in,priceImpactPct:i}}calculateRates(t){const{currentPool:e}=t,n={coinA:e.coinTypeA,coinB:e.coinTypeB,currentSqrtPrice:new R(e.current_sqrt_price),currentTickIndex:Number(e.current_tick_index),feeGrowthGlobalA:new R(e.fee_growth_global_a),feeGrowthGlobalB:new R(e.fee_growth_global_b),feeProtocolCoinA:new R(e.fee_protocol_coin_a),feeProtocolCoinB:new R(e.fee_protocol_coin_b),feeRate:new R(e.fee_rate),liquidity:new R(e.liquidity),tickIndexes:[],tickSpacing:Number(e.tickSpacing),ticks:[],collection_name:""};let r;t.a2b?r=t.swapTicks.sort((d,f)=>Number(f.index)-Number(d.index)):r=t.swapTicks.sort((d,f)=>Number(d.index)-Number(f.index));const i=gq(t.a2b,t.byAmountIn,t.amount,n,r);let s=!1;t.byAmountIn?s=i.amountIn.lt(t.amount):s=i.amountOut.lt(t.amount);const o=py.getDefaultSqrtPriceLimit(t.a2b);t.a2b&&i.nextSqrtPrice.lt(o)&&(s=!0),!t.a2b&&i.nextSqrtPrice.gt(o)&&(s=!0);let a=0;i.crossTickNum>6&&i.crossTickNum<40&&(a=22e3*(i.crossTickNum-6)),i.crossTickNum>40&&(s=!0);const c=Wt.sqrtPriceX64ToPrice(n.currentSqrtPrice,t.decimalsA,t.decimalsB).toNumber(),u=Wt.sqrtPriceX64ToPrice(i.nextSqrtPrice,t.decimalsA,t.decimalsB).toNumber(),l=Math.abs(c-u)/c*100;return{estimatedAmountIn:i.amountIn,estimatedAmountOut:i.amountOut,estimatedEndSqrtPrice:i.nextSqrtPrice,estimatedFeeAmount:i.feeAmount,isExceed:s,extraComputeLimit:a,amount:t.amount,aToB:t.a2b,byAmountIn:t.byAmountIn,priceImpactPct:l}}async createSwapTransactionPayload(t,e){if(this._sdk.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");const n=await this._sdk.Resources.getOwnerCoinAssets(this._sdk.senderAddress);if(e){const{isAdjustCoinA:r,isAdjustCoinB:i}=hy(t);if(t.a2b&&r||!t.a2b&&i)return await ln.buildSwapTransactionForGas(this._sdk,t,n,e)}return ln.buildSwapTransaction(this.sdk,t,n)}},Rq=5*60*1e3,ql=24*60*60*1e3;function Km(t){return Date.parse(new Date().toString())+t}var $q=class{constructor(t){Pt(this,"_sdk");Pt(this,"_cache",{});this._sdk=t}get sdk(){return this._sdk}async getAllRegisteredTokenList(t=!1){return await this.factchTokenList("",t)}async getOwnerTokenList(t="",e=!1){return await this.factchTokenList(t,e)}async getAllRegisteredPoolList(t=!1){return await this.factchPoolList("",t)}async getOwnerPoolList(t="",e=!1){return await this.factchPoolList(t,e)}async getWarpPoolList(t=!1){return await this.factchWarpPoolList("","",t)}async getOwnerWarpPoolList(t="",e="",n=!1){return await this.factchWarpPoolList(t,e,n)}async getTokenListByCoinTypes(t){const e={},n="getAllRegisteredTokenList",r=this.getCacheData(n);if(r!==null){const s=r;for(const o of t)for(const a of s)if(o===a.address){e[o]=a;continue}}const i=t.filter(s=>e[s]===void 0);for(const s of i){const o=`${s}_metadata`,a=this.getCacheData(o);if(a!==null)e[s]=a;else{const c=await this._sdk.fullClient.getCoinMetadata({coinType:s}),u={name:c.name,symbol:c.symbol,official_symbol:c.symbol,coingecko_id:"",decimals:c.decimals,project_url:"",logo_url:c.iconUrl,address:s};e[s]=u,this.updateCache(o,u,ql)}}return e}async factchTokenList(t="",e=!1){var u;const{simulationAccount:n,token:r}=this.sdk.sdkOptions.networkOptions,i="getAllRegisteredTokenList";if(!e){const l=this.getCacheData(i);if(l!==null)return l}const s=t.length>0,o=new mn;o.moveCall({target:`${r.token_deployer}::coin_list::${s?"fetch_full_list":"fetch_all_registered_coin_info"}`,arguments:s?[o.pure(r.config.coin_registry_id),o.pure(t)]:[o.pure(r.config.coin_registry_id)]});const a=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:o,sender:n.address}),c=[];return(u=a.events)==null||u.forEach(l=>{Qt(l.type).full_address===`${r.token_deployer}::coin_list::FetchCoinListEvent`&&l.parsedJson.full_list.value_list.forEach(f=>{c.push(this.transformData(f,!1))})}),this.updateCache(i,c,ql),c}async factchPoolList(t="",e=!1){var f;const{simulationAccount:n,token:r}=this.sdk.sdkOptions.networkOptions,i="getAllRegisteredPoolList";if(!e){const p=this.getCacheData(i);if(p!==null)return p}const s=t.length>0,o=[],a=s?[r.config.pool_registry_id,t]:[r.config.pool_registry_id],c={packageObjectId:r.token_deployer,module:"lp_list",function:s?"fetch_full_list":"fetch_all_registered_coin_info",gasBudget:1e4,typeArguments:o,arguments:a};console.log("payload: ",c);const u=new mn;u.moveCall({target:`${r.token_deployer}::lp_list::${s?"fetch_full_list":"fetch_all_registered_coin_info"}`,arguments:s?[u.pure(r.config.pool_registry_id),u.pure(t)]:[u.pure(r.config.pool_registry_id)]});const l=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:u,sender:n.address}),d=[];return(f=l.events)==null||f.forEach(p=>{Qt(p.type).full_address===`${r.token_deployer}::lp_list::FetchPoolListEvent`&&p.parsedJson.full_list.value_list.forEach(m=>{d.push(this.transformData(m,!0))})}),this.updateCache(i,d,ql),d}async factchWarpPoolList(t="",e="",n=!1){const r=await this.factchPoolList(t,n);if(r.length===0)return[];const i=await this.factchTokenList(e,n),s=[];for(const o of r){for(const a of i)a.address===o.coin_a_address&&(o.coinA=a),a.address===o.coin_b_address&&(o.coinB=a);s.push(o)}return s}async getTokenConfigEvent(t=!1){const e=this._sdk.sdkOptions.networkOptions.token.token_deployer,n=`${e}_getTokenConfigEvent`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!t)return r.value;const i=await this._sdk.fullClient.getObject({id:e,options:{showPreviousTransaction:!0}}),s=ry(i),o=await this._sdk.fullClient.queryEvents({query:{Transaction:s}}),a={coin_registry_id:"",pool_registry_id:"",coin_list_owner:"",pool_list_owner:""};return o.data.length>0&&o.data.forEach(c=>{const u=Qt(c.type);if(u.full_address===`${e}::core::InitRegistryEvent`)switch(u.type_arguments[0]){case`${e}::coin_list::CoinKey`:a.coin_registry_id=c.parsedJson.registry_id;break;case`${e}::lp_list::PoolKey`:a.pool_registry_id=c.parsedJson.registry_id;break}else if(u.full_address===`${e}::core::InitListEvent`)switch(u.type_arguments[0]){case`${e}::coin_list::CoinKey`:a.coin_list_owner=c.parsedJson.list_id;break;case`${e}::lp_list::PoolKey`:a.pool_list_owner=c.parsedJson.list_id;break}}),a.coin_registry_id.length>0&&this.updateCache(n,a,ql),a}transformData(t,e){const n={...t};if(e?(n.coin_a_address=Qt(n.coin_a_address).full_address,n.coin_b_address=Qt(n.coin_b_address).full_address):n.address=Qt(n.address).full_address,t.extensions){const r=t.extensions.contents;for(const i of r){const{key:s}=i.fields;let{value:o}=i.fields;if(s==="labels")try{o=JSON.parse(decodeURIComponent(Ih.decode(o)))}catch{}n[s]=o}delete n.extensions}return n}updateCache(t,e,n=Rq){let r=this._cache[t];r?(r.overdueTime=Km(n),r.value=e):r=new gy(e,Km(n)),this._cache[t]=r}getCacheData(t){const e=this._cache[t];return e!==void 0&&e.getCacheData()?e.value:null}},Pq=class{constructor(t){Pt(this,"_fullClient");Pt(this,"_pool");Pt(this,"_position");Pt(this,"_swap");Pt(this,"_resources");Pt(this,"_rewarder");Pt(this,"_router");Pt(this,"_token");Pt(this,"_sdkOptions");Pt(this,"_launchpad");Pt(this,"_senderAddress","");this._sdkOptions=t,this._fullClient=new LN(new m0({fullnode:t.fullRpcUrl,faucet:t.faucetURL})),this._swap=new Iq(this),this._resources=new Aq(this),this._pool=new xq(this),this._position=new Sq(this),this._rewarder=new Eq(this),this._router=new Bq(this),this._token=new $q(this),this._launchpad=new vq(this)}get senderAddress(){return this._senderAddress}set senderAddress(t){this._senderAddress=t}get Swap(){return this._swap}get fullClient(){return this._fullClient}get Resources(){return this._resources}get sdkOptions(){return this._sdkOptions}get Pool(){return this._pool}get Position(){return this._position}get Rewarder(){return this._rewarder}get Router(){return this._router}get Token(){return this._token}get Launchpad(){return this._launchpad}};const Ir="0x473d520316e4ea5550657410669c9da6cde191e570d63d754cee353e11746751",tu=[{address:"0x2::sui::SUI",bridge:"native",coingecko_id:"",decimals:9,logo_url:"",name:"SUI",official_symbol:"SUI",project_url:"",symbol:"SUI"},{address:`${Ir}::btc::BTC`,bridge:"native",coingecko_id:"",decimals:8,logo_url:"https://archive.cetus.zone/assets/mainnet/0x8d87a65ba30e09357fa2edea2c80dbac296e5dec2b18287113500b902942929d::celer_coin_manager::WbtcCoin/icon.png",name:"BTC",official_symbol:"BTC",project_url:"",symbol:"BTC"},{address:`${Ir}::eth::ETH`,bridge:"native",coingecko_id:"",decimals:8,logo_url:"https://archive.cetus.zone/assets/mainnet/0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::WETH/icon.png",name:"ETH",official_symbol:"ETH",project_url:"",symbol:"ETH"},{address:`${Ir}::usdc::USDC`,bridge:"native",coingecko_id:"",decimals:6,logo_url:"https://archive.cetus.zone/assets/mainnet/0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC/icon.png",name:"USDC",official_symbol:"USDC",project_url:"",symbol:"USDC"},{address:`${Ir}::usdt::USDT`,bridge:"native",coingecko_id:"",decimals:6,logo_url:"https://archive.cetus.zone/assets/mainnet/0x8d87a65ba30e09357fa2edea2c80dbac296e5dec2b18287113500b902942929d::celer_coin_manager::UsdtCoin/icon.png",name:"USDT",official_symbol:"USDT",project_url:"",symbol:"USDT"}],Xm=[{address:"0x619f3b9c5dab4d9e230a59264de4acd0065de905d122df7b2fb654de5561389d",coinA:tu.filter(t=>t.address===`${Ir}::usdt::USDT`)[0],coinB:tu.filter(t=>t.address===`${Ir}::usdc::USDC`)[0],coin_a_address:`${Ir}::usdt::USDT`,coin_b_address:`${Ir}::usdc::USDC`,decimals:6,extensions:{data:[]},fee:"0.0001",is_display_rewarder:!1,is_stable:!0,name:"USDT-USDC",project_url:"",rewarder_display1:!1,rewarder_display2:!1,rewarder_display3:!1,sort:0,symbol:"USDT-USDC",tick_spacing:"2",type:"stable"},{address:"0x1120188d956c5321a33240aae427a302568ed98e10ec5faace1fbc5ce5f03bfb",coinA:tu.filter(t=>t.address==="0x2::sui::SUI")[0],coinB:tu.filter(t=>t.address===`${Ir}::usdc::USDC`)[0],coin_a_address:"0x2::sui::SUI",coin_b_address:`${Ir}::usdc::USDC`,decimals:6,extensions:{data:[]},fee:"0.0001",is_display_rewarder:!1,is_stable:!0,name:"SUI-USDC",project_url:"",rewarder_display1:!1,rewarder_display2:!1,rewarder_display3:!1,sort:0,symbol:"SUI-USDC",tick_spacing:"2",type:"stable"}],Cq={data:{list:[{address:"0x619f3b9c5dab4d9e230a59264de4acd0065de905d122df7b2fb654de5561389d",name:"USDT-USDC",recommend_ranges:{suggested:{lower:-1428,max_price:"0.99996919767142857143",min_price:"0.86706929105285714286",raw_lower:-1426,raw_upper:0,upper:2}},type:"stable"}]}},Zm=[{base_symbol:`${Ir}::btc::BTC`,price:"175181.584616",quote_symbol:"USD"},{base_symbol:`${Ir}::eth::ETH`,price:"1471.343485",quote_symbol:"USD"},{base_symbol:`${Ir}::usdc::USDC`,price:"0.998772",quote_symbol:"USD"},{base_symbol:`${Ir}::usdt::USDT`,price:"0.949513",quote_symbol:"USD"},{base_symbol:`${Ir}::busd::BUSD`,price:"1",quote_symbol:"USD"},{base_symbol:"0x2::sui::SUI",price:"1",quote_symbol:"USD"}];function Oq(t){const e={fullRpcUrl:rt[t||"Sui"].rpcUrl,faucetURL:rt[t||"Sui"].rpcUrl,networkOptions:{simulationAccount:{address:rt[t||"Sui"].simulationAccount},token:{token_deployer:rt[t||"Sui"].TokenDeployer,config:rt[t||"Sui"].tokenConfig},launchpad:{ido:rt[t||"Sui"].launchpad.ido,nft_lock:rt[t||"Sui"].launchpad.nft_lock,config:rt[t||"Sui"].launchpad.config},modules:{cetus_clmm:rt[t||"Sui"].cetusClmm,cetus_integrate:rt[t||"Sui"].cetusIntegrate,integer_mate:rt[t||"Sui"].integerMate,config:{global_config_id:rt[t||"Sui"].clmmConfig.global_config_id,pools_id:rt[t||"Sui"].clmmConfig.pools_id}}}};console.log("defaultNetworkOptions####",e);const n=Jm(new Pq(e)),r=O2(),i=lh(()=>r),s=Ym(),o=lh(()=>s);lx(()=>{i.value.address&&(n.senderAddress=i.value.address)});const{$notify:a}=Ea(),c=te=>{const{$notify:F}=Ea();F.success({key:te.hash+"loading",icon:_t("img",{class:{"notify-icon":!0,"loading-animate":!0},src:o.value.theme=="default"?"/image/img-loading@2x.png":"/sui-image/img-loading.png"}),message:_t("div",{class:"notification-title"},[_t("span",{innerHTML:te.title},null)]),description:_t("div",{class:"notification-title"},[_t("div",{class:"notification-text",innerHTML:jr.global.t("newAdd.confirmingTransaction")},null),_t("a",{href:`https://explorer.sui.io/transaction/${window.encodeURIComponent(te.hash)}?network=${rt[t||"Sui"].network}`,target:"_blank",innerHTML:jr.global.t("common.viewTransaction")},null)]),duration:0,class:"ant-notification-copy ant-notification-swap"})},u=te=>{a.success({icon:_t("svg",{class:{icon:!0},"aria-hidden":!0},[_t("use",{"xlink:href":"#icon-icon-change1"})]),message:_t("div",{class:"notification-title"},[_t("span",{innerHTML:`${te.title} `+jr.global.t("newAdd.success")},null)]),description:_t("div",{class:"notification-title"},[_t("div",{class:"notification-text",innerHTML:te.desc},null),_t("a",{href:`https://explorer.sui.io/transaction/${window.encodeURIComponent(te.hash)}?network=${rt[t||"Sui"].network}`,target:"_blank",innerHTML:jr.global.t("common.viewTransaction")},null)]),duration:4.5,class:"ant-notification-copy ant-notification-swap"})},l=te=>{a.error({icon:_t("svg",{class:{icon:!0},"aria-hidden":!0},[_t("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:_t("div",{class:"notification-title"},[_t("span",{innerHTML:`${te} `+jr.global.t("newAdd.failed")},null)]),description:jr.global.t("newAdd.somethingWrong"),duration:4.5,class:"ant-notification-copy ant-notification-error"})},d=async(te,F=!1)=>{var ee,ie,le;const{$notify:Y}=Ea();try{let oe={};if(te.res)oe=te.res;else{const pe=await iu(2e3);oe=await n.Resources.getSuiTransactionResponse(te.hash)}if(((ie=(ee=oe==null?void 0:oe.effects)==null?void 0:ee.status)==null?void 0:ie.status)==="success"){Y.close(te.hash+"loading"),u(te);const pe={walletAddress:r.address,chainName:"Sui",...te,...oe,date:new Date().getTime()+6048e5};if(s.setTransactionList(pe),F)if(console.log("0222###watchTransaction###isGetNftInfo true###res####",oe),oe.events){const Re=oe.events.filter(Te=>Te.type.includes("CreateTokenDataEvent"));return{status:!0,nftInfo:(le=Re==null?void 0:Re.moveEvent)==null?void 0:le.fields}}else return{status:!0,nftInfo:oe.effects.events};return!0}else{if(oe&&oe.effects&&oe.effects.status&&oe.effects.status.status!=="success")return Y.close(te.hash+"loading"),l(te.title),!1;setTimeout(()=>d(te),3e3)}}catch(oe){return console.log("watchTransaction###error###",oe),Y.close(te.hash+"loading"),Y.error({icon:_t("svg",{class:{icon:!0},"aria-hidden":!0},[_t("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:_t("div",{class:"notification-title"},[_t("span",{innerHTML:`${te.title} Failed`},null)]),duration:4.5,description:"Something went wrong",class:"ant-notification-copy ant-notification-error"}),!0}},f=async(te,F=!1)=>{var ee,ie;await iu(2e3);const Y=await n.Resources.getSuiTransactionResponse(te.hash);if(((ie=(ee=Y==null?void 0:Y.effects)==null?void 0:ee.status)==null?void 0:ie.status)==="success"){a.close(te.hash+"loading"),u(te);const le={walletAddress:r.address,chainName:"Sui",...te,...Y,date:new Date().getTime()+6048e5};s.setTransactionList(le)}},p=async(te,F)=>{var le,oe,pe,Ee,Re,Te,Fe;const Y=i.value.assets[te];if(!Y)return[];console.log("0313###getCoinId####coinItem###",Y);const ee=Y.objects.filter(Se=>Se.balance&&Se.balance!=="0");console.log("0313###getCoinId####coinItemObjectList###",ee),console.log("0313###getCoinId####address###",te),console.log("0313###getCoinId####amount###",F);const ie=ee.reduce((Se,ke)=>Number(Se.balance)<Number(ke.balance)?ke:Se);if(console.log("0313###getCoinId####maxObject###",ie),dt(F).lte(dt(ie.balance))&&ee.length>1)return console.log("0313###getCoinId##111111###if"),[ie==null?void 0:ie.coinObjectId];{console.log("0313###getCoinId##111111###else");const Se=[];if(te==="0x2::sui::SUI"){const ke=ee.sort((qe,He)=>Number(qe.balance)-Number(He.balance));let Ze=dt(0);for(let qe=0;qe<ke.length;qe++){const He=ke[qe];if(Ze.lte(dt(F)))Se.push((pe=(oe=(le=He==null?void 0:He.data)==null?void 0:le.fields)==null?void 0:oe.id)==null?void 0:pe.id),Ze=Ze.plus(dt(He.balance));else break}if(Se.length===ke.length){console.log("0313###getCoinId###need to split##newCoinObjects###",ke);const qe=await w((Fe=(Te=(Re=(Ee=ke[ke.length-1])==null?void 0:Ee.data)==null?void 0:Re.fields)==null?void 0:Te.id)==null?void 0:Fe.id,ke[ke.length-1].balance);console.log("0313###getCoinId###splitId###",qe)}return console.log("0313###getCoinId###",Se),Se}else return ee.forEach(ke=>{Se.push(ke==null?void 0:ke.coinObjectId)}),Se}},w=async(te,F)=>{var ie,le;console.log("0313####splitCoinObject###coinID###",te),console.log("0313####splitCoinObject###amount###",F),console.log("0315###transferSui###data###",{suiObjectId:te,gasBudget:1e3,recipient:i.value.address,amount:5e4});const Y={kind:"transferSui",data:{suiObjectId:te,gasBudget:1e3,recipient:i.value.address,amount:5e4}},ee=new gm;ee.moveCall({target:`${rt[t||"Sui"].faucetObjectId}::${info.transactionModule}::faucet`,typeArguments:[],arguments:[ee.pure(info.suplyID)]});try{const oe=await i.value.currentWallet.signAndExecuteTransactionBlock(Y);console.log("0313###splitCoinObject###res###",oe),console.log("0313###splitCoinObject###res###",(ie=oe==null?void 0:oe.effects)==null?void 0:ie.created);const pe=(le=oe==null?void 0:oe.effects)==null?void 0:le.events;for(let Ee=0;Ee<pe.length;Ee++)if(pe[Ee].coinBalanceChange.changeType==="Receive"&&pe[Ee].coinBalanceChange.amount===5e4)return pe[Ee].coinBalanceChange.coinObjectId;return""}catch(oe){console.log("3013###splitCoinObject##error###",oe)}return[]},m=async(te,F,Y)=>{var oe,pe,Ee,Re,Te,Fe,Se,ke,Ze,qe,He,an,ct,St,_n,yt,Mt,Ti,rn,cn,Ai,Kt;const ee=i.value.address;let ie={};te!=="0x2::sui::SUI"?ie={kind:"pay",data:{inputCoins:F,recipients:[ee],amounts:[Number(Y)],gasBudget:1e5}}:ie={kind:"payAllSui",data:{inputCoins:F,recipient:ee,gasBudget:1e3}};const le=await i.value.currentWallet.signAndExecuteTransaction(ie);if(((pe=(oe=le==null?void 0:le.effects)==null?void 0:oe.status)==null?void 0:pe.status)==="success"||((Fe=(Te=(Re=(Ee=le==null?void 0:le.EffectsCert)==null?void 0:Ee.effects)==null?void 0:Re.effects)==null?void 0:Te.status)==null?void 0:Fe.status)==="success")if(te!=="0x2::sui::SUI"){const jt=((Ze=(ke=(Se=le==null?void 0:le.effects)==null?void 0:Se.created[0])==null?void 0:ke.reference)==null?void 0:Ze.objectId)||((St=(ct=(an=(He=(qe=le==null?void 0:le.EffectsCert)==null?void 0:qe.effects)==null?void 0:He.effects)==null?void 0:an.created[0])==null?void 0:ct.reference)==null?void 0:St.objectId);if(jt)return jt}else{const jt=((Mt=(yt=(_n=le==null?void 0:le.effects)==null?void 0:_n.mutated[0])==null?void 0:yt.reference)==null?void 0:Mt.objectId)||((Kt=(Ai=(cn=(rn=(Ti=le==null?void 0:le.EffectsCert)==null?void 0:Ti.effects)==null?void 0:rn.effects)==null?void 0:cn.mutated[0])==null?void 0:Ai.reference)==null?void 0:Kt.objectId);if(jt)return jt}else{l("MergeCoin Error");return}},v=async te=>{console.log(n,n.Resources,"sdk.Resourcessdk.Resources");try{r.setLoading(!0);const F=await n.Resources.getOwnerCoinAssets(te);console.log("0329###getAccount###list###",F);const Y={};return F.forEach(ee=>{var ie,le;if(ee&&ee.coinAddress){const oe=ee?ee.balance.toString():"0",pe={...ee,balance:oe};Y[ee.coinAddress]={...ee,balance:(ie=Y[ee.coinAddress])!=null&&ie.balance?dt(oe).plus(Y[ee.coinAddress].balance).toString():oe,objects:(le=Y[ee.coinAddress])!=null&&le.objects?[...Y[ee.coinAddress].objects,pe]:[pe]}}}),r.setAssets(Y),r.setLoading(!1),Y}catch{r.setLoading(!1)}},k=async()=>new Promise(te=>{setTimeout(()=>{te(tu)},1e3)}),E=async()=>new Promise(te=>{setTimeout(()=>{console.log("0216###getLpList###sui####",Xm),te(Xm)},1e3)}),b=async(te=[])=>{const F=await n.Resources.getPools(te);if(console.log("0330###getPools###pools###",F),te.length===0){const Y={};return F.forEach(ee=>{Y[ee.poolAddress]={...ee,rate:dt(ee.fee_rate).div(Math.pow(10,6)).toString()}}),Y}else return F},x=async te=>await n.Resources.getPool(te),T=te=>{const F=new gm;return F.moveCall({target:`${rt[t||"Sui"].faucetObjectId}::${te.transactionModule}::faucet`,typeArguments:[],arguments:[F.pure(te.suplyID)]}),{transactionBlock:F,options:{showEffects:!0}}},$=te=>{var Y,ee;let F;return te!=null&&te.digest&&(F={hash:te==null?void 0:te.digest,status:(ee=(Y=te==null?void 0:te.effects)==null?void 0:Y.status)==null?void 0:ee.status,res:te}),F},L=async te=>{try{console.log("0330###getTicks###params###",{pool_id:te.poolAddress,coinTypeA:te.coinTypeA,coinTypeB:te.coinTypeB});const F=await n.Pool.fetchTicks({pool_id:te.poolAddress,coinTypeA:te.coinTypeA,coinTypeB:te.coinTypeB});return console.log("0330###getTicks####sui####",F),F}catch(F){console.log("0330###getTicks Error###",F)}},z=async(te,F,Y,ee)=>await yq(te,F,Y,ee),J=te=>{const{pool:F,position:Y,roundUp:ee}=te,ie=Number(Y.tick_lower_index),le=Number(Y.tick_upper_index),oe=Wt.tickIndexToSqrtPriceX64(ie),pe=Wt.tickIndexToSqrtPriceX64(le),Ee=xo.getCoinAmountFromLiquidity(new R(Y.liquidity),new R(F.current_sqrt_price),oe,pe,ee),Re=xr(Ee.coinA.toString(),F.coinA.decimals),Te=xr(Ee.coinB.toString(),F.coinB.decimals);return{coinaAmount:Re,coinbAmount:Te}},Z=te=>{const{tokenA:F,tokenB:Y,lowerTick:ee,upperTick:ie,coinAmount:le,iscoinA:oe,roundUp:pe,slippage:Ee,curSqrtPrice:Re}=te;console.log("0403###estLiquidityAndcoinAmountFromOneAmounts###params###",te);const Te=xo.estLiquidityAndcoinAmountFromOneAmounts(ee,ie,le,oe,pe,Ee,Re),Fe=F.decimals,Se=Y.decimals,{tokenMaxA:ke,tokenMaxB:Ze,liquidityAmount:qe}=Te;return{tokenMaxAOrigin:ke.toString(),tokenMaxBOrigin:Ze.toString(),tokenMaxA:xr(ke.toString(),Fe),tokenMaxB:xr(Ze.toString(),Se),liquidityAmount:qe}},U=async te=>{console.log("0330###getAddLiquidityTransactionPayload###params###",te);const{pool:F,amount:Y,fix_amount_a:ee,roundUp:ie,tick_lower:le,tick_upper:oe,index:pe,slippage:Ee}=te,Re=await x(F.poolAddress),Te=ee?Sr(Y,F.token_a.decimals):Sr(Y,F.token_b.decimals),Fe=Wt.sqrtPriceX64ToTickIndex(new R(Re.current_sqrt_price));let Se,ke;if(Fe>le&&Fe<oe){const qe=xo.estLiquidityAndcoinAmountFromOneAmounts(le,oe,new R(Te.toString()),ee,ie,Ee,new R(Re.current_sqrt_price));Se=ee?Te.toNumber():qe.tokenMaxA.toNumber(),ke=ee?qe.tokenMaxB.toNumber():Te.toNumber()}else Fe>=oe?(Se=0,ke=Te.toNumber()):Fe<=le&&(Se=Te.toNumber(),ke=0);console.log("0330###createAddLiquidityTransactionPayload###params###",{coinTypeA:F.token_a.address,coinTypeB:F.token_b.address,pool_id:F.poolAddress,tick_lower:le,tick_upper:oe,fix_amount_a:ee,amount_a:Se,amount_b:ke,is_open:!pe,pos_id:pe});const Ze=await n.Position.createAddLiquidityTransactionPayload({coinTypeA:F.token_a.address,coinTypeB:F.token_b.address,pool_id:F.poolAddress,tick_lower:le,tick_upper:oe,fix_amount_a:ee,amount_a:Se,amount_b:ke,is_open:!pe,pos_id:pe});return console.log("0330###sui##getAddLiquidityTransactionPayload###",Ze),{transactionBlock:Ze,options:{showEffects:!0,showEvents:!0}}},D=(te,F,Y)=>{const ee=Wt.sqrtPriceX64ToPrice(new R(te.current_sqrt_price),te.coinA.decimals,te.coinB.decimals).toNumber(),ie=Y?ee:1/ee,le=Math.abs(ie-Number(F))/Number(F)*100;return Number(dn(le,2))},B=async te=>{const{pool:F,a2b:Y,byAmountIn:ee,amount:ie}=te;console.log("0221###sui###preSwap###",te);const le=F.coinA.decimals,oe=F.coinB.decimals,pe=F!=null&&F.current_sqrt_price?F:await x(F.address);let Ee;Y&&ee||!Y&&!ee?Ee=Sr(ie,le):Ee=Sr(ie,oe);const Re=await n.Swap.preswap({pool:pe,current_sqrt_price:pe.current_sqrt_price,coinTypeA:pe.coinTypeA,coinTypeB:pe.coinTypeB,decimalsA:le,decimalsB:oe,a2b:Y,by_amount_in:ee,amount:Ee.toString()});return console.log("0221###sui###preSwap###result###",Re),{...Re,estimatedAmountIn:Qs(xr(Re.estimatedAmountIn.toString(),Y?le:oe),Y?le:oe),estimatedAmountOut:Qs(xr(Re.estimatedAmountOut.toString(),Y?oe:le),Y?oe:le),priceImpactPct:dn(Re.priceImpactPct,2)}},h=async te=>{const{pool:F,a2b:Y,byAmountIn:ee,amount:ie,slippage:le}=te,oe=F.poolAddress,pe=F.token_a.decimals,Ee=F.token_b.decimals;let Re;Y&&ee||!Y&&!ee?Re=Sr(ie,pe):Re=Sr(ie,Ee);const Te=await n.Swap.preswap({pool:F,current_sqrt_price:F.current_sqrt_price,coinTypeA:F.coinTypeA,coinTypeB:F.coinTypeB,decimalsA:pe,decimalsB:Ee,a2b:Y,by_amount_in:ee,amount:Re.toString()});console.log("0221###sui###getSwapTransactionPayload###preSwapRes###",Te),console.log("0221###sui###getSwapTransactionPayload###preSwapRes.estimatedAmountOut###",Te.estimatedAmountOut.toString()),console.log("0221###sui###getSwapTransactionPayload###preSwapRes.estimatedAmountIn###",Te.estimatedAmountIn.toString());const Fe=dt(Te.estimatedAmountOut.toString()),Se=dt(Te.estimatedAmountIn.toString()),ke=ee?Fe.sub(Fe.mul(le)):Se.add(Se.mul(le));console.log("0221###sui###amountLimit####",ke.toString()),console.log("0221###sui###swap##params###",{pool_id:oe,a2b:Te.aToB,by_amount_in:Te.byAmountIn,amount:Te.amount.toString(),amount_limit:dn(ke.toString(),0)||"",coinTypeA:F.token_a.address,coinTypeB:F.token_b.address});const Ze=await n.Swap.createSwapTransactionPayload({pool_id:oe,a2b:Te.aToB,by_amount_in:Te.byAmountIn,amount:Te.amount.toString(),amount_limit:dn(ke.toString(),0)||"",coinTypeA:F.token_a.address,coinTypeB:F.token_b.address},2e4);return console.log("0221###sui###swap##tx###",Ze),{transactionBlock:Ze,options:{showEffects:!0}}},g=async(te,F)=>{const Y=Object.values(F).map(ie=>ie.poolAddress);console.log("0221###sui###getPositionList###account###",te),console.log("0221###sui###getPositionList###poolList###",Y);const ee=await n.Resources.getPositionList(te,Y);return console.log("0221###sui###getPositionList###list###",ee),ee},S=async(te,F,Y,ee="")=>(console.log("0222###getPositionInfo###pool###",te),console.log("0222###getPositionInfo###pos###",ee),{...await n.Resources.getPosition(te.positions_handle,ee),tokenName:Y,collectionName:F}),I=async(te,F)=>(console.log(te,F,"getTickDataByIndex"),await n.Pool.getTickDataByIndex(te,F)),N=async te=>{console.log(te,"params====>");const{pool:F,position:Y,tickLowerData:ee,tickUpperData:ie}=te,le=await x(F.poolAddress),oe=_q({clmmpool:le,position:Y,tickLower:ee,tickUpper:ie}),pe=xr(oe.feeOwedA.toString(),F.token_a.decimals),Ee=xr(oe.feeOwedB.toString(),F.token_b.decimals);return console.log("0118###useApots###result.feeOwedA.toString()###",oe.feeOwedA.toString()),console.log("0118###useApots###result.feeOwedB.toString()###",oe.feeOwedB.toString()),console.log("0118###useApots###feeOwedA###",pe),console.log("0118###useApots###feeOwedB###",Ee),{feeOwedA:Number(pe)>99999999999||Number(pe)<0?"0":pe,feeOwedB:Number(Ee)>99999999999||Number(Ee)<0?"0":Ee}},H=async te=>{console.log("0331###getPosRewardersAmount###",H);const{poolAddress:F,pos:Y,positionHandle:ee}=te;return await n.Rewarder.posRewardersAmount(F,ee,Y)};return{setTransations:f,showTransitionPending:c,showTransitionSuccess:u,showTransitionError:l,watchTransaction:d,getCoinId:p,mergeCoinObject:m,getAccount:v,getTokenList:k,getLpList:E,getPools:b,getPool:x,mintCoin:T,handleTx:$,TickUtil:QN,TickMath:Wt,getNearestTickByTick:eq,getTicks:L,getEstPositionAPRWithMulti:z,getCoinAmountFromLiquidity:J,estLiquidityAndcoinAmountFromOneAmounts:Z,getAddLiquidityTransactionPayload:U,getTickDataFromUrlData:lq,getPriceImpactPct:D,preSwap:B,getSwapTransactionPayload:h,getPositionList:g,getTickDataByIndex:I,getCollectFeesQuote:N,getPosRewardersAmount:H,getNftHash:te=>te.pos_object_id,getPositionInfo:S,getRemoveLiquidityTransactionPayload:async te=>{const{pool:F,coinTypeA:Y,coinTypeB:ee,coinTypeC:ie,coinTypeD:le,coinTypeE:oe,position:pe,delta_liquidity:Ee,rewards_num:Re}=te,Te=await x(F.poolAddress),Fe={...F,...Te},Se=Number(pe.tick_lower_index),ke=Number(pe.tick_upper_index),Ze=Wt.tickIndexToSqrtPriceX64(Se),qe=Wt.tickIndexToSqrtPriceX64(ke),He=xo.getCoinAmountFromLiquidity(Ee,new R(Fe.current_sqrt_price),Ze,qe,!0),an=dt(He.coinA.toString()).mul(dt(1-te.slippage)),ct=dt(He.coinB.toString()).mul(dt(1-te.slippage)),_n=[Y,ee,ie,le,oe].filter(Mt=>!!Mt);let yt;if(console.log("0331###remove###params###",{coin_types:_n,min_amount_a:dn(an.toString(),0),min_amount_b:dn(ct.toString(),0),pool_id:F.poolAddress,pos_id:te.position.pos_object_id}),console.log("0331###delta_liquidity.toString()###",Ee.toString()),console.log("0331###position.liquidity###",pe.liquidity),Ee.toString()===pe.liquidity){const Mt=[];ie&&Mt.push(ie),le&&Mt.push(le),oe&&Mt.push(oe),yt=await n.Position.closePositionTransactionPayload({coinTypeA:Y,coinTypeB:ee,min_amount_a:dn(an.toString(),0),min_amount_b:dn(ct.toString(),0),rewarder_coin_types:[...Mt],pool_id:F.poolAddress,pos_id:te.position.pos_object_id})}else yt=await n.Position.removeLiquidityTransactionPayload({coinTypeA:Y,coinTypeB:ee,delta_liquidity:Ee.toString(),min_amount_a:dn(an.toString(),0),min_amount_b:dn(ct.toString(),0),pool_id:F.poolAddress,pos_id:te.position.pos_object_id});return console.log("0331###remove###result####",yt),{transactionBlock:yt,options:{showEffects:!0,showEvents:!0}}},getCollectRewarderTransactionPayload:async te=>{const F=[];return te.coinTypeC&&F.push(te.coinTypeC),te.coinTypeD&&F.push(te.coinTypeD),te.coinTypeE&&F.push(te.coinTypeE),{transactionBlock:await n.Rewarder.collectRewarderTransactionPayload({pool_id:te.pool_address,pos_id:te.pos_index,rewarder_coin_types:[...F],coinTypeA:te.coinTypeA,coinTypeB:te.coinTypeB,collect_fee:!1}),options:{showEffects:!0,showEvents:!0}}},getCollectFeeTransactionPayload:async te=>{console.log("1130###getCollectFeeTransactionPayload###params",{pool:te.pool.poolAddress,coinTypeA:te.pool.token_a.address,coinTypeB:te.pool.token_b.address,pos_index:te.position.index});const F=await n.Position.collectFeeTransactionPayload({coinTypeA:te.pool.token_a.address,coinTypeB:te.pool.token_b.address,pool_id:te.pool.poolAddress,pos_id:te.position.pos_object_id});return console.log("1130###getCollectFeeTransactionPayload###result##",F),{transactionBlock:F,options:{showEffects:!0,showEvents:!0}}},getTokenListByCoinType:async()=>[],getPoolImmutables:async()=>await n.Resources.getPoolImmutables(),estimateLiquidityForCoinA:Ta,estimateLiquidityForCoinB:Aa,getCreatPoolTransactionPayload:async te=>{const{coinTypeA:F,coinTypeB:Y,tick_lower:ee,tick_upper:ie,tick_spacing:le,initialize_sqrt_price:oe,max_amount_a:pe,max_amount_b:Ee,slippage:Re,fix_amount_a:Te,decimalsA:Fe,decimalsB:Se,liquidityInput:ke}=te;console.log(te,"params===>");const Ze=Te?Sr(pe,Fe):Sr(Ee,Se);console.log(Ze,"===>coinAmount");const qe=Wt.sqrtPriceX64ToTickIndex(new R(oe));let He,an;const ct=Wt.tickIndexToSqrtPriceX64(ee),St=Wt.tickIndexToSqrtPriceX64(ie);console.log(ct,"===>minPriceX64"),console.log(St,"===>maxPriceX64");let _n;return qe>ee&&qe<ie?(_n=xo.estLiquidityAndcoinAmountFromOneAmounts(ee,ie,new R(Ze.toString()),Te,!0,Re,new R(oe)),He=Te?Ze.toNumber():_n.tokenMaxA.toNumber(),an=Te?_n.tokenMaxB.toNumber():Ze.toNumber()):qe>=ie?(_n=Aa(ct,St,new R(Ze.toString())),He=new R(ke.tokenMaxA*Math.pow(10,Fe)),an=new R(ke.tokenMaxB*Math.pow(10,Se))):qe<=ee&&(_n=Ta(ct,St,new R(Ze.toString())),He=new R(ke.tokenMaxA*Math.pow(10,Fe)),an=new R(ke.tokenMaxB*Math.pow(10,Se))),{transactionBlock:await n.Pool.creatPoolTransactionPayload({tick_spacing:le,initialize_sqrt_price:oe.toString(),uri:"",fix_amount_a:Te,amount_a:He,amount_b:an,tick_lower:ee,tick_upper:ie,coinTypeA:F,coinTypeB:Y}),options:{showEffects:!0,showEvents:!0}}},getTokenListByCoinTypes:async te=>{try{const F=await n.Token.getTokenListByCoinTypes([te]);return Object.values(F)}catch{return[]}}}}function oi(t){let e={};return!t||t==="Aptos"?e=R9():e=Oq(t),{...e}}const RH=hp("pool",{state:()=>({tokens:[],tokensObj:{},newTokens:[],newTokenObj:{},tokensNameObj:{},pools:[],poolsObj:{},myPositions:[],addressLpTokens:{},addressTokens:{},currentPositionLoading:!1,myPositionsLoading:!0,poolsLoading:!0,RATES:{},currentPositionInfo:{},poolConfigList:[],feeOwedObj:{},rewarderObj:{},chinaTokens:[],chinaTokensObj:{},getPoolInfoSuccess:!1,recommendRangesObj:{},allTokenObj:{},isTokenLoading:!0,poolPriceConfigObj:{},defaultPoolInfo:{}}),actions:{async setPoolsObj(t){this.poolsObj=t},async setChainPoolConfigList(t){this.poolConfigList=t,this.pools=t},async setPoolConfigList(t){const n=await oi(t).getLpList(),r=[];n.forEach(i=>{r.push({...i,token_a:{...i.coinA,logoURI:i.coinA.logo_url},token_b:{...i.coinB,logoURI:i.coinB.logo_url},isFarming:i.is_display_rewarder&&(i.rewarder_display1||i.rewarder_display2||i.rewarder_display3),chain:t==="Aptos"?"aptos":"sui"})}),console.log("0314###setPoolConfigList####list###",r),this.poolConfigList=r},async newSetPools1(t,e){this.poolsLoading=!0,this.getPoolInfoSuccess=!1,this.poolsObj={};const n=oi(e),r=this;t&&t.length>0&&t.forEach(async(i,s)=>{(function(o,a){setTimeout(async function(){const c=await n.getPools([a.address]);r.poolsObj[c[0].poolAddress]={...a,...c[0],fee:c[0].fee_rate/1e6},r.addressLpTokens=r.poolsObj,r.poolsLoading=!1,Object.values(r.poolsObj).length==r.poolConfigList.length&&(r.getPoolInfoSuccess=!0,console.log(r.getPoolInfoSuccess,"===>>_this.getPoolInfoSuccess "),console.log(r.poolsObj,"==>_this.poolsObj"))},1e3*o)})(s,i)})},async getRecommendRanges(t){var n;let e=null;if(t&&t.includes("Sui")?e=Cq:e=await $fetch(`${rt.Aptos.api}/v2/liquidity/recommend_ranges`),(n=e==null?void 0:e.data)!=null&&n.list){const r=Object.fromEntries(e.data.list.map((i,s)=>[i.address,i]));this.recommendRangesObj=r,this.poolPriceConfigObj=r}else this.recommendRangesObj={},this.poolPriceConfigObj={}},async newSetPools(t,e){this.poolsLoading=!0,this.getPoolInfoSuccess=!1,this.poolsObj={};const n=oi(e);if(t&&t.length>0){for(let r=0;r<t.length;r++){const i=t[r],s=await n.getPools([i.address]);this.defaultPoolInfo[s[0].poolAddress]=s[0],this.poolsObj[s[0].poolAddress]={...i,...s[0],fee:s[0].fee_rate/1e6},this.addressLpTokens=this.poolsObj,this.poolsLoading=!1,await iu(500)}this.getPoolInfoSuccess=!0}},async setSinglePool(t,e,n){const i=await oi(n).getPool(t.address),s={...t,...i,fee:i.fee_rate/1e6,priceConfigObj:e.recommend_ranges||{},type:e.type||""};this.poolsObj[t.address]=s,this.addressLpTokens[t.address]=s},async setPools(t,e){console.log("0116####setPools###poolConfigList###",t),this.poolsLoading=!0;let n={};console.log("0216###getPools###chainName####",e),e&&e.includes("Sui")?n=await $fetch(`${rt[e].api}/v2/sui/liquidity/recommend_ranges`):n=await $fetch(`${rt.Aptos.api}/v2/liquidity/recommend_ranges`);const r=Object.fromEntries(n.data.list.map((l,d)=>[l.address,l])),s=(t||this.poolConfigList).map(l=>({...l,token_a:l.coinA,token_b:l.coinB,priceConfigObj:r&&r[l.address]&&r[l.address].recommend_ranges,type:r&&r[l.address]&&r[l.address].type}))||[],a=await oi(e).getPools();console.log("1221###poolsObj####",a);const c=[],u={};console.log(s,"===>basePoolList"),s.forEach(l=>{const d=a[l.address]||{};console.log(a[l.address],"===poolsObj[item.address]");const f={...l,...d,fee:d.rate*100,tickSpacing:Number(d.tickSpacing)};c.push(f),u[C2(d.poolAddress)]=f}),this.pools=c,this.poolsObj=u,console.log(c,"====>result"),Object.fromEntries(c.map(l=>[l.poolAddress,l])),this.addressLpTokens=u,this.poolsLoading=!1,c.length<=0&&this.setMyPositionsLoading(!1)},async updateCurrentPools(t,e){const n=oi(e),r=this.poolsObj[t];if(r){let i={};e&&e.includes("Sui")?i=await n.getPool(r.poolAddress):i=await n.getPoolState(r.poolAddress,r.poolType,!1);const s={...this.poolsObj},o={...s[t],...i};s[t]={...o},this.poolsObj=s}},async setTokens(t){const e=[],r=await oi(t).getTokenList();console.log(r,"res====>"),r.forEach(i=>{e.push({...i,logoURI:i.logo_url,chain:t.toLowerCase()})}),this.tokens=e,this.tokensObj=Object.fromEntries(e.map((i,s)=>[i.address,i])),this.tokensNameObj=Object.fromEntries(e.map((i,s)=>[i.address,i])),this.newTokenObj=Object.fromEntries(e.map((i,s)=>[i.address,i])),this.isTokenLoading=!1,this.newTokens=e},async setChinaTokens(t){const n=await oi(t).getTokenListByCoinType();console.log(n,"chinares===>");const r=[];n.forEach(i=>{r.push({...i,logoURI:t=="Aptos"?"https://archive.cetus.zone/assets/image/default1.png":"https://archive.cetus.zone/assets/image/default2.png",logo_url:t=="Aptos"?"https://archive.cetus.zone/assets/image/default1.png":"https://archive.cetus.zone/assets/image/default2.png"})}),this.chinaTokens=r,this.chinaTokensObj=Object.fromEntries(r.map((i,s)=>[i.address,i]))},setCurrentPositionLoading(t){this.currentPositionLoading=t},setMyPositionsLoading(t){this.myPositionsLoading=t},async setRates(t){let e={};if(t&&t.includes("Sui"))try{e={data:{prices:Zm}}}catch(r){console.log("sui pric api error ###",r),e={data:{prices:Zm}}}else e=await $fetch(`${rt.Aptos.api}/v2/price`);const n=e.data.prices||[];this.RATES=Object.fromEntries(n.map(r=>[r.base_symbol=="0x0000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":r.base_symbol,{...r,base_symbol:r.base_symbol=="0x0000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":r.base_symbol}])),console.log(this.RATES,"===>this.RATES")},async getMyPositons(t,e,n){this.setMyPositionsLoading(!0);const r=oi(n),i=await r.getPositionList(t,e)||[];i.length<1&&this.setMyPositionsLoading(!1);const s=[];i.forEach(a=>{const c=this.poolsObj[a.pool];let u,l,d,f="",p,w,m,v;if(a.liquidity&&a.liquidity!=="0"&&c){const k={creator:a.creator,collection:a.collection,name:a.name};n==="Aptos"?v=r.getNftHash(k):v=r.getNftHash(a);const E=c.token_a.decimals,b=c.token_b.decimals;d=Qs(r.TickMath.sqrtPriceX64ToPrice(c.current_sqrt_price,E,b).toString(),6),u=r.TickMath.tickIndexToPrice(Number(a.tick_lower_index),E,b).toString(),l=r.TickMath.tickIndexToPrice(Number(a.tick_upper_index),E,b).toString();const x=r.getCoinAmountFromLiquidity({pool:c,position:a,roundUp:!0}),T=x.coinaAmount,$=x.coinbAmount,L=Number($)+Number(T)*Number(d),z=(Number(d)/L*100).toFixed(0),J=($/L*100).toFixed(0);c.isPause?f="Closed":Number(d)>=Number(u)&&Number(d)<=Number(l)?f="Active":(Number(d)>Number(l)||Number(d)<Number(u))&&(f="Inactive"),console.log("0323###this.tokensObj####",this.tokensObj),console.log("0323###this.tokensObj[poolInfo.token_a.address]####",this.tokensObj[c.token_a.address]),console.log("0323###poolInfo.token_a.address####",c.token_a.address),console.log("0323###poolInfo.token_b.address####",c.token_b.address),s.push({...a,...c,token_a:{...c.token_a,...this.tokensObj[c.token_a.address],logoURI:this.tokensObj[c.token_a.address].logo_url},token_b:{...c.token_b,...this.tokensObj[c.token_b.address],logoURI:this.tokensObj[c.token_b.address].logo_url},tokenARates:p,tokenBRates:w,amountA:T,amountB:$,fromPercent:z,toPercent:J,amountUSD:m,tokenName:a.tokenName||a.name,currentStatus:f,positionLiquidity:a.liquidity,nftHash:v,currentPrice:dn(d,12),minPrice:dn(u,12),maxPrice:dn(l,12)})}});const o=s.sort((a,c)=>c.amountUSD-a.amountUSD);this.myPositions=o,this.setMyPositionsLoading(!1),this.getPendingFees(o,n),this.getRewarder(o,n),console.log(o,"===>this.myPositions")},async setCurrentPositionInfo(t,e,n,r,i=""){const s=oi(r);console.log("0309###setCurrentPositionInfo###addressLpTokens####",this.addressLpTokens),console.log("0309###setCurrentPositionInfo###poolAddress####",t);const o=this.addressLpTokens&&this.addressLpTokens[t];console.log("0309###setCurrentPositionInfo###poolInfoOld####",o);const a=await s.getPool(t);console.log("0309###setCurrentPositionInfo###poolInfoNew####",a);const c={...o,...a},u=await s.getPositionInfo(c,e,n,i);if(u&&c){let l,d,f,p="",w,m,v,k,E,b,x,T=0,$=0,L;const z={creator:u.pool,collection:u.collectionName,name:u.name};if(r==="Aptos"?L=s.getNftHash(z):L=s.getNftHash(u),c){try{const g=await s.getTickDataByIndex(c.ticks_handle,Number(u.tick_lower_index)),S=await s.getTickDataByIndex(c.ticks_handle,Number(u.tick_upper_index)),I=await s.getCollectFeesQuote({pool:c,position:u,tickLowerData:g,tickUpperData:S});I&&(T=Number(I.feeOwedA),$=Number(I.feeOwedB))}catch(g){console.log("0314###getCollectFeesQuote###error####",g)}console.log("0309###setCurrentPositionInfo###poolInfo###",c);const J=c.token_a.decimals,Z=c.token_b.decimals;f=Qs(s.TickMath.sqrtPriceX64ToPrice(c.current_sqrt_price,J,Z).toString(),6),l=s.TickMath.tickIndexToPrice(Number(u.tick_lower_index),J,Z).toString(),d=s.TickMath.tickIndexToPrice(Number(u.tick_upper_index),J,Z).toString(),w=u.tick_lower_index,m=u.tick_upper_index;const U=s.getCoinAmountFromLiquidity({pool:c,position:u,roundUp:!0});b=U.coinaAmount,x=U.coinbAmount;const D=Number(x)+Number(b)*Number(f),B=(Number(b)*Number(f)/D*100).toFixed(0),h=(Number(x/Number(D))*100).toFixed(0);c.isPause?p="Closed":Number(f)>=Number(l)&&Number(f)<=Number(d)?p="Active":(Number(f)>Number(d)||Number(f)<Number(l))&&(p="Inactive"),this.setCurrentPositionLoading(!1),this.currentPositionInfo={...u,poolInfo:c,token_a:{...c.token_a,...this.tokensObj[c.token_a.address]},token_b:{...c.token_b,...this.tokensObj[c.token_b.address]},current_tick_index:c.current_tick_index,current_sqrt_price:c.current_sqrt_price,tickSpacing:c.tickSpacing,fee:c.fee,poolAddress:c.poolAddress,address:c.address,is_display_rewarder:c.is_display_rewarder,nftHash:L,feeOwedA:T,feeOwedB:$,currentStatus:p,amountA:b,amountB:x,tokenARates:v,tokenBRates:k,amountUSD:E,currentPrice:dn(f,12),minPrice:dn(l,12),minTick:dn(w,12),maxTick:dn(m,12),maxPrice:dn(d,12),fromPercent:B,toPercent:h,tokenName:u.tokenName||u.name},console.log("positionInfo.value",this.currentPositionInfo)}}},async getPendingFees(t,e){var i,s;const n=this.RATES,r=oi(e);console.log("0302###getPendingFees####result###",t);for(let o=0;o<t.length;o++){const a=t[o],c=await r.getPool(a.poolAddress);if(c){const u=await r.getTickDataByIndex(c.ticks_handle,Number(a.tick_lower_index)),l=await r.getTickDataByIndex(c.ticks_handle,Number(a.tick_upper_index));console.log("0323####getPendingFees###pool###",c),console.log("0323####getPendingFees###positionItem.collection###",a.collection),console.log("0323####getPendingFees###positionItem.tokenName###",a.tokenName),console.log("0323####getPendingFees###positionItem###",a);const d=e==="Aptos"?"":a.pos_object_id,f=await r.getPositionInfo(c,a.collection,a.tokenName,d),p={...c,token_a:this.tokensObj&&this.tokensObj[c.coinTypeA]||this.chinaTokensObj&&this.chinaTokensObj[c.coinTypeA],token_b:this.tokensObj&&this.tokensObj[c.coinTypeB]||this.chinaTokensObj&&this.chinaTokensObj[c.coinTypeB]};console.log("0302###positionInfo",f),console.log(c,"pool====>654");const w=await r.getCollectFeesQuote({pool:p,position:f,tickLowerData:u,tickUpperData:l});console.log("0330###getPendingFees###feeOwn###",w);const m=[],v=Number(w.feeOwedA),k=Number(w.feeOwedB);let E,b,x;n&&n[p.token_a.address]&&n[p.token_b.address]?(b=v*((i=n[p.token_a.address])==null?void 0:i.price),x=k*((s=n[p.token_b.address])==null?void 0:s.price),E=b+x):E="--",m.push({amount:v,amountUSD:b,...p.token_a,logoURI:p.token_a.logo_url},{amount:k,amountUSD:x,...p.token_b,logoURI:p.token_b.logo_url}),this.feeOwedObj[a.tokenName]={feesResult:m,feeOwed:E},console.log(this.feeOwedObj,"===>this.feeOwedObj"),await iu(1e3)}}},async getRewarder(t,e){const n=oi(e),r=this;console.log(t,"===>results");for(let i=0;i<t.length;i++)if(t[i].rewarder_infos&&t[i].rewarder_infos.length>0){const s=t[i];console.log(i,"i===>"),console.log(s,"===>positionItem"),console.log(s.ticks_handle,"===>positionItem.ticks_handle"),console.log(s.tick_lower_index,"===>positionItem.tick_lower_index"),console.log(s.tick_upper_index,"===>positionItem.tick_upper_index");const o=await n.getTickDataByIndex(s.ticks_handle,Number(s.tick_lower_index)),a=await n.getTickDataByIndex(s.ticks_handle,Number(s.tick_upper_index)),c=await n.getPosRewardersAmount({poolAddress:s.poolAddress,positionName:s.tokenName,tickLowerData:o,tickUpperData:a});console.log(c,"rewarderInfo===>");const u=[];let l=0;c.forEach((d,f)=>{var p;if(s[`rewarder_display${f+1}`]){const w=r.newTokenObj[d.coin_address].decimals,m=r.newTokenObj[d.coin_address],v=Number(d.amount_owed.toString())>99999999999999?0:Number(d.amount_owed.toString()),k=dn(v/Math.pow(10,w),w);console.log(d.amount_owed.toString(),"===>element.amount_owed.toString()");const E=(p=r.RATES[d.coin_address])==null?void 0:p.price;console.log(E,"price===>"),console.log(k,"==>amount");const b=Number(k)*E;l+=b,u.push({...d,...m,amount:k,amountUSD:b,amount_owed:d.amount_owed.toString(),rewarder_display:s[`rewarder_display${f+1}`]}),r.rewarderObj[s.tokenName]={pendingRewarderArr:u.filter(x=>x.rewarder_display),pendingRewarderView:Number(dn(l,2)),pendingRewarder:l}}}),console.log(r.rewarderObj,"===>_this.rewarderObj"),await iu(1e3)}},setAllTokenObj(t){console.log(t,"===>allTokenObj"),this.allTokenObj=t}}});export{u0 as A,cP as B,go as C,Ge as D,sP as E,We as F,so as G,L2 as H,t0 as I,Wr as J,bu as K,cs as L,dR as M,xa as N,n0 as O,Ni as P,bt as Q,Mn as R,Pq as S,Ot as T,Wt as U,dt as V,rt as _,Ym as a,oi as b,wH as c,R as d,Oh as e,dn as f,Qs as g,v9 as h,O2 as i,_H as j,vH as k,_a as l,wa as m,SH as n,R9 as o,xr as p,Sr as q,gt as r,yH as s,xH as t,RH as u,bH as v,mH as w,Dd as x,DL as y,ew as z};
