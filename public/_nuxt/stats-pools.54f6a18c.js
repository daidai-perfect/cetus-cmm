import{_ as js}from"./back.fd4ae9d3.js";import{_ as Es}from"./apr-tips.5c5f76b1.js";import{a as Us,b as Bs,i as x,e as Ws,W as Fs,r as v,f as qs,w as vs,Q as zs,x as Gs,j as J,z as is,R as us,k as Ks,o as i,l as c,m as a,E as z,C as w,t,q as P,G as ss,T as es,p as H,fn as Ms,F as cs,s as Qs,v as Js,K as Xs}from"./entry.12ef1f17.js";import{_ as _s}from"./icon_on_stats.b61a8e0c.js";import{p as Ys}from"./precision.ce0280e5.js";import{_ as ps}from"./icon-Rewards.cb9282e1.js";const Zs=Us({setup(){const o=Bs(),n=x(()=>o),ds=x(()=>n.value.newTokenObj||{}),os=Ws(),G=x(()=>os),K=Fs();let ls=v("big");const g=v(1),T=v(1);let y=v(!1);const s=()=>{os.getStatsData(G.value.chainName)};qs(()=>{os.getStatsData(G.value.chainName);const e=document.body.clientWidth;e<750?y.value=!1:y.value=!0,window.onresize=()=>{e<750?y.value=!1:y.value=!0},y.value,Z(g.value,10),m(T.value,10)});let p=v([]);const h=x(()=>G.value.topPoolsList),f=e=>(l,d)=>{let _=l[e],u=d[e];return _-u},r=e=>(l,d)=>{let _=l[e];return d[e]-_},k=v(!1),I=v(!1),A=v(!1),$=v(!1),C=v(!0),j=v(!1),E=v(!1),U=v(!1),D=v(!1),V=v(!1),R=v(!1),b=v(!1),B=v(!1),W=v(!1),F=v(!1),N=v(!0),X=v(!1),as=v("TVL"),rs=v(["Volume (24H)","Volume (7D)","APR"]),Y=v(!1),ns=v("TVL"),ts=v(["Price","Volume (24H)","Price Change"]),hs=e=>{const l=h;if(e=="tvl_in_usd"?(C.value?(k.value=!k.value,l.value.sort(k.value?f(e):r(e))):l.value.sort(r(e)),I.value=!1,A.value=!1,$.value=!1,C.value=!0,j.value=!1,E.value=!1,U.value=!1):e=="vol_in_usd_24h"?(j.value?(I.value=!I.value,l.value.sort(I.value?f(e):r(e))):l.value.sort(r(e)),k.value=!1,A.value=!1,$.value=!1,C.value=!1,j.value=!0,E.value=!1,U.value=!1):e=="vol_in_usd_7_day"?(E.value?(A.value=!A.value,l.value.sort(A.value?f(e):r(e))):l.value.sort(r(e)),k.value=!1,I.value=!1,$.value=!1,C.value=!1,j.value=!1,E.value=!0,U.value=!1):e=="aprNum"&&(U.value?($.value=!$.value,l.value.sort($.value?f(e):r(e))):l.value.sort(r(e)),k.value=!1,I.value=!1,A.value=!1,C.value=!1,j.value=!1,E.value=!1,U.value=!0),console.log(l.value,"===>>>>>poolsListArray.value"),console.log(g.value,"===>>>>>currentPools.value"),l.value.length<10)p.value=l.value.slice(0,10);else{const d=g.value*10;p.value=l.value.slice(d-10,d)}},fs=e=>{const l=M;if(e=="price"?(B.value?(D.value=!D.value,l.value.sort(D.value?f(e):r(e))):l.value.sort(r(e)),V.value=!1,R.value=!1,b.value=!1,B.value=!0,W.value=!1,F.value=!1,N.value=!1):e=="vol_in_usd_24h"?(F.value?(R.value=!R.value,l.value.sort(R.value?f(e):r(e))):l.value.sort(r(e)),D.value=!1,V.value=!1,b.value=!1,B.value=!1,W.value=!1,F.value=!0,N.value=!1):e=="tvl_in_usd"?(N.value?(b.value=!b.value,l.value.sort(b.value?f(e):r(e))):l.value.sort(r(e)),D.value=!1,V.value=!1,R.value=!1,B.value=!1,W.value=!1,F.value=!1,N.value=!0):e=="priceHour"&&(W.value?(V.value=!V.value,l.value.sort(V.value?f(e):r(e))):l.value.sort(r(e)),D.value=!1,R.value=!1,b.value=!1,B.value=!1,W.value=!0,F.value=!1,N.value=!1),console.log(l.value,"===>>>>>tokensListArray.value"),console.log(T.value,"===>>>>>tokensListArray.value"),l.value.length<10)S.value=l.value.slice(0,10);else{const d=T.value*10;S.value=l.value.slice(d-10,d)}},ks=e=>{e=="label"?(Y.value=!Y.value,X.value=!1):e=="select"?(X.value=!X.value,Y.value=!1):(X.value=!1,Y.value=!1)},gs=e=>{const l=[];l.push(as.value),rs.value.forEach((d,_)=>{d!=e&&l.push(d)}),rs.value=l,as.value=e,e=="TVL"?p.value.sort(r("tvl_in_usd")):e=="Volume (24H)"?p.value.sort(r("vol_in_usd_24h")):e=="Volume (7D)"?p.value.sort(r("vol_in_usd_7_day")):e=="APR"&&p.value.sort(r("aprNum"))},Ts=e=>{console.log(e,"===>>>>search-select");const l=[];l.push(ns.value),ts.value.forEach((d,_)=>{d!=e&&l.push(d)}),ts.value=l,ns.value=e,e=="TVL"?S.value.sort(r("tvl_in_usd")):e=="Volume (24H)"?S.value.sort(r("vol_in_usd_24h")):e=="Price"?S.value.sort(r("price")):e=="Price Change"&&S.value.sort(r("priceHour"))};vs(h,()=>{y.value,Z(g.value,10)});const Z=(e,l)=>{console.log(e,"page"),g.value=e;const d=l*e-l;let _=l*e;console.log(h,"===>>>>>topPoolsList"),_=_>h.value.length?h.value.length:_;const u=h.value;if(u.length>0){C.value&&!k.value?u.sort(ws):C.value&&k.value?u.sort(Ps):j.value?I.value?u.sort(Hs):u.sort(ys):E.value?A.value?u.sort(Is):u.sort(Ls):U.value&&($.value?u.sort(As):u.sort(bs));const Q=u.filter((q,O)=>O>=d&&O<_);p.value=Q}return u},ws=(e,l)=>l.tvl_in_usd-e.tvl_in_usd,ys=(e,l)=>l.vol_in_usd_24h-e.vol_in_usd_24h,Ls=(e,l)=>l.vol_in_usd_7_day-e.vol_in_usd_7_day,bs=(e,l)=>l.aprNum-e.aprNum,Ps=(e,l)=>e.tvl_in_usd-l.tvl_in_usd,Hs=(e,l)=>e.vol_in_usd_24h-l.vol_in_usd_24h,Is=(e,l)=>e.vol_in_usd_7_day-l.vol_in_usd_7_day,As=(e,l)=>e.aprNum-l.aprNum;let S=v([]);const M=x(()=>{const e=G.value.topTokensList,l=[];for(let d=0;d<e.length;d++){const _=e[d];l.push({..._,priceHour:_?Number(_.price_rate_24h.substring(0,_.price_rate_24h.length-1)):"0"})}return l});vs(M,()=>{y.value,m(T.value,10)});const m=(e,l)=>{console.log(e,"page1"),T.value=e;const d=l*e-l;let _=l*e;_=_>M.value.length?M.value.length:_;const u=M.value;if(u.length>0){N.value&&!b.value?u.sort($s):N.value&&b.value?u.sort(Rs):B.value?D.value?u.sort(Ns):u.sort(Cs):W.value?V.value?u.sort(Ss):u.sort(Ds):F.value&&(R.value?u.sort(Os):u.sort(Vs));const Q=u.filter((q,O)=>O>=d&&O<_);S.value=Q}return u},$s=(e,l)=>l.tvl_in_usd-e.tvl_in_usd,Cs=(e,l)=>l.price-e.price,Ds=(e,l)=>l.priceHour-e.priceHour,Vs=(e,l)=>l.vol_in_usd_24h-e.vol_in_usd_24h,Rs=(e,l)=>e.tvl_in_usd-l.tvl_in_usd,Ns=(e,l)=>e.price-l.price,Ss=(e,l)=>e.priceHour-l.priceHour,Os=(e,l)=>e.vol_in_usd_24h-l.vol_in_usd_24h;return{getRewarderInfo:e=>{const l=e.swap_account;return console.log(n.value.addressLpTokens[l].rewarder_infos,"==>&pools.value.addressLpTokens[address].rewarder_infos"),n.value.addressLpTokens&&n.value.addressLpTokens[l]&&n.value.addressLpTokens[l].rewarder_infos},addCommom:zs,store:G,importIcon:Gs,topPoolsList:h,addressTokens:ds,showEcharts:ls,currentPools:g,onChangePools:Z,currentTopPoolsList:p,onChangeTokens:m,currentTokens:T,currentTopTokensList:S,topTokensList:M,router:K,isPc:y,getAprTotal:(e,l)=>e&&l?is(Ys.plus(us(e),us(l)),2)+"%":e,getRewarderApr:e=>{let l=0;return e&&e.forEach(d=>{l+=us(String(d))}),String(is(String(l),2))},toPoolsList:()=>{K&&K.push("/stats-pools")},toTokensList:()=>{K&&K.push("/stats-tokens")},changePoolsList:hs,changeTokensList:fs,tvlImprint:k,volHImprint:I,volDImprint:A,aprImprint:$,tokensPriceImprint:D,tokensPriceHImprint:V,tokensVolHImprint:R,tokensTvlImprint:b,labelToken:Y,select:X,selectValue:as,selectList:rs,reviseValue:ks,changeSort:gs,tokenValue:ns,tokensList:ts,changeSortLabel:Ts,tvlImprintHighlight:C,volHImprintHighlight:j,volDImprintHighlight:E,aprImprintHighlight:U,tokensPriceImprintHighlight:B,tokensPriceHImprintHighlight:W,tokensVolHImprintHighlight:F,tokensTvlImprintHighlight:N,getLabel:e=>{const l=e.swap_account;return n.value.addressLpTokens&&n.value.addressLpTokens[l]&&n.value.addressLpTokens[l].labels},rewardApr:e=>{if(!J(e)&&!J(n.value.addressLpTokens)&&!J(n.value.newTokenObj)){const l=e.swap_account,d=n.value.addressLpTokens[l];let _=d.rewarder_infos||[];const u=[];_.forEach((q,O)=>{console.log(n.value.newTokenObj,"===>newTokenObj"),u.push({...q,symbol:n.value.newTokenObj[q.coinAddress].symbol,rewarderApr:e.rewarder_apr[O],logoUrl:n.value.newTokenObj[q.coinAddress].logoURI,rewarder_display:d[`rewarder_display${O+1}`]})});let Q=[];return Q=u.filter(q=>q.rewarder_display),Q}},getsad:s,rewardDisplay:e=>{if(!J(e)&&!J(n.value.addressLpTokens)&&!J(n.value.newTokenObj)){const l=n.value.addressLpTokens[e.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1}}}});const L=o=>(Qs("data-v-e2980332"),o=o(),Js(),o),ms={class:"stats-container"},xs={class:"title"},se={class:"top-pools-new"},ee={class:"sort-by"},oe=L(()=>a("img",{src:_s,alt:""},null,-1)),le=L(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),ae=[le],re={key:0,class:"select-item"},ne=["onClick"],te=L(()=>a("img",{src:_s,alt:""},null,-1)),ue={class:"content"},de={class:"item"},ve=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ie=[ve],ce=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),_e=[ce],pe=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),he=[pe],fe=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ke=[fe],ge={class:"apr-hover-content"},Te=L(()=>a("span",null,"\xA0",-1)),we={class:"token"},ye=["src"],Le=["src"],be={class:"name"},Pe={class:"token-name"},He={class:"fee-tier-top"},Ie={class:"label-all"},Ae={key:0},$e={class:"tvl"},Ce={class:"volume-hour"},De={class:"volume-day"},Ve=L(()=>a("img",{src:ps,alt:""},null,-1)),Re={key:0,class:"apr-hover-content"},Ne={class:"btn-box"},Se={class:"top"},Oe={class:"token"},je=["src"],Ee=["src"],Ue={class:"name"},Be={class:"token-name"},We={class:"label-all"},Fe={key:0},qe={class:"fee-tier-hint"},ze={class:"middle"},Ge={class:"item-pools"},Ke={class:"item-pools"},Me={class:"item-pools"},Qe=L(()=>a("img",{src:ps,alt:""},null,-1)),Je={key:0,class:"apr-hover-content"},Xe={class:"bottom"},Ye={class:"panation"};function Ze(o,n,ds,os,G,K){const ls=js,g=Es,T=Xs,y=Ms;return i(),c("div",ms,[a("div",xs,[z(ls),w(" "+t(o.$t("menu.pools")),1)]),a("div",se,[a("div",ee,[a("div",null,t(o.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:n[0]||(n[0]=s=>o.reviseValue("select"))},[a("div",null,[w(t(o.selectValue)+" ",1),oe]),(i(),c("svg",{"aria-hidden":"true",class:P(o.select?"show-icon icon":"icon")},ae,2)),o.select?(i(),c("div",re,[(i(!0),c(ss,null,es(o.selectList,(s,p)=>(i(),c("div",{key:p,class:"select-menu-item",onClick:h=>o.changeSort(s)},[w(t(s)+" ",1),te],8,ne))),128))])):H("",!0)])]),a("div",ue,[a("div",de,[a("span",null,t(o.$t("newAdd.pool")),1),a("span",{onClick:n[1]||(n[1]=s=>o.changePoolsList("tvl_in_usd"))},[w(t(o.$t("common.tvl"))+" ",1),(i(),c("svg",{"aria-hidden":"true",class:P(["pools-icon",o.tvlImprint?o.tvlImprintHighlight?"selected highlight":"selected":o.tvlImprintHighlight?"highlight":""])},ie,2))]),a("span",{onClick:n[2]||(n[2]=s=>o.changePoolsList("vol_in_usd_24h"))},[w(t(o.$t("common.volume24H"))+" ",1),(i(),c("svg",{"aria-hidden":"true",class:P(["pools-icon",o.volHImprint?o.volHImprintHighlight?"selected highlight":"selected":o.volHImprintHighlight?"highlight":""])},_e,2))]),a("span",{onClick:n[3]||(n[3]=s=>o.changePoolsList("vol_in_usd_7_day"))},[w(t(o.$t("newAdd.volume7D"))+" ",1),(i(),c("svg",{"aria-hidden":"true",class:P(["pools-icon",o.volDImprint?o.volDImprintHighlight?"selected highlight":"selected":o.volDImprintHighlight?"highlight":""])},he,2))]),a("span",{onClick:n[4]||(n[4]=s=>o.changePoolsList("aprNum"))},[w(" APR "),(i(),c("svg",{"aria-hidden":"true",class:P(["pools-icon",o.aprImprint?o.aprImprintHighlight?"selected highlight":"selected":o.aprImprintHighlight?"highlight":""])},ke,2)),a("div",ge,[z(g,{class:"noHover apr-hover-con"})])]),Te]),(i(!0),c(ss,null,es(o.currentTopPoolsList,(s,p)=>{var h,f;return i(),c("div",{key:p,class:"item pc-item"},[a("div",we,[s!=null&&s.token_a_address?(i(),c("img",{key:0,src:o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].symbol.toLowerCase()}.png`)},null,8,ye)):H("",!0),s!=null&&s.token_b_address?(i(),c("img",{key:1,src:o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].symbol.toLowerCase()}.png`)},null,8,Le)):H("",!0),a("div",be,[a("p",Pe,t(o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].symbol)+" - "+t(o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].symbol),1),a("div",He,t((s==null?void 0:s.fee)*100)+"%",1),a("div",Ie,[(i(!0),c(ss,null,es(o.getLabel(s),(r,k)=>(i(),c("div",{key:k,class:P(["label",r])},[r!=="Native"?(i(),c("span",Ae,t(r),1)):H("",!0)],2))),128))])])]),a("div",$e," $"+t(s.tvl_in_usd?o.addCommom(s.tvl_in_usd,2):"--"),1),a("div",Ce," $"+t(s!=null&&s.vol_in_usd_24h?o.addCommom(s==null?void 0:s.vol_in_usd_24h,2):"--"),1),a("div",De," $"+t(s!=null&&s.vol_in_usd_7_day?o.addCommom(s==null?void 0:s.vol_in_usd_7_day,2):"--"),1),a("div",{class:P(["apr",((h=o.rewardApr(s))==null?void 0:h.length)>0&&o.rewardDisplay(s)?"apr-mark":""])},[Ve,w(" "+t(o.getAprTotal(s.apr_7day,o.getRewarderApr(s.rewarder_apr)))+" ",1),((f=o.rewardApr(s))==null?void 0:f.length)!=0&&o.rewardDisplay(s)?(i(),c("div",Re,[z(g,{class:"noHover apr-hover-con","l-item":{apr:s.apr_7day,aprTotal:o.getAprTotal(s.apr_7day,o.getRewarderApr(s.rewarder_apr)),is_display_rewarder:o.rewardDisplay(s),rewarder_apr:o.getRewarderApr(s.rewarder_apr)},"rewarder-info":o.rewardApr(s)},null,8,["l-item","rewarder-info"])])):H("",!0)],2),a("div",Ne,[z(T,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${s==null?void 0:s.token_a_address}&tokenb=${s==null?void 0:s.token_b_address}&fee=${s==null?void 0:s.fee}`)},{default:cs(()=>[w(t(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(i(!0),c(ss,null,es(o.currentTopPoolsList,(s,p)=>{var h,f;return i(),c("div",{key:p,class:"item h5-item"},[a("div",Se,[a("div",Oe,[s!=null&&s.token_a_address?(i(),c("img",{key:0,src:o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].symbol.toLowerCase()}.png`)},null,8,je)):H("",!0),s!=null&&s.token_b_address?(i(),c("img",{key:1,src:o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].symbol.toLowerCase()}.png`)},null,8,Ee)):H("",!0),a("div",Ue,[a("p",Be,t(o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].symbol)+" - "+t(o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].symbol),1),a("div",We,[(i(!0),c(ss,null,es(o.getLabel(s),(r,k)=>(i(),c("div",{key:k,class:P(["label",r])},[r!=="Native"?(i(),c("span",Fe,t(r),1)):H("",!0)],2))),128))])])]),a("div",qe,t((s==null?void 0:s.fee)*100)+"%",1)]),a("div",ze,[a("div",Ge,[a("span",null,t(o.$t("common.tvl")),1),a("p",null," $"+t(s.tvl_in_usd?o.addCommom(s.tvl_in_usd,2):"--"),1)]),a("div",Ke,[a("span",null,t(o.$t("common.volume24H")),1),a("p",null," $"+t(s!=null&&s.vol_in_usd_24h?o.addCommom(s==null?void 0:s.vol_in_usd_24h,2):"--"),1)]),a("div",Me,[a("span",null,t(o.$t("common.volume7D")),1),a("p",null," $"+t(s!=null&&s.vol_in_usd_7_day?o.addCommom(s==null?void 0:s.vol_in_usd_7_day,2):"--"),1)]),a("div",{class:P(["item-pools",((h=o.rewardApr(s))==null?void 0:h.length)>0&&o.rewardDisplay(s)?"":"apr-mark-h5"])},[a("span",null,t(o.$t("common.apr")),1),a("p",null,[Qe,w(" "+t(o.getAprTotal(s.apr_7day,o.getRewarderApr(s.rewarder_apr))),1)]),((f=o.rewardApr(s))==null?void 0:f.length)!=0&&o.rewardDisplay(s)?(i(),c("div",Je,[z(g,{class:"noHover apr-hover-con","l-item":{apr:s.apr_7day,aprTotal:o.getAprTotal(s.apr_7day,o.getRewarderApr(s.rewarder_apr)),is_display_rewarder:o.rewardDisplay(s),rewarder_apr:o.getRewarderApr(s.rewarder_apr)},"rewarder-info":o.rewardApr(s)},null,8,["l-item","rewarder-info"])])):H("",!0)],2)]),a("div",Xe,[z(T,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${s==null?void 0:s.token_a_address}&tokenb=${s==null?void 0:s.token_b_address}&fee=${s==null?void 0:s.fee}`)},{default:cs(()=>[w(t(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),a("div",Ye,[z(y,{current:o.currentPools,"onUpdate:current":n[5]||(n[5]=s=>o.currentPools=s),"page-size":(o.isPc,10),simple:"",total:o.topPoolsList.length,onChange:o.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const _o=Ks(Zs,[["render",Ze],["__scopeId","data-v-e2980332"]]);export{_o as default};
