import{_ as Fs}from"./back.446a65ac.js";import{a as qs,b as zs,i as z,e as Gs,W as Ks,r as u,f as Ms,w as ds,Q as Qs,x as Js,j as ns,z as Xs,R as as,k as Ys,o as c,l as p,m as n,E as Y,C as b,t as r,q as T,G as ts,T as rs,p as us,fl as Zs,F as vs,s as xs,v as se,K as ee}from"./entry.0335369b.js";import{_ as cs}from"./icon_on_stats.b61a8e0c.js";import{p as le}from"./precision.ce0280e5.js";const oe=qs({setup(){const e=zs(),t=z(()=>e),is=z(()=>t.value.newTokenObj||{}),X=Gs(),W=z(()=>X),F=Ks();let Z=u("big");const h=u(1),_=u(1);let o=u(!1);const y=()=>{X.getStatsData(W.value.chainName)};Ms(()=>{X.getStatsData(W.value.chainName);const s=document.body.clientWidth;s<750?o.value=!1:o.value=!0,window.onresize=()=>{s<750?o.value=!1:o.value=!0},o.value,M(h.value,10),Q(_.value,10)});let f=u([]);const A=z(()=>W.value.topPoolsList),m=s=>(l,i)=>{let v=l[s],a=i[s];return v-a},d=s=>(l,i)=>{let v=l[s];return i[s]-v},k=u(!1),L=u(!1),I=u(!1),H=u(!1),P=u(!0),D=u(!1),N=u(!1),S=u(!1),O=u(!1),j=u(!1),C=u(!1),g=u(!1),R=u(!1),U=u(!1),E=u(!1),w=u(!0),G=u(!1),x=u("TVL"),ss=u(["Volume (24H)","Volume (7D)","APR"]),K=u(!1),es=u("TVL"),ls=u(["Price","Volume (24H)","Price Change"]),ps=s=>{const l=A;if(s=="tvl_in_usd"?(P.value?(k.value=!k.value,l.value.sort(k.value?m(s):d(s))):l.value.sort(d(s)),L.value=!1,I.value=!1,H.value=!1,P.value=!0,D.value=!1,N.value=!1,S.value=!1):s=="vol_in_usd_24h"?(D.value?(L.value=!L.value,l.value.sort(L.value?m(s):d(s))):l.value.sort(d(s)),k.value=!1,I.value=!1,H.value=!1,P.value=!1,D.value=!0,N.value=!1,S.value=!1):s=="vol_in_usd_7_day"?(N.value?(I.value=!I.value,l.value.sort(I.value?m(s):d(s))):l.value.sort(d(s)),k.value=!1,L.value=!1,H.value=!1,P.value=!1,D.value=!1,N.value=!0,S.value=!1):s=="aprNum"&&(S.value?(H.value=!H.value,l.value.sort(H.value?m(s):d(s))):l.value.sort(d(s)),k.value=!1,L.value=!1,I.value=!1,P.value=!1,D.value=!1,N.value=!1,S.value=!0),console.log(l.value,"===>>>>>poolsListArray.value"),console.log(h.value,"===>>>>>currentPools.value"),l.value.length<10)f.value=l.value.slice(0,10);else{const i=h.value*10;f.value=l.value.slice(i-10,i)}},hs=s=>{const l=q;if(s=="price"?(R.value?(O.value=!O.value,l.value.sort(O.value?m(s):d(s))):l.value.sort(d(s)),j.value=!1,C.value=!1,g.value=!1,R.value=!0,U.value=!1,E.value=!1,w.value=!1):s=="vol_in_usd_24h"?(E.value?(C.value=!C.value,l.value.sort(C.value?m(s):d(s))):l.value.sort(d(s)),O.value=!1,j.value=!1,g.value=!1,R.value=!1,U.value=!1,E.value=!0,w.value=!1):s=="tvl_in_usd"?(w.value?(g.value=!g.value,l.value.sort(g.value?m(s):d(s))):l.value.sort(d(s)),O.value=!1,j.value=!1,C.value=!1,R.value=!1,U.value=!1,E.value=!1,w.value=!0):s=="priceHour"&&(U.value?(j.value=!j.value,l.value.sort(j.value?m(s):d(s))):l.value.sort(d(s)),O.value=!1,C.value=!1,g.value=!1,R.value=!1,U.value=!0,E.value=!1,w.value=!1),console.log(l.value,"===>>>>>tokensListArray.value"),console.log(_.value,"===>>>>>tokensListArray.value"),l.value.length<10)$.value=l.value.slice(0,10);else{const i=_.value*10;$.value=l.value.slice(i-10,i)}},fs=s=>{s=="label"?(K.value=!K.value,G.value=!1):s=="select"?(G.value=!G.value,K.value=!1):(G.value=!1,K.value=!1)},_s=s=>{const l=[];l.push(x.value),ss.value.forEach((i,v)=>{i!=s&&l.push(i)}),ss.value=l,x.value=s,s=="TVL"?f.value.sort(d("tvl_in_usd")):s=="Volume (24H)"?f.value.sort(d("vol_in_usd_24h")):s=="Volume (7D)"?f.value.sort(d("vol_in_usd_7_day")):s=="APR"&&f.value.sort(d("aprNum"))},ks=s=>{console.log(s,"===>>>>search-select");const l=[];l.push(es.value),ls.value.forEach((i,v)=>{i!=s&&l.push(i)}),ls.value=l,es.value=s,s=="TVL"?$.value.sort(d("tvl_in_usd")):s=="Volume (24H)"?$.value.sort(d("vol_in_usd_24h")):s=="Price"?$.value.sort(d("price")):s=="Price Change"&&$.value.sort(d("priceHour"))};ds(A,()=>{o.value,M(h.value,10)});const M=(s,l)=>{console.log(s,"page"),h.value=s;const i=l*s-l;let v=l*s;console.log(A,"===>>>>>topPoolsList"),v=v>A.value.length?A.value.length:v;const a=A.value;if(a.length>0){P.value&&!k.value?a.sort(gs):P.value&&k.value?a.sort(Ls):D.value?L.value?a.sort(Is):a.sort(bs):N.value?I.value?a.sort(Hs):a.sort(Ts):S.value&&(H.value?a.sort(Ps):a.sort(ms));const B=a.filter((os,J)=>J>=i&&J<v);f.value=B}return a},gs=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,bs=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Ts=(s,l)=>l.vol_in_usd_7_day-s.vol_in_usd_7_day,ms=(s,l)=>l.aprNum-s.aprNum,Ls=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Is=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,Hs=(s,l)=>s.vol_in_usd_7_day-l.vol_in_usd_7_day,Ps=(s,l)=>s.aprNum-l.aprNum;let $=u([]);const q=z(()=>{const s=W.value.topTokensList,l=[];for(let i=0;i<s.length;i++){const v=s[i];l.push({...v,priceHour:v?Number(v.price_rate_24h.substring(0,v.price_rate_24h.length-1)):"0",address:v.symbol=="SUI"?"0x2::sui::SUI":v.address})}return l});ds(q,()=>{o.value,Q(_.value,10)});const Q=(s,l)=>{console.log(s,"page1"),_.value=s;const i=l*s-l;let v=l*s;v=v>q.value.length?q.value.length:v;const a=q.value;if(a.length>0){w.value&&!g.value?a.sort(Os):w.value&&g.value?a.sort($s):R.value?O.value?a.sort(Vs):a.sort(js):U.value?j.value?a.sort(ys):a.sort(Cs):E.value&&(C.value?a.sort(As):a.sort(ws));const B=a.filter((os,J)=>J>=i&&J<v);$.value=B}return a},Os=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,js=(s,l)=>l.price-s.price,Cs=(s,l)=>l.priceHour-s.priceHour,ws=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,$s=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Vs=(s,l)=>s.price-l.price,ys=(s,l)=>s.priceHour-l.priceHour,As=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,Ds=s=>{const l=s.swap_account;return console.log(t.value.addressLpTokens[l].rewarder_infos,"==>&pools.value.addressLpTokens[address].rewarder_infos"),t.value.addressLpTokens&&t.value.addressLpTokens[l]&&t.value.addressLpTokens[l].rewarder_infos},Ns=s=>{const l=s.swap_account;return t.value.addressLpTokens&&t.value.addressLpTokens[l]&&t.value.addressLpTokens[l].labels},Ss=s=>{if(!ns(s)&&!ns(t.value.addressLpTokens)&&!ns(t.value.newTokenObj)){const l=s.swap_account;let v=t.value.addressLpTokens[l].rewarder_infos||[];const a=[];return v.forEach((B,os)=>{console.log(t.value.newTokenObj,"===>newTokenObj"),a.push({...B,symbol:t.value.newTokenObj[B.coinAddress].symbol,rewarderApr:s.rewarder_apr[os],logoUrl:t.value.newTokenObj[B.coinAddress].logoURI})}),console.log(a,"===>result111"),a}},Rs=(s,l)=>s&&l?Xs(le.plus(as(s),as(l)),2)+"%":s,Us=s=>{let l=0;return s&&s.forEach(i=>{console.log(i,"===>ele"),l+=as(String(i))}),String(l)},Es=()=>{F&&F.push("/stats-pools")},Bs=()=>{F&&F.push("/stats-tokens")},Ws=z(()=>(console.log(t.value.tokensObj,"===>pools.value.tokensObj"),t.value.tokensObj||{}));return{getRewarderInfo:Ds,addCommom:Qs,store:W,importIcon:Js,topPoolsList:A,addressTokens:is,showEcharts:Z,currentPools:h,onChangePools:M,currentTopPoolsList:f,onChangeTokens:Q,currentTokens:_,currentTopTokensList:$,topTokensList:q,router:F,isPc:o,getAprTotal:Rs,getRewarderApr:Us,toPoolsList:Es,toTokensList:Bs,changePoolsList:ps,changeTokensList:hs,tvlImprint:k,volHImprint:L,volDImprint:I,aprImprint:H,tokensPriceImprint:O,tokensPriceHImprint:j,tokensVolHImprint:C,tokensTvlImprint:g,labelToken:K,select:G,selectValue:x,selectList:ss,reviseValue:fs,changeSort:_s,tokenValue:es,tokensList:ls,changeSortLabel:ks,tvlImprintHighlight:P,volHImprintHighlight:D,volDImprintHighlight:N,aprImprintHighlight:S,tokensPriceImprintHighlight:R,tokensPriceHImprintHighlight:U,tokensVolHImprintHighlight:E,tokensTvlImprintHighlight:w,getLabel:Ns,rewardApr:Ss,getsad:y,tokensObj:Ws}}});const V=e=>(xs("data-v-c4bf85af"),e=e(),se(),e),ne={class:"stats-container"},ae={class:"title"},te={class:"top-tokens"},re={class:"sort-by"},ue=V(()=>n("img",{src:cs,alt:""},null,-1)),ie=V(()=>n("use",{"xlink:href":"#icon-icon_on"},null,-1)),de=[ie],ve={key:0,class:"select-item"},ce=["onClick"],pe=V(()=>n("img",{src:cs,alt:""},null,-1)),he={class:"content"},fe={class:"item"},_e=V(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ke=[_e],ge=V(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),be=[ge],Te=V(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),me=[Te],Le=V(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ie=[Le],He=V(()=>n("span",null,"\xA0",-1)),Pe={class:"token"},Oe={class:"left"},je=["src"],Ce={class:"right"},we={class:"name"},$e={key:0,class:"label-all"},Ve={class:"price"},ye={class:"price"},Ae={class:"volume"},De={class:"tvl"},Ne={class:"btn-box"},Se={class:"top"},Re={class:"token"},Ue={class:"left"},Ee=["src"],Be={class:"right"},We={class:"name"},Fe={key:0,class:"label-all"},qe={class:"middle"},ze={class:"item-pools"},Ge={class:"price"},Ke={class:"item-pools"},Me={class:"item-pools"},Qe={class:"item-pools"},Je={class:"bottom"},Xe={class:"panation"};function Ye(e,t,is,X,W,F){const Z=Fs,h=ee,_=Zs;return c(),p("div",ne,[n("div",ae,[Y(Z),b(" "+r(e.$t("common.tokens")),1)]),n("div",te,[n("div",re,[n("div",null,r(e.$t("newAdd.sortBy")),1),n("div",{class:"search-select",onClick:t[0]||(t[0]=o=>e.reviseValue("label"))},[n("div",null,[b(r(e.tokenValue)+" ",1),ue]),(c(),p("svg",{"aria-hidden":"true",class:T(e.labelToken?"show-icon icon":"icon")},de,2)),e.labelToken?(c(),p("div",ve,[(c(!0),p(ts,null,rs(e.tokensList,(o,y)=>(c(),p("div",{key:y,class:"select-menu-item",onClick:f=>e.changeSortLabel(o)},[b(r(o)+" ",1),pe],8,ce))),128))])):us("",!0)])]),n("div",he,[n("div",fe,[n("span",null,r(e.$t("common.tokens")),1),n("span",{onClick:t[1]||(t[1]=o=>e.changeTokensList("price"))},[b(r(e.$t("common.price"))+" ",1),(c(),p("svg",{"aria-hidden":"true",class:T(["pools-icon",e.tokensPriceImprint?e.tokensPriceImprintHighlight?"selected highlight":"selected":e.tokensPriceImprintHighlight?"highlight":""])},ke,2))]),n("span",{onClick:t[2]||(t[2]=o=>e.changeTokensList("priceHour"))},[b(r(e.$t("newAdd.priceChange"))+" ",1),(c(),p("svg",{"aria-hidden":"true",class:T(["pools-icon",e.tokensPriceHImprint?e.tokensPriceHImprintHighlight?"selected highlight":"selected":e.tokensPriceHImprintHighlight?"highlight":""])},be,2))]),n("span",{onClick:t[3]||(t[3]=o=>e.changeTokensList("vol_in_usd_24h"))},[b(r(e.$t("common.volume24h"))+" ",1),(c(),p("svg",{"aria-hidden":"true",class:T(["pools-icon",e.tokensVolHImprint?e.tokensVolHImprintHighlight?"selected highlight":"selected":e.tokensVolHImprintHighlight?"highlight":""])},me,2))]),n("span",{onClick:t[4]||(t[4]=o=>e.changeTokensList("tvl_in_usd"))},[b(r(e.$t("common.tvl"))+" ",1),(c(),p("svg",{"aria-hidden":"true",class:T(["pools-icon",e.tokensTvlImprint?e.tokensTvlImprintHighlight?"selected highlight":"selected":e.tokensTvlImprintHighlight?"highlight":""])},Ie,2))]),He]),(c(!0),p(ts,null,rs(e.currentTopTokensList,(o,y)=>(c(),p("div",{key:y,class:"item pc-item"},[n("div",Pe,[n("div",Oe,[n("img",{src:e.addressTokens&&e.addressTokens[o.address]&&e.addressTokens[o.address].logoURI?e.addressTokens[o.address].logoURI:e.store.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png"),alt:""},null,8,je)]),n("div",Ce,[n("div",we,[n("p",null,r(o.symbol),1),n("span",null,r(o.name)+" ",1)]),e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?(c(),p("div",$e,[n("div",{class:T(["label",e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]])},[n("span",null,r(e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?`${e.tokensObj[o.address].labels[0]}`:""),1)],2)])):us("",!0)])]),n("div",Ve,[n("p",null,r(o.price?"$"+e.addCommom(o.price,2):"--"),1)]),n("div",ye,[n("p",{class:T(o.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},r(o.price_rate_24h!=="0%"&&!o.price_rate_24h.includes("-")?`+${o.price_rate_24h}`:o.price_rate_24h),3)]),n("div",Ae," $"+r(e.addCommom(o.vol_in_usd_24h,2)=="0.00"?0:e.addCommom(o.vol_in_usd_24h,2)?e.addCommom(o.vol_in_usd_24h,2):"--"),1),n("div",De," $"+r(e.addCommom(o.tvl_in_usd,2)=="0.00"?0:e.addCommom(o.tvl_in_usd,2)?e.addCommom(o.tvl_in_usd,2):"--"),1),n("div",Ne,[Y(h,{class:"cancel-btn",onClick:f=>e.router.push(`/swap?to=${o.address}`)},{default:vs(()=>[b(r(e.$t("button.swap")),1)]),_:2},1032,["onClick"])])]))),128)),(c(!0),p(ts,null,rs(e.currentTopTokensList,(o,y)=>(c(),p("div",{key:y,class:"item h5-item"},[n("div",Se,[n("div",Re,[n("div",Ue,[n("img",{src:e.addressTokens&&e.addressTokens[o.address]&&e.addressTokens[o.address].logoURI?e.addressTokens[o.address].logoURI:e.store.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png"),alt:""},null,8,Ee)]),n("div",Be,[n("div",We,[n("p",null,r(o.symbol),1),n("span",null,r(o.name)+" ",1)]),e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?(c(),p("div",Fe,[n("div",{class:T(["label",e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]])},[n("span",null,r(e.tokensObj&&e.tokensObj[o.address]&&e.tokensObj[o.address].labels&&e.tokensObj[o.address].labels[0]?`${e.tokensObj[o.address].labels[0]}`:""),1)],2)])):us("",!0)])])]),n("div",qe,[n("div",ze,[n("span",null,r(e.$t("common.price")),1),n("div",Ge,[n("p",null,"$"+r(e.addCommom(o.price,2)),1)])]),n("div",Ke,[n("span",null,r(e.$t("newAdd.priceChange")),1),n("p",{class:T(o.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},r(o.price_rate_24h),3)]),n("div",Me,[n("span",null,r(e.$t("common.volume24h")),1),n("p",null," $"+r(e.addCommom(o.vol_in_usd_24h,2)=="0.00"?0:e.addCommom(o.vol_in_usd_24h,2)),1)]),n("div",Qe,[n("span",null,r(e.$t("common.tvl")),1),n("p",null," $"+r(e.addCommom(o.tvl_in_usd,2)=="0.00"?0:e.addCommom(o.tvl_in_usd,2)),1)])]),n("div",Je,[Y(h,{class:"cancel-btn",onClick:f=>e.router.push(`/swap?to=${o.address}`)},{default:vs(()=>[b(r(e.$t("button.swap")),1)]),_:2},1032,["onClick"])])]))),128))]),n("div",Xe,[Y(_,{current:e.currentTokens,"onUpdate:current":t[5]||(t[5]=o=>e.currentTokens=o),"page-size":(e.isPc,10),simple:"",total:e.topTokensList.length,onChange:e.onChangeTokens},null,8,["current","page-size","total","onChange"])])])])}const ll=Ys(oe,[["render",Ye],["__scopeId","data-v-c4bf85af"]]);export{ll as default};
