import{_ as ko,a as Io}from"./token-warning-modal.edd64c3b.js";import{_ as No,a as To}from"./coin-select.d3451467.js";import{a as Bo,_ as Uo}from"./network-tips.4ff872c3.js";import{a as Ce,j as Ye,u as Te,f as K,g as Ie,z as Xe,_ as Oo,w as He,e as Ne,b as _o,D as h,s as ye,p as Je,c as Ke}from"./pool.b9076f31.js";import{a as Ge,M as Do,l as Ve,m as y,r,e as Be,K as Po,o as f,c as F,w as me,h as o,t,j as J,f as k,u as se,x as ve,s as _,i as ie,B as xe,p as Ue,k as Oe,a4 as $o,A as H,a1 as Fo,a2 as Ro,v as jo,z as Eo,a7 as ke,b as Ze,F as Wo,J as Lo,D as Mo,S as qo}from"./entry.e9343920.js";import{i as le}from"./import-icon.de3e6c66.js";/* empty css              *//* empty css              *//* empty css              */import{_ as Qo}from"./img-leverage_2x.1c577303.js";/* empty css              */import"./icon-selected_3x.350736e2.js";import"./token-warning.99fd2756.js";/* empty css              */import"./img-no-Positions_2x.723586ce.js";const ze={SUI:{symbol:"SUI",name:"Sui Coin",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sBTC:{symbol:"sBTC",name:"Wrapped BTC",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sETH:{symbol:"sETH",name:"Wrapped Ether",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::ETH"},USDC:{symbol:"USDC",name:"USDC Coin",decimals:6,balance:12e3,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC"},USDT:{symbol:"USDT",name:"Tether USD",decimals:6,balance:1e4,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT"}},Xo={"USDT-USDC":{symbol:"USDT-USDC",name:"USDT-USDC",decimals:6,coinA:ze.USDT,coinB:ze.USDC,feeDenominator:"10000",feeNumerator:"1",fee:"0.01",address:"0x1ce98d89494e9d3d7935bc3bd5fc714fc2abb99db3f024162552c4ba172f4d28::amm_swap::PoolLiquidityCoin<0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT,0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC>"}};function Ho(e,i){const p=Object.values(Xo).filter(g=>e===g.coinA.symbol&&i===g.coinB.symbol||e===g.coinB.symbol&&i===g.coinA.symbol);return p&&p[0]||null}const Jo=Ge({components:{Modal:Do},props:{fromCoin:{type:Object,required:!0},toCoin:{type:Object,required:!0},fromCoinAmount:{type:String,required:!0},toCoinAmount:{type:String,required:!0},impact:{type:Number,required:!0},fee:{type:String,required:!0},fixedFromCoin:{type:Boolean,required:!0},formatFee:{type:String,default:""}},emits:["to-swap","on-close"],setup(e,i){const{t:p,locale:g}=Ve(),B=Ce(),$=Ye();y(()=>$);const c=y(()=>{const S=Ho(e.fromCoin.symbol,e.toCoin.symbol);return Ie(Xe(e.fromCoinAmount).mul(Xe(S.fee).div(100)).toString(),e.fromCoin.decimals)}),P=r(B.slippage||.5),U=r(!0),L=r(!1);function x(S){U.value=S}const M=async()=>{i.emit("to-swap")},Z=Te(),N=y(()=>Z),z=y(()=>N.value.tokensObj&&e.fromCoin.address&&N.value.tokensObj[e.fromCoin.address]&&N.value.tokensObj[e.fromCoin.address].logoURI),Y=y(()=>N.value.tokensObj&&e.toCoin.address&&N.value.tokensObj[e.toCoin.address]&&N.value.tokensObj[e.toCoin.address].logoURI),q=Ce(),C=y(()=>q);return{fromCoinUrl:z,toCoinUrl:Y,t:p,importIcon:le,fixD:K,decimalFormat:Ie,direct:U,changeDirect:x,rateChange:L,clickNextBtn:M,slippage:P,liquidityProviderFee:c,getCoinIcon:S=>{var w;return(S==null?void 0:S.logoURI)||(S==null?void 0:S.logo_url)||((w=N.value.tokensObj[S==null?void 0:S.address])==null?void 0:w.logo_url)||(C.value.theme==="default"?le("/image/coins/unknown.png"):le("/image/coins/sui-unknown.png"))}}}});const be=e=>(Ue("data-v-e08d018f"),e=e(),Oe(),e),Ko=be(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Zo={class:"swap-confirm-container"},zo={class:"card-content"},Yo={class:"top"},Go={class:"coin"},Vo=["src"],xo=be(()=>o("div",{class:"svg-box"},[o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-swap2"})])],-1)),en={class:"coin"},on=["src"],nn={class:"bottom"},sn={class:"induction"},an={class:"item"},tn={class:"induction-text"},ln={class:"induction-value induction-value-change"},un={key:0},rn={key:1},dn=be(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),cn=[dn],mn={class:"item"},vn={class:"induction-text"},fn={class:"induction-value"},pn={class:"item"},gn={class:"induction-text"},Cn={class:"induction-value"},bn={class:"item"},hn={class:"induction-text"},wn={key:0,class:"icon","aria-hidden":"true"},An=be(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Sn=[An],yn={class:"item"},kn={class:"induction-text"},In={class:"induction-value"};function Nn(e,i,p,g,B,$){const c=xe,P=Po("Modal");return f(),F(P,{width:"440px",visible:!0,footer:null,title:e.$t("modal.swapConfirmTitle"),class:"swap-confirm-modal",onCancel:i[2]||(i[2]=U=>e.$emit("on-close"))},{closeIcon:me(()=>[Ko]),default:me(()=>[o("div",Zo,[o("div",zo,[o("div",Yo,[o("div",Go,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,Vo),o("p",null,t(e.fromCoinAmount),1),J("    "),o("p",null,t(e.fromCoin.symbol),1)]),xo,o("div",en,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,on),o("p",null,t(e.toCoinAmount),1),J("    "),o("p",null,t(e.toCoin.symbol),1)])]),o("div",nn,[o("div",sn,[o("div",an,[o("div",tn,t(e.$t("common.rate")),1),o("div",ln,[e.rateChange?(f(),k("span",rn," 1 "+t(e.toCoin.symbol)+" ≈ "+t(("fixD"in e?e.fixD:se(K))(Number(e.fromCoinAmount)/Number(e.toCoinAmount),e.toCoin.decimals))+" "+t(e.fromCoin.symbol),1)):(f(),k("span",un," 1 "+t(e.fromCoin.symbol)+" ≈ "+t(("fixD"in e?e.fixD:se(K))(Number(e.toCoinAmount)/Number(e.fromCoinAmount),e.toCoin.decimals))+" "+t(e.toCoin.symbol),1)),(f(),k("svg",{class:"icon-change","aria-hidden":"true",onClick:i[0]||(i[0]=U=>e.rateChange=!e.rateChange)},cn))])]),o("div",mn,[o("div",vn,t(e.$t("modal.slippageTolerance")),1),o("div",fn,t(e.slippage)+"%",1)]),o("div",pn,[o("div",gn,t(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",Cn,t(e.fixedFromCoin?("fixD"in e?e.fixD:se(K))(e.toCoinAmount-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals):("fixD"in e?e.fixD:se(K))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals))+" "+t(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),o("div",bn,[o("div",hn,t(e.$t("common.priceImpact")),1),o("div",{class:ve(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},[J(t(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(f(),k("svg",wn,Sn)):_("",!0)],2)]),o("div",yn,[o("div",kn,t(e.$t("common.fee")),1),o("div",In,t(e.formatFee)+" "+t(e.fromCoin.symbol)+" ("+t(e.fee*100)+"%) ",1)])])])])]),ie(c,{class:"big-btn swap-confirm-btn",onClick:i[1]||(i[1]=U=>e.clickNextBtn())},{default:me(()=>[J(t(e.$t("button.confirmSwap")),1)]),_:1})]),_:1},8,["title"])}const Tn=Be(Jo,[["render",Nn],["__scopeId","data-v-e08d018f"]]);async function Bn(e){const{prices:i}=await $fetch(`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&id=${e}&days=1&interval=hourly`,{headers:{Connection:"keep-alive",Accept:"*/*"}});return i}const Un={props:{coin:{type:Object,default:()=>({})},refresh:{type:Boolean,default:!1},id:{type:String,default:""}},setup(e,i){const{$echarts:p}=$o();let g=null,B;const $=r(!0),c=(s,l,Q)=>{B={xAxis:{type:"category",boundaryGap:!1,show:!1,data:l},yAxis:{type:"value",show:!1,min:function(b){return b.min-b.min*.1},max:function(b){return b.max+b.max*.1}},grid:{top:1,right:1,bottom:1,left:1},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:N.value.chainName=="Aptos"?"#68FFD8":"#76C8FF"}},formatter:function(b){return`<div class="chart-tip">
              <div>${b&&b[0]&&b[0].name}</div>
              <div>$${K(b&&b[0]&&b[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:N.value.chainName=="Aptos"?"#0C4535":"#2E546D"},{offset:1,color:N.value.chainName=="Aptos"?"#151817":"#1B1B1B"}]},series:[{data:s,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:N.value.chainName=="Aptos"?"#68FFD8":"#76C8FF",width:2,type:"solid"}}]},B&&g.clear(),B&&g.setOption(B,!0),g.resize(),$.value=!1},P=Te(),U=y(()=>P),L=r(""),x=r(""),M=async s=>{var te,re;const l=[],Q=[],b=await Bn(s);L.value=b&&b.length>1&&(b[b.length-1][1]-b[0][1])/b[0][1]*100,x.value=b&&b.length>1&&b[b.length-1][1],b.forEach(T=>{l.push(T[1]);const O=He(T[0],"MD"),a=He(T[0],"HM");Q.push(O+" "+a)});let ue=document.getElementById(`main${(te=e.coin)==null?void 0:te.name}`);g=p.init(ue),c(l,Q,(re=e.coin)==null?void 0:re.name)},Z=Ce(),N=y(()=>Z),z=y(()=>N.value.chainName),Y=y(()=>Oo[z.value]);H(()=>e.id,(s,l)=>{console.log(s,l,"===>oldValue"),console.log(!$.value,"!isFirst.value"),s&&setTimeout(()=>{M(s)},1e3)},{immediate:!0});const q=r(""),C=r(""),G=r(""),S=r("");H(()=>[U.value.tokensObj,e.coin],([s,l])=>{var Q,b;s&&l&&s[l.address]&&(console.log(s[l.address],"===>newValue[coin.address]"),C.value=((Q=s[l.address])==null?void 0:Q.labels)&&((b=s[l.address])==null?void 0:b.labels[0]),q.value=s[l.address].name,G.value=s[l.address].symbol,S.value=s[l.address].address)},{immediate:!0,deep:!0}),H(()=>e.refresh,s=>{s&&M(e.id)});const w=y(()=>N.value.theme);return console.log(e.coin.address=="0x2::sui::SUI","0x2::sui::SUI"),{theme:w,store:Z,importIcon:le,fixD:K,config:Y,price_rate_24h:L,nowPrice:x,coinName:q,coinLabels:C,coinSymbol:G,address:S}}};const On=e=>(Ue("data-v-653fc0d5"),e=e(),Oe(),e),_n={class:"token-info"},Dn={class:"token-info-padding"},Pn={class:"token-info-header"},$n={class:"left"},Fn=["src","onerror"],Rn={class:"name"},jn={class:"desc"},En={class:"right"},Wn={class:"price"},Ln={class:"token-info-footer"},Mn={class:"left"},qn={class:"address"},Qn={key:0,class:"pc-address"},Xn={key:1,class:"pc-address"},Hn={class:"h5-address"},Jn=On(()=>o("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Kn=[Jn],Zn={class:"right"},zn=["id"];function Yn(e,i,p,g,B,$){var c;return f(),k("div",_n,[o("div",Dn,[o("div",Pn,[o("div",$n,[o("img",{src:p.coin.logoURI||g.importIcon(`/image/coins/${p.coin.symbol.toLowerCase()}.png`),onerror:g.theme=="default"?g.importIcon("/image/coins/unknown.png"):g.importIcon("/image/coins/sui-unknown.png")},null,8,Fn),o("div",null,[o("div",Rn,t(g.coinSymbol),1),o("div",jn,[o("span",null,t(g.coinName)+" "+t(g.coinLabels?`(${g.coinLabels})`:""),1)])])]),o("div",En,[o("div",Wn,"$"+t(g.fixD(g.nowPrice,2)),1),g.price_rate_24h?(f(),k("div",{key:0,class:ve(g.price_rate_24h>0?"increase up":g.price_rate_24h<0?"increase down":"increase up")},t(g.price_rate_24h>0?`+ ${g.fixD(g.price_rate_24h,2)}`:g.price_rate_24h<0?+`${g.fixD(g.price_rate_24h,2)}`:`+${g.fixD(g.price_rate_24h,2)}`)+"% ",3)):_("",!0)])]),o("div",Ln,[o("div",Mn,[o("div",qn,[p.coin&&g.address!=="0x2::sui::SUI"?(f(),k("span",Qn,t(p.coin&&p.coin.address.substr(0,13))+" ... "+t(p.coin&&p.coin.address.substr(p.coin.address.length-13,13)),1)):(f(),k("span",Xn,t(p.coin&&p.coin.address),1)),o("span",Hn,t(p.coin&&p.coin.address.substr(0,4))+" ... "+t(p.coin&&p.coin.address.substr(p.coin.address.length-4,4)),1),(f(),k("svg",{class:"icon","aria-hidden":"true",onClick:i[0]||(i[0]=P=>g.store.copy(p.coin&&p.coin.address))},Kn))])]),o("div",Zn,[o("div",{id:`main${(c=p.coin)==null?void 0:c.name}`,class:"main"},null,8,zn)])])])])}const Gn=Be(Un,[["render",Yn],["__scopeId","data-v-653fc0d5"]]),Vn=Ge({setup(){const e=Ze(),i=Fo(Ro,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:p,locale:g}=Ve(),B=Ce(),$=Te(),c=y(()=>$);let P=r(!1),U=r(!1),L=r(!1),x=r(!1),M=r(!1),Z=r(!1);const N=r("fromCoin"),z=r(""),Y=r(""),q=r(!1),C=r(!0),G=r(!1),S=r(!1),w=r(!1),s=r(""),l=r(""),Q=r(20),b=r(0),ue=r(null),te=r(!1),re=y(()=>B.slippage),T=y(()=>B.chainName),O=y(()=>T.value?_o(T.value):{}),a=r(),u=r(),_e=y(()=>$.getPoolInfoSuccess),eo=y(()=>A.value&&A.value.is_pause?"Pool Closed":!a.value||!u.value?p("modal.selectTokenModalTitle"):!A.value&&_e.value?"Pool Not Found":!Number(s.value)||Number(s.value)==0||Number(l.value)==0?p("button.enterAmount"):Number(s.value)>Number(j.value)?p("button.insufficientBalance",{name:a.value.symbol}):te.value?p("button.insufficientLiquidity"):p("button.swap")),oo=n=>{var m,d,I,v;N.value=n,n==="fromCoin"?(z.value=((m=u.value)==null?void 0:m.address)||"",Y.value=((d=a.value)==null?void 0:d.address)||""):(z.value=((I=a.value)==null?void 0:I.address)||"",Y.value=((v=u.value)==null?void 0:v.address)||""),q.value=!0},he=r({}),we=r({}),no=n=>{N.value==="fromCoin"?(he.value=n,Ae(n)):(we.value=n,Ae(n))},so=n=>{n==="fromCoin"?(C.value=!0,T.value==="Aptos"?s.value=j.value>0?a.value.symbol=="APT"?new h(Number(j.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(j.value)).sub(new h(.1)).toString():String(j.value):"":s.value=j.value>0?a.value.symbol=="SUI"?new h(Number(j.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(j.value)).sub(new h(.05)).toString():String(j.value):""):(C.value=!1,T.value==="Aptos"?l.value=E.value>0?u.value.symbol=="APT"?new h(Number(E.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(E.value)).sub(new h(.1)).toString():String(E.value):"":l.value=E.value>0?u.value.symbol=="SUI"?new h(Number(E.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(E.value)).sub(new h(.05)).toString():String(E.value):"")},ao=n=>{n==="fromCoin"?(C.value=!0,s.value=j.value>0?ye(new h(Number(j.value)).div(2).toString(),a.value.decimals).toString():""):(C.value=!1,l.value=E.value>0?ye(new h(Number(E.value)).div(2).toString(),u.value.decimals).toString():"")};jo(()=>{De()}),Eo(()=>{clearInterval(ue.value)});const to=y(()=>B),io=()=>{A.value&&(clearInterval(ue.value),b.value=0,U.value=!0,$.updateCurrentPools(A.value.poolAddress,T.value),de(C.value?s.value:l.value),B.getStatsData(T.value,to.value.filterCoinsObj),setTimeout(()=>{U.value=!1,De()},1e3))},lo=()=>{const n=a.value;a.value=u.value,u.value=n,P.value=!0,C.value=!C.value,C.value?(s.value=l.value,l.value=""):(l.value=s.value,s.value=""),setTimeout(()=>{P.value=!1},300)},De=()=>{ue.value=setInterval(()=>{U.value=!1,G.value||b.value<Q.value&&(b.value+=1,b.value===Q.value&&(A.value&&A.value.poolAddress&&$.updateCurrentPools(A.value.poolAddress,T.value),b.value=0,U.value=!0))},1e3)};H(C,ke((n,m)=>{C.value=n},500));const Pe=r(!1);H(s,ke((n,m)=>{n&&C.value&&de(n),n==""&&C.value&&(l.value="")},500)),H(l,ke((n,m)=>{n&&!C.value&&de(n),n==""&&!C.value&&(s.value="")},500));const $e=r(1e-4),uo=n=>{if(console.log(n,"poolInfo====>"),n.current_sqrt_price&&s.value&&l.value){const d=(a.value.address===n.coinA.address&&u.value.address===n.coinB.address?0:1)==0,I=new h(s.value),v=new h(l.value),D=I.sub(I.mul(new h(n.fee)).div(100));console.log("getImpact###fAmount####",I.toString()),console.log("getImpact###tAmount####",v.toString()),console.log("getImpact###f####",D.toString());const W=v.div(D);return console.log("getImpact####rates####",W.toString()),O.value.getPriceImpactPct(n,W.toString(),d)}return 1e-4},Fe=r(0),Re=r(0),ro=r(),R=r({}),de=async n=>{if(A.value&&(console.log(Number(s.value)==0,"===>Number(fromCoinAmount.value)==0"),!(C.value&&Number(s.value)==0)&&!(!C.value&&Number(l.value)==0)))if(a.value&&u.value&&(s.value||l.value)){S.value=!0,w.value=!0,Pe.value=!0,te.value=!1;const m=a.value.address===A.value.coinA.address&&u.value.address===A.value.coinB.address?0:1;console.log(A.value,"poolInfo=====>451"),console.log(C.value?s.value:l.value,"fixedFromCoin.value ? fromCoinAmount.value : toCoinAmount.value"),console.log(m,"===>direct");try{let d;if(T.value=="Aptos")d=await O.value.preSwap({pool:A.value,a2b:m==0,byAmountIn:C.value,amount:C.value?s.value:l.value});else{console.log(A.value,"poolInfo.value====>"),d=await O.value.preSwapWithMultiPool({poolAddresses:Me.value,coinTypeA:A.value.coin_a_address,coinTypeB:A.value.coin_b_address,decimalsA:A.value.coinA.decimals,decimalsB:A.value.coinB.decimals,a2b:m==0,byAmountIn:C.value,amount:C.value?s.value:l.value});const I=await O.value.getPool(d.poolAddress),v=c.value.poolConfigObj&&c.value.poolConfigObj[d.poolAddress];console.log(v,"==》poolCoinfig"),R.value={...I,fee:v.fee,token_a:v.coinA,token_b:v.coinB,coinA:v.coinA,coinB:v.coinB}}console.log(d,"preSwapRespreSwapRes"),te.value=d==null?void 0:d.isExceed,ro.value=d==null?void 0:d.estimatedFeeAmount,C.value?(l.value=d.estimatedAmountOut,M.value?fe.value=(n/Number(d.estimatedAmountOut)).toString():pe.value=(Number(d.estimatedAmountOut)/n).toString()):(s.value=d.estimatedAmountIn,M.value?fe.value=(Number(d.estimatedAmountIn)/n).toString():pe.value=(n/Number(d.estimatedAmountIn)).toString()),Fe.value=new h(l.value).div(s.value).toString(),Re.value=new h(s.value).div(l.value).toString(),$e.value=uo(R.value||A.value),S.value=!1,w.value=!1}catch(d){console.log("pre swap error",d),S.value=!1,w.value=!1}}else C.value?l.value="":s.value="",S.value=!1,w.value=!1},co=Ye(),X=y(()=>co),mo=r({}),fe=r(""),pe=r("");H(P,()=>{fe.value="",pe.value="",C.value?de(s.value):de(l.value)});const j=y(()=>X.value.assets&&a.value&&X.value.assets[a.value.address]?Je(X.value.assets[a.value.address].balance,a.value.decimals):0),E=y(()=>X.value.assets&&u.value&&X.value.assets[u.value.address]?Je(X.value.assets[u.value.address].balance,u.value.decimals):0),vo=Ze();H(()=>c.value.tokensObj,async n=>{if(!Ke(n)){console.log(n,"===>newValue626"),console.log(vo,"===>route625");const m=e?e.currentRoute.value.query.to:"",d=e?e.currentRoute.value.query.from:"";d?a.value=await O.value.getTokenBySymbol(n,d):!d&&!a.value&&(a.value=await O.value.getTokenBySymbol(n,B.chainName==="Aptos"?"0x3cfe7b9f6106808a8178ebd2d5ae6656cd0ccec15d33e63fd857c180bde8da75::coin::CetusUSDC":"0x4d892ceccd1497b9be7701e09d51c580bc83f22c9c97050821b373a77d0d9a9e::usdc::USDC"),console.log(a.value,"===>fromCoin.value")),m?u.value=await O.value.getTokenBySymbol(n,m):!m&&!u.value&&(u.value=await O.value.getTokenBySymbol(n,B.chainName==="Aptos"?"0x1::aptos_coin::AptosCoin":"0x2::sui::SUI")),!d&&m&&(a.value="")}},{immediate:!0});const A=y(()=>{var n;if(a.value&&u.value){let m=null;const d={};Object.values(c.value.poolConfigList).forEach(v=>{var D,W,V,ee;(v.coinA.address.toUpperCase()===((D=a.value.address)==null?void 0:D.toUpperCase())&&v.coinB.address.toUpperCase()===((W=u.value.address)==null?void 0:W.toUpperCase())||v.coinB.address.toUpperCase()===((V=a.value.address)==null?void 0:V.toUpperCase())&&v.coinA.address.toUpperCase()===((ee=u.value.address)==null?void 0:ee.toUpperCase()))&&(d[v.address]={...v})});const I=Object.values(d).sort((v,D)=>v.fee-D.fee);console.log("0507####swap###poolInfo###poolSortList###",I);for(let v=0;v<I.length;v++)if(!((n=I[v])!=null&&n.is_pause)){m=I[v];break}return console.log("0507####swap###poolInfo###info###",m),m&&!Ke(m)?m:null}return null}),je=r(!0),Ee=r(!1),fo=async n=>{n&&(de(C.value?s.value:l.value),Ee.value=!0,n.coinA.symbol.toLowerCase()===a.value.symbol.toLowerCase()&&n.coinB.symbol.toLowerCase()===u.value.symbol.toLowerCase()?je.value=!0:je.value=!1,te.value=!1)};H(()=>A.value,(n,m)=>{n&&(!m||n.address!==m.address||n.current_sqrt_price!==m.current_sqrt_price)&&fo(n)},{immediate:!0,deep:!0});const po=y(()=>c.value.tokensObj&&a.value&&a.value.address&&c.value.tokensObj[a.value.address]&&c.value.tokensObj[a.value.address].logoURI),go=y(()=>(console.log(c.value.tokensObj,"===>pools.value.tokensObj"),c.value.tokensObj&&u.value&&u.value.address&&c.value.tokensObj[u.value.address]&&c.value.tokensObj[u.value.address].logoURI)),Co=y(()=>c.value.tokensObj&&a.value&&a.value.address&&c.value.tokensObj[a.value.address]&&c.value.tokensObj[a.value.address].coingecko_id||null),bo=y(()=>c.value.tokensObj&&u.value&&u.value.address&&c.value.tokensObj[u.value.address]&&c.value.tokensObj[u.value.address].coingecko_id||null),ho=y(()=>{var I,v,D;const n=new h(s.value);console.log(R.value,"===>toAddLiquidiPoolInfo"),console.log((I=R==null?void 0:R.value)==null?void 0:I.fee,"toAddLiquidiPoolInfo?.value?.fee");const m=new h(T.value=="Aptos"?(v=A==null?void 0:A.value)==null?void 0:v.fee:(D=R==null?void 0:R.value)==null?void 0:D.fee),d=n.mul(m).toString();return console.log(d,"===>fee"),Number(d)<1/Math.pow(10,a.value.decimals)?`<${new h(1).div(new h(Math.pow(10,a.value.decimals))).toString()}`:ye(d,a.value.decimals)}),{setIsShowSuccess:wo,setIsShowRejected:We,setIsShowWaiting:ge,setTransactionDesc:Ao,setTransactionTxid:Le}=B,So=async()=>{var m,d,I,v,D,W,V,ee;Z.value=!1,S.value=!0,Le(""),Ao(p("tips.swapping",{from:`${s.value} ${(m=a.value)==null?void 0:m.symbol}`,to:`${l.value} ${(d=u.value)==null?void 0:d.symbol}`})),ge(!0);let n=a.value.address===A.value.token_a.address&&u.value.address===A.value.token_b.address?0:1;try{console.log("0221####swap start####",T.value,"###",O),console.log("0412###toSwap###poolInfo.value###",A.value);let oe;T.value=="Aptos"?oe=await O.value.getSwapTransactionPayload({pool:A.value,a2b:n==0,byAmountIn:C.value,amount:C.value?s.value:l.value,slippage:Number(re.value)/100}):(console.log(R.value,"===>toAddLiquidiPoolInfo.value"),oe=await O.value.getSwapTransactionPayload({pool:R.value,a2b:n==0,byAmountIn:C.value,amount:C.value?s.value:l.value,slippage:Number(re.value)/100})),console.log("0221####swap###swapPayload###",oe);let ne;if(T.value==="Aptos")ne=await X.value.currentWallet.signAndSubmitTransaction(oe);else{console.log("0221###swap###sui##signAndExecuteTransaction前###",T.value,"###swapPayload###",oe);const ce=await X.value.currentWallet.signAndExecuteTransactionBlock(oe);console.log("0221###sui swap res###",ce),ne=O.value.handleTx(ce),console.log("0221###swap###sui##tx###",ne)}if(ne&&ne.hash){Le(ne.hash),ge(!1),wo(!0);const ce={title:p("tips.swap"),desc:p("tips.swapSuccessText",{from:`${s.value} ${(I=a.value)==null?void 0:I.symbol}`,to:`${l.value} ${(v=u.value)==null?void 0:v.symbol}`}),hash:ne.hash,tit:"Swap",icon:"icon-icon-swap1",tokenInfo:{tokena:`${(D=a.value)==null?void 0:D.address}`,numa:`- ${s.value}`,logoa:c.value.tokensObj&&a.value&&a.value.address&&c.value.tokensObj[a.value.address]&&c.value.tokensObj[a.value.address].logoURI,tokenb:`${(W=u.value)==null?void 0:W.address}`,numb:`+ ${l.value}`,logob:c.value.tokensObj&&u.value&&u.value.address&&c.value.tokensObj[u.value.address]&&c.value.tokensObj[u.value.address].logoURI},text:`Pay ${s.value} ${(V=a.value)==null?void 0:V.symbol} to receive ${l.value} ${(ee=u.value)==null?void 0:ee.symbol}`};T.value!=="Aptos"&&(ce.res=ne.res),O.value.showTransitionPending(ce);const Qe=await O.value.watchTransaction(ce);console.log("0221###swap###transitionStatus####",Qe),Qe&&setTimeout(()=>{$.updateCurrentPools(A.value.poolAddress,T.value),O.value.getAccount(X.value.address)},1e3)}else ge(!1),We(!0);s.value="",l.value="",S.value=!1}catch(oe){s.value="",l.value="",console.log("Swap Error###",oe),S.value=!1,ge(!1),We(!0)}},yo=n=>{var m;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((m=c.value.tokensObj[n==null?void 0:n.address])==null?void 0:m.logo_url)||(B.theme==="default"?le("/image/coins/unknown.png"):le("/image/coins/sui-unknown.png"))},Me=r([]);H(()=>[a.value,u.value,c.value.poolConfigList],([n,m,d])=>{if(d&&d.length>0&&n&&m){const I=[];d.forEach(v=>{var D,W,V,ee;(v.coinA.address.toUpperCase()===((D=n.address)==null?void 0:D.toUpperCase())&&v.coinB.address.toUpperCase()===((W=m.address)==null?void 0:W.toUpperCase())||v.coinB.address.toUpperCase()===((V=n.address)==null?void 0:V.toUpperCase())&&v.coinA.address.toUpperCase()===((ee=m.address)==null?void 0:ee.toUpperCase()))&&(v.is_pause||I.push(v.address))}),console.log(I,"result===>"),Me.value=I}},{immediate:!0});const Ae=n=>{console.log(N.value,"===>currentCoinKey.value"),console.log(n);const m=localStorage.getItem(n.address);console.log(c.value.tokensObj,"===>pools.value.tokensObj"),console.log(m,"===>coinLocak"),c.value.tokensObj&&c.value.tokensObj[n.address]&&c.value.tokensObj[n.address].isSelfBuilt&&!m?Se.value=!0:(N.value==="fromCoin"?(s.value="",u.value&&n.address.toLowerCase()===(u==null?void 0:u.value.address.toLowerCase())&&(u.value=null),a.value=n):(a.value&&(l.value="",n.address.toLowerCase()===(a==null?void 0:a.value.address.toLowerCase())&&(a.value=null)),u.value=n),qe())},Se=r(!1),qe=()=>{we.value={},he.value={},Se.value=!1};return{closeTokenWarning:qe,isShowTokenWarning:Se,getTokenSource:Ae,hasPool:Ee,getPoolInfoSuccess:_e,halfBtnSelect:ao,formCoinId:Co,toCoinId:bo,fromCoinUrl:po,toCoinUrl:go,t:p,indicator:i,wallet:X,currentLpInfo:mo,fixD:K,decimalFormat:Ie,impact:$e,oneFromAmount:fe,oneToAmount:pe,importIcon:le,clickExchange:lo,clickRefresh:io,refresh:U,change:P,isShowAddress:L,isShowSwapSetting:x,fromCoin:a,toCoin:u,slippage:re,openCoinSelect:oo,onCoinSelect:no,existingCoins:z,lastSelectCoin:Y,currentCoinKey:N,showCoinSelect:q,fromCoinAmount:s,toCoinAmount:l,maxBtnSelect:so,fixedFromCoin:C,swapBtnText:eo,toSwap:So,loading:G,swaping:S,autoRefreshTime:Q,countdown:b,marketTimer:ue,rateChange:M,isSwapConfirmMpdal:Z,fromCoinBlance:j,toCoinBlance:E,poolInfo:A,chainName:T,swapRouterLoading:Pe,formatFee:ho,calculating:w,currentRate:Fe,currentRateReverse:Re,getCoinIcon:yo,toAddLiquidiPoolInfo:R,decimalUi:Ne,warningToCoin:we,warningFromCoin:he}}}),xn="data:image/png;base64,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";const ae=e=>(Ue("data-v-346a80f2"),e=e(),Oe(),e),es={class:"swap-container"},os={class:"title"},ns={class:"left"},ss={class:"right title-right"},as=ae(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),ts={class:"swap-card"},is={class:"card-container"},ls={class:"card-item"},us={class:"card-item"},rs=ae(()=>o("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),ds=[rs],cs={key:0,class:"induction"},ms={key:0,class:"exchange-rate-btn"},vs={key:0},fs=["src"],ps={key:0},gs=["src"],Cs={key:0},bs={key:1},hs={key:0},ws=["src"],As=["src"],Ss=ae(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),ys=[Ss],ks={class:"item"},Is={class:"induction-text"},Ns={key:0,class:"icon","aria-hidden":"true"},Ts=ae(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Bs=[Ts],Us={class:"item"},Os={class:"induction-text"},_s={key:0,class:"induction-value"},Ds={class:"item"},Ps={class:"induction-text"},$s={key:0,class:"induction-value"},Fs={key:0,class:"icon","aria-hidden":"true"},Rs=ae(()=>o("use",{"xlink:href":"#icon-icon-swap"},null,-1)),js=[Rs],Es={key:3,class:"token-info-container"},Ws={class:"token-info-title"},Ls=ae(()=>o("span",{class:"coingecko"},"Ref. CoinGecko",-1)),Ms=ae(()=>o("img",{src:xn,alt:""},null,-1)),qs=ae(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-information"})],-1));function Qs(e,i,p,g,B,$){var G,S;const c=ko,P=No,U=Lo,L=qo,x=xe,M=Bo,Z=To,N=Uo,z=Tn,Y=Mo,q=Gn,C=Io;return f(),k("div",es,[o("div",os,[o("div",ns,t(e.$t("menu.swap")),1),o("div",ss,[o("div",{class:"slippage-icon",onClick:i[0]||(i[0]=w=>e.isShowSwapSetting=!0)},[as,o("span",null,t(e.slippage)+"%",1)]),ie(c,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),o("div",ts,[o("div",is,[o("div",ls,[ie(P,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":i[1]||(i[1]=w=>e.fromCoinAmount=w),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logo_url:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:i[2]||(i[2]=w=>e.maxBtnSelect("fromCoin")),onOnHalf:i[3]||(i[3]=w=>e.halfBtnSelect("fromCoin")),onOnInput:i[4]||(i[4]=w=>{e.fromCoinAmount=w,e.fixedFromCoin=!0}),onOnSelect:i[5]||(i[5]=w=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("div",us,[ie(P,{modelValue:e.toCoinAmount,"onUpdate:modelValue":i[6]||(i[6]=w=>e.toCoinAmount=w),"input-value":e.toCoinAmount,havemax:!1,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logo_url:"",address:e.toCoin?e.toCoin.address:"",onOnInput:i[7]||(i[7]=w=>{e.toCoinAmount=w,e.fixedFromCoin=!1}),onOnSelect:i[8]||(i[8]=w=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("img",{class:ve(e.change?"gang animationex":"gang"),src:Qo,alt:""},null,2),o("div",{class:"exchange",onClick:i[9]||(i[9]=w=>e.clickExchange())},[(f(),k("svg",{class:ve(e.change?"icon animationex":"icon"),"aria-hidden":"true"},ds,2))])]),e.poolInfo&&e.fromCoinAmount&&e.toCoinAmount&&e.fromCoinAmount!=="0"&&e.toCoinAmount!=="0"&&e.swapBtnText!==e.$t("button.poolNotFound")?(f(),k("div",cs,[Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(f(),k("div",ms,[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(f(),k("span",bs,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(f(),k("span",hs,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,ws),J(" 1 "+t(e.toCoin.symbol)+" ≈ ",1),o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,As),o("span",null,t(("decimalUi"in e?e.decimalUi:se(Ne))(e.currentRateReverse,e.fromCoin.decimals)),1),J("  "+t(e.fromCoin.symbol),1)])):(f(),F(U,{key:1,indicator:e.indicator},null,8,["indicator"]))])):_("",!0):(f(),k("span",vs,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,fs),J(" 1 "+t(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(f(),k("span",ps,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,gs),e.calculating?_("",!0):(f(),k("span",Cs,t(("decimalUi"in e?e.decimalUi:se(Ne))(e.currentRate,e.toCoin.decimals)),1)),e.calculating?(f(),F(U,{key:1,indicator:e.indicator},null,8,["indicator"])):_("",!0),J("  "+t(e.toCoin.symbol),1)])):(f(),F(U,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(f(),k("svg",{class:"icon-change","aria-hidden":"true",onClick:i[10]||(i[10]=w=>e.rateChange=!e.rateChange)},ys))])):_("",!0),Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(f(),k(Wo,{key:1},[o("div",ks,[o("div",Is,t(e.$t("common.priceImpact")),1),e.swaping?(f(),F(L,{key:1,paragraph:!1,active:""})):(f(),k("div",{key:0,class:ve(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},[J(t(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(f(),k("svg",Ns,Bs)):_("",!0)],2))]),o("div",Us,[o("div",Os,t(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swaping?(f(),F(L,{key:1,paragraph:!1,active:""})):(f(),k("div",_s,t(e.fixedFromCoin?("fixD"in e?e.fixD:se(K))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals):("fixD"in e?e.fixD:se(K))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals))+" "+t(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",Ds,[o("div",Ps,t(e.$t("common.fee")),1),e.swaping?(f(),F(L,{key:1,paragraph:!1,active:""})):(f(),k("div",$s,t(e.formatFee)+" "+t(e.fromCoin.symbol)+" ("+t(e.chainName=="Aptos"?e.poolInfo.fee*100:((G=e.toAddLiquidiPoolInfo)==null?void 0:G.fee)*100)+"%) ",1))])],64)):_("",!0)])):_("",!0)]),ie(x,{disabled:e.wallet.connected?e.swaping||!e.fromCoin||!e.toCoin||!Number(e.fromCoinAmount)||!Number(e.toCoinAmount)||Number(e.fromCoinAmount)>Number(e.fromCoinBlance)||e.swapBtnText==e.$t("button.poolNotFound")||e.swapBtnText!==e.$t("button.swap")||e.poolInfo.is_pause:!1,class:"big-btn",loading:e.swaping,onClick:i[11]||(i[11]=w=>e.wallet.connected?e.isSwapConfirmMpdal=!0:e.wallet.setIsShowWalletModal(!0))},{default:me(()=>[e.wallet.connected?(f(),k("svg",Fs,js)):_("",!0),o("span",null,t(e.wallet.connected?e.swapBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),ie(M),e.showCoinSelect?(f(),F(Z,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:i[12]||(i[12]=w=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):_("",!0),e.isShowSwapSetting?(f(),F(N,{key:1,onOnClose:i[13]||(i[13]=w=>e.isShowSwapSetting=!1)})):_("",!0),e.isSwapConfirmMpdal?(f(),F(z,{key:2,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,impact:e.impact,fee:e.chainName=="Aptos"?e.poolInfo.fee:(S=e.toAddLiquidiPoolInfo)==null?void 0:S.fee,"format-fee":e.formatFee,onOnClose:i[14]||(i[14]=w=>e.isSwapConfirmMpdal=!1),onToSwap:e.toSwap},null,8,["fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","impact","fee","format-fee","onToSwap"])):_("",!0),e.chainName&&(e.formCoinId||e.toCoinId)?(f(),k("div",Es,[o("div",Ws,[Ls,Ms,ie(Y,{placement:"top","arrow-point-at-center":""},{title:me(()=>[J(" The following price is only an external reference from CoinGecko, which may not reflect actual data on Cetus. ")]),default:me(()=>[qs]),_:1})]),e.fromCoin&&e.formCoinId?(f(),F(q,{key:0,id:e.formCoinId,coin:e.fromCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):_("",!0),e.toCoin&&e.toCoinId?(f(),F(q,{key:1,id:e.toCoinId,coin:e.toCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):_("",!0)])):_("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(f(),F(C,{key:4,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:e.getTokenSource},null,8,["from-coin","to-coin","onClose","onClickContinue"])):_("",!0)])}const ta=Be(Vn,[["render",Qs],["__scopeId","data-v-346a80f2"]]);export{ta as default};
